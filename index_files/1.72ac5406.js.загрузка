(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"1f6d":function(t,e,a){"use strict";var s=a("2797"),r=a.n(s);r.a},2797:function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=i,t.exports=r,r.id="4678"},5226:function(t,e,a){"use strict";var s=a("66e4"),r=a.n(s);r.a},"66e4":function(t,e,a){},b3ce:function(t,e,a){},b91a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex flex-center"},[a("q-dialog",{attrs:{seamless:"",maximized:t.isMobile},model:{value:t.dialogGiftImage,callback:function(e){t.dialogGiftImage=e},expression:"dialogGiftImage"}},[a("gift-image")],1),t.hiWindow?a("div",{staticClass:"flex flex-center absolute fit bg-white",staticStyle:{"z-index":"10"}},[a("div",{staticClass:"text-center",staticStyle:{width:"500px"}},[a("div",{staticClass:"q-mb-md"},t._l(t.langsApp,(function(e){return a("q-btn",{key:e.name,staticClass:"q-ml-xs",attrs:{flat:""},on:{click:function(a){t.$i18n.locale=e.name}}},[a("country-flag",{attrs:{country:"en"==e.name?"us":e.name,size:"small"}}),a("span",{staticClass:"q-ml-xs"},[t._v(t._s(e.name))])],1)})),1),a("div",{staticClass:"items-center"},[a("img",{attrs:{src:"statics/img/logo_Emmi.fun.jpg",width:t.isMobile?100:200}})]),a("div",{staticStyle:{"font-size":"30px","font-family":"Neucha"}},[t._v("\n          "+t._s(t.$t("main.emotional_postcards"))+" \n        ")]),t.isMobile?t._e():a("div",{staticStyle:{"font-size":"15px","font-family":"Neucha"}},[a("span",{domProps:{innerHTML:t._s(t.$t("main.now_mobile"))}})]),a("div",{staticClass:"items-center q-mt-lg"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:"create"==t.cardMode,expression:"cardMode=='create'"}],staticClass:"btn-create-card",attrs:{rounded:"",color:"accent",label:t.$t("main.create_postcard"),to:"/"},on:{click:function(e){t.hiWindow=!1}}})],1)])]):t._e(),a("q-dialog",{staticStyle:{"z-index":"9"},attrs:{persistent:"",maximized:t.isMobile},on:{show:function(e){t.menuMobile=!1}},model:{value:t.dialogMenu,callback:function(e){t.dialogMenu=e},expression:"dialogMenu"}},[a("q-card",{directives:[{name:"show",rawName:"v-show",value:t.isReady,expression:"isReady"}],style:{"min-width":t.isMobile?"auto":"800px"},attrs:{flat:""}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[a("span",{staticClass:"text-body1 q-ml-sm"},[t._v(t._s(t.$t("main.menu")))])]),a("div",{staticClass:"q-mr-md"},t._l(t.langsApp,(function(e){return a("q-btn",{key:e.name,staticClass:"q-ml-xs",attrs:{flat:""},on:{click:function(a){t.$i18n.locale=e.name}}},[a("country-flag",{attrs:{country:"en"==e.name?"us":e.name,size:"small"}}),a("span",{staticClass:"q-ml-xs"},[t._v(t._s(e.name))])],1)})),1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"q-pa-xs"},[a("dialog-menu")],1)],1)],1),a("q-page-sticky",{staticStyle:{"z-index":"2"},attrs:{position:"top-left",offset:[10,10]}},["create"==t.cardMode?a("q-btn",{attrs:{round:"",size:"sm",color:"white","text-color":"primary",icon:"menu"},on:{click:function(e){t.dialogMenu=!0}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary"}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.menu")))])])],1):t._e(),"view"==t.cardMode&&t.music&&t.datacard.options.hasOwnProperty("music")&&t.isMobile&&""!=t.datacard.options.music.file?a("q-btn",{attrs:{"no-caps":"",round:"",color:"white","text-color":"primary",icon:t.music.playing()?"music_note":"music_off"},on:{click:function(e){t.music.playing()?t.music.pause():t.music.play()}}}):t._e()],1),t.$q.screen.width<t.$q.screen.height?a("div",{staticClass:"flex flex-center fit bg-white absolute items-center",staticStyle:{"z-index":"100000"}},[a("div",[a("img",{attrs:{src:"statics/img/turn-landscape.gif",height:"200",width:"200",alt:""}})]),a("div",{staticClass:"q-mt-md q-pa-md text-center"},[t._v(t._s(t.$t("main.turn_device")))])]):t._e(),a("q-page-sticky",{staticStyle:{"z-index":"2"},attrs:{position:"top-right",offset:[10,10]}},[a("q-btn",{attrs:{round:"",size:"sm",color:"white","text-color":"primary",icon:t.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen"},on:{click:function(e){return t.$q.fullscreen.toggle()}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary"}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.full_screen")))])])],1)],1),a("q-dialog",{attrs:{persistent:"",maximized:t.isMobile},model:{value:t.dialogCardReady,callback:function(e){t.dialogCardReady=e},expression:"dialogCardReady"}},[a("q-card",{directives:[{name:"show",rawName:"v-show",value:t.isReady,expression:"isReady"}],style:{"min-width":t.isMobile?"auto":"800px"},attrs:{flat:""}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",[a("q-icon",{attrs:{name:"fas fa-paper-plane"}}),a("span",{staticClass:"text-body1 q-ml-sm"},[t._v(t._s(t.$t("main.send_postcard")))])],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"row q-pa-none"},[a("q-card",{staticClass:"col",attrs:{flat:""}},[a("q-card-section",{staticClass:"row",attrs:{align:"center"}},[a("div",{staticClass:"col"},[a("div",{staticClass:"q-mt-sm"},[t._v("\n                "+t._s(t.$t("main.share_text"))+"\n              ")]),a("yandex-share",{staticClass:"q-mt-md q-mb-lg",attrs:{size:"s",services:["vkontakte","odnoklassniki","facebook","twitter","telegram","viber","whatsapp"],title:t.$t("main.you_got_postcard"),url:t.host+"/#/card/"+t.uniqcard}}),a("div",{staticStyle:{"font-size":"16px",color:"red"}},[t._v(t._s(t.$t("main.warning_link")))])],1),a("div",{staticClass:"col"},[a("div",{staticClass:"text-primary q-pa-sm",staticStyle:{"font-size":"16px",border:"solid 1px"}},[t._v(t._s(t.host+"/#/card/"+t.uniqcard))]),a("q-btn",{staticClass:"q-ma-lg",attrs:{rounded:"","no-caps":"",size:"lg",color:"accent",label:t.$t("main.copy_link")},on:{click:t.onCopyClipboard}})],1)])],1)],1)],1)],1),t.isMobile?t._e():a("q-dialog",{attrs:{seamless:"",persistent:"",position:"right"},model:{value:t.dialogActionBnts,callback:function(e){t.dialogActionBnts=e},expression:"dialogActionBnts"}},[a("q-card",{directives:[{name:"show",rawName:"v-show",value:""==t.settingsMode&&"create"==t.cardMode&&!t.hiWindow,expression:"settingsMode=='' && cardMode=='create' && !hiWindow"}],staticClass:"transparent btns-menu",attrs:{flat:""}},[a("q-card-section",{staticClass:"q-pa-none",staticStyle:{"max-width":"60px",overflow:"hidden"}},t._l(t.menu,(function(e){return a("q-btn",{key:e.name,staticClass:"bg-white text-primary q-ma-sm",attrs:{dense:"",round:"",size:"18px"},on:{click:function(a){t.$refs.captchaMenu.hide(),t.setSettingsMode(e.name)}}},[a("q-icon",{attrs:{name:e.icon,size:"26px"}}),a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary"}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.label))])])],1)})),1)],1)],1),t.datacard&&t.datacard.hasOwnProperty("options")&&t.isReady?a("div",{staticClass:"absolute fit",style:{"background-image":"url("+t.datacard.options.bgtexture.src+")",filter:"hue-rotate("+t.datacard.options.bgtexture.filters.hue+"deg) \n                      saturate("+t.datacard.options.bgtexture.filters.saturate+"%)\n                      brightness("+t.datacard.options.bgtexture.filters.brightness+"%)\n                      sepia("+t.datacard.options.bgtexture.filters.sepia+"%)\n                      contrast("+t.datacard.options.bgtexture.filters.contrast+"%)\n                      blur("+t.datacard.options.bgtexture.filters.blur+"px)\n                      "}}):t._e(),a("card-flip",{directives:[{name:"show",rawName:"v-show",value:t.isReady,expression:"isReady"}],ref:"cardFlip",staticStyle:{width:"800px",height:"400px",position:"absolute","z-index":"1"},style:{transform:"scale("+t.scaleCard+")","transform-origin":"center center"},attrs:{id:"cardFlip"}}),a("q-page-sticky",{directives:[{name:"show",rawName:"v-show",value:t.isReady&&!t.dialogCardReady&&!t.isMobile,expression:"isReady && !dialogCardReady && !isMobile"}],staticStyle:{"z-index":"2"},attrs:{position:"bottom",offset:[0,20]}},["create"==t.cardMode&&""==t.settingsMode?a("q-btn",{staticClass:"q-ma-sm text-bold",attrs:{"no-caps":"",rounded:"",size:"md",icon:"check",label:t.$t("main.postcard_ready"),color:"accent"}},[a("q-menu",{ref:"captchaMenu",attrs:{persistent:"",anchor:"top middle",self:"bottom middle",offset:[0,10]},on:{"before-show":function(e){t.form.gRecaptchaResponse=""},show:function(e){t.$refs.captcha&&t.$refs.captcha.execute()}}},[t.datacard&&t.datacard.hasOwnProperty("slides")&&0==t.datacard.slides[t.currSlide].textSide.options.phrases.length||t.datacard&&t.datacard.hasOwnProperty("slides")&&"none"==t.datacard.slides[t.currSlide].imageSide.images[0].src?a("q-card-section",{staticClass:"q-pa-md",staticStyle:{"max-width":"350px"},attrs:{align:"center"}},[a("div",{staticClass:"text-primary q-pa-sm text-left",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.must_add")))]),a("ul",{staticClass:"text-left text-primary q-pa-none",staticStyle:{"font-size":"16px","list-style":"none"}},[t.datacard&&t.datacard.hasOwnProperty("slides")&&0==t.datacard.slides[t.currSlide].textSide.options.phrases.length?a("li",{staticClass:"q-mt-sm"},[a("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",size:"md",icon:"icon-add-anim-text"},on:{click:function(e){t.$refs.captchaMenu.hide(),t.setSettingsMode("text")}}}),a("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.$t("main.text")))])],1):t._e(),t.datacard&&t.datacard.hasOwnProperty("slides")&&"none"==t.datacard.slides[t.currSlide].imageSide.images[0].src?a("li",{staticClass:"q-mt-sm"},[a("q-btn",{staticClass:"q-mr-xs",attrs:{round:"",size:"md",icon:"icon-add-image"},on:{click:function(e){t.$refs.captchaMenu.hide(),t.setSettingsMode("image")}}}),a("span",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.$t("main.photo")))])],1):t._e()]),a("q-separator"),a("div",{staticClass:"text-primary q-mt-sm text-left"},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"icon-brush",size:"20px"}}),t._v("\n              "+t._s(t.$t("main.attention_cover"))+"\n            ")],1),a("q-btn",{staticClass:"q-mt-md",attrs:{"no-caps":"",color:"primary",label:t.$t("main.clearly"),size:"20px"},on:{click:function(e){t.$refs.captchaMenu&&t.$refs.captchaMenu.hide()}}})],1):t._e(),t.datacard&&t.datacard.hasOwnProperty("slides")&&t.datacard.slides[t.currSlide].textSide.options.phrases.length>0&&"none"!=t.datacard.slides[t.currSlide].imageSide.images[0].src?a("q-card-section",{staticClass:"q-pa-md"},[a("q-form",{on:{submit:function(e){return e.preventDefault(),t.createCard(e)}}},[a("div",[a("google-re-captcha-v3",{ref:"captcha",attrs:{"site-key":t.siteKey,id:"addcard_id",inline:!1,action:"addcard"},model:{value:t.form.gRecaptchaResponse,callback:function(e){t.$set(t.form,"gRecaptchaResponse",e)},expression:"form.gRecaptchaResponse"}})],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:t.$t("main.cancel"),icon:"close"}}),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",type:"submit",icon:"link",color:"primary",label:t.$t("main.get_link"),loading:""==t.form.gRecaptchaResponse}})],1)],1):t._e()],1)],1):t._e(),"view"==t.cardMode?a("q-btn",{staticClass:"bg-white text-primary q-ma-sm text-bold",attrs:{"no-caps":"",rounded:"",icon:"fas fa-paper-plane",size:"md",label:t.$t("main.reply")}},[a("q-menu",{ref:"newAdd",attrs:{anchor:"top middle",self:"bottom middle",offset:[0,10]}},[a("q-card",[a("q-card-section",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:t.$t("main.cancel"),icon:"close"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",icon:"icon-postcard",color:"primary",label:t.$t("main.postcard_create"),type:"a",href:"/"}})],1)],1)],1)],1):t._e(),t.music&&t.datacard.options.hasOwnProperty("music")&&""!=t.datacard.options.music.file?a("q-btn",{staticClass:"bg-white text-primary q-ma-sm text-bold",attrs:{"no-caps":"",rounded:"",icon:t.music.playing()?"music_note":"music_off",size:"md",label:t.$t("main.music"),loading:!t.musicIsloaded},on:{click:function(e){t.music.playing()?t.music.pause():t.music.play()}}}):t._e()],1),a("q-page-sticky",{staticStyle:{"z-index":"2"},attrs:{position:"bottom-left",offset:[10,15]}},[t.isMobile&&"create"==t.cardMode&&""==t.settingsMode?a("q-fab",{attrs:{id:"addMenuMobileBtn","vertical-actions-align":"right",color:"white","text-color":"primary",icon:"add",direction:t.directionAddBtnMenuMobile},model:{value:t.menuMobile,callback:function(e){t.menuMobile=e},expression:"menuMobile"}},t._l(t.menu,(function(e){return a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.name,staticClass:"q-pl-xs q-pr-xs q-pt-sm",staticStyle:{"min-width":"100px"},attrs:{"no-caps":"",stack:"","label-position":"left",color:"primary",icon:e.icon,label:e.label},on:{click:function(a){t.menuMobile=!1,t.$refs.captchaMenu.hide(),t.setSettingsMode(e.name)}}})})),1):t._e(),t.isMobile&&"view"==t.cardMode?a("q-btn",{attrs:{"no-caps":"",round:"",color:"white","text-color":"primary",icon:"fas fa-paper-plane"}},[a("q-menu",{attrs:{offset:[0,10],"max-height":"500px"}},[a("q-card",[a("q-card-section",{staticStyle:{width:"300px"},attrs:{align:"center"}},[t._v("\n            "+t._s(t.$t("main.want_create"))+"\n          ")]),a("q-card-section",{staticClass:"row full-width"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col",attrs:{"no-caps":"",label:t.$t("main.no_later"),icon:"close"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-md col",attrs:{"no-caps":"",label:t.$t("main.yes_iwant"),color:"primary","text-color":"white",icon:"check",type:"a",href:"/"}})],1)],1)],1)],1):t._e()],1),(t.datacard&&t.datacard.hasOwnProperty("slides")&&0==t.datacard.slides[t.currSlide].textSide.options.phrases.length||t.datacard&&t.datacard.hasOwnProperty("slides")&&"none"==t.datacard.slides[t.currSlide].imageSide.images[0].src)&&"create"==t.cardMode&&t.isMobile&&t.menuMobile?a("q-card",{staticClass:"q-pt-sm q-pb-sm absolute text-primary",staticStyle:{"min-width":"100px","z-index":"10000"}},[a("q-card-section",{staticClass:"q-pa-sm",attrs:{align:"center"}},[a("q-icon",{attrs:{name:"info",size:"30px"}}),a("span",{staticClass:"q-mt-md q-ml-xs"},[t._v("\n     "+t._s(t.$t("main.add_text_photo"))+"\n   ")])],1)],1):t._e(),t.datacard&&t.datacard.hasOwnProperty("slides")&&t.datacard.slides[t.currSlide].textSide.options.phrases.length>0&&t.datacard&&t.datacard.hasOwnProperty("slides")&&"none"!=t.datacard.slides[t.currSlide].imageSide.images[0].src&&t.menuMobile&&"create"==t.cardMode&&t.isMobile?a("q-btn",{staticClass:"q-pt-sm q-pb-sm absolute",staticStyle:{"min-width":"100px","z-index":"10000"},attrs:{"no-caps":"",stack:"","label-position":"left",color:"accent"}},[a("q-icon",{attrs:{name:"fas fa-paper-plane",size:"30px"}}),a("span",{staticClass:"q-mt-sm"},[t._v(t._s(t.$t("main.postcard_ready")))]),a("q-menu",{attrs:{anchor:"top middle",self:"bottom middle",offset:[0,10]},on:{"before-show":function(e){t.form.gRecaptchaResponse=""},show:function(e){t.$refs.captcha&&t.$refs.captcha.execute()}}},[a("q-card",[a("q-card-section",[a("q-form",{on:{submit:function(e){return e.preventDefault(),t.createCard(e)}}},[a("div",[a("google-re-captcha-v3",{ref:"captcha",attrs:{"site-key":t.siteKey,id:"addcard_id",inline:!1,action:"addcard"},model:{value:t.form.gRecaptchaResponse,callback:function(e){t.$set(t.form,"gRecaptchaResponse",e)},expression:"form.gRecaptchaResponse"}})],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",label:t.$t("main.cancel"),icon:"close"}}),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",type:"submit",icon:"link",color:"primary",label:t.$t("main.get_link"),loading:""==t.form.gRecaptchaResponse}})],1)],1)],1)],1)],1):t._e()],1)},r=[],i=(a("8e6e"),a("8a81"),a("456d"),a("7514"),a("f3e3")),o=a.n(i),n=(a("551c"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("c47a")),l=a.n(n),c=a("2ef0"),d=a.n(c),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{style:{"min-width":t.isMobile?"100%":"980px",height:t.isMobile?"100%":"565px"}},[a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"Image",accept:"image/*"},on:{change:function(e){return t.handleImageUpload()}}}),a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"card_giftcard"}}),a("span",[t._v(t._s(t.$t("main.original_gift")))])],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),0==t.currStep?a("q-card-section",{staticClass:"text-center",class:{"q-pa-sm":t.isMobile}},[a("div",{staticStyle:{"font-size":"25px"}},[a("span",{staticStyle:{"font-size":"30px"}},[a("q-icon",{attrs:{name:"alarm"}}),t._v(" Время удивлять!")],1),a("br"),a("br"),a("span",[t._v("Создадим оригинальное слайд-шоу"),a("br"),t._v("\n          из Ваших\n          "),a("q-icon",{attrs:{name:"collections",color:"pink-4",size:"25px"}}),t._v(" фото\n          +\n          "),a("q-icon",{attrs:{color:"pink-4",name:"music_note",size:"25px"}}),t._v("музыка")],1),a("br"),t._v("\n          Размер видео адаптируется под открытку (квадрат)\n      ")]),a("div",{staticClass:"q-mt-lg col-12 text-center",staticStyle:{"font-size":"20px"}},[t._v("\n        Интересно? Пишите нам на "),a("a",{staticClass:"text-pink-4",staticStyle:{"font-family":"Roboto"},attrs:{href:"mailto:hi@emmi.fun"}},[t._v("hi@emmi.fun")]),t._v(" с темой "),a("span",{staticClass:"text-pink-4",staticStyle:{"font-family":"Roboto"}},[t._v('"Cлайд-шоу"')])]),a("div",{staticClass:"q-mt-lg row items-center",staticStyle:{"font-size":"20px"}},[a("div",{staticClass:"col-6 text-right q-mt-xs"},[t._v("Цена")]),a("div",{staticClass:"col-6 text-left q-mt-xs q-pl-md"},[a("q-badge",{staticClass:"q-pa-md",staticStyle:{"font-size":"25px"},attrs:{color:"pink-4"}},[t._v("от 1000 руб")])],1),a("div",{staticClass:"col-6 text-right q-mt-xs"},[t._v("Продолжительность")]),a("div",{staticClass:"col-6 text-left q-mt-xs q-pl-md"},[a("q-badge",{staticClass:"q-pa-md",staticStyle:{"font-size":"25px"},attrs:{color:"pink-4"}},[t._v("1-2 минуты")])],1),a("div",{staticClass:"col-6 text-right q-mt-xs"},[t._v("Срок исполнения")]),a("div",{staticClass:"col-6 text-left q-mt-xs q-pl-md"},[a("q-badge",{staticClass:"q-pa-md",staticStyle:{"font-size":"25px"},attrs:{color:"pink-4"}},[t._v("до 24 часов")])],1),a("div",{staticClass:"col-6 text-right q-mt-xs"},[t._v("Размер")]),a("div",{staticClass:"col-6 text-left q-mt-xs q-pl-md"},[a("q-badge",{staticClass:"q-pa-md",staticStyle:{"font-size":"25px"},attrs:{color:"pink-4"}},[t._v("600x600 пикс.")])],1)])]):t._e(),1==t.currStep?a("q-card-section",{staticClass:"row",class:{"q-pa-sm":t.isMobile}},[a("div",{staticClass:"col-6"},[a("q-scroll-area",{staticClass:"q-pr-md",staticStyle:{width:"100%"},style:{height:t.isMobile?"calc(100vh - 85px)":"480px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",{staticClass:"q-mb-xs"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Тип рисунка")])]),a("div",{staticClass:"q-pr-lg q-mb-xs"},[a("q-radio",{attrs:{name:"type",val:"portrait",label:"Портрет",inline:""},model:{value:t.formOrder.type,callback:function(e){t.$set(t.formOrder,"type",e)},expression:"formOrder.type"}}),a("q-radio",{attrs:{name:"type",val:"caricature",label:"Шарж",inline:""},model:{value:t.formOrder.type,callback:function(e){t.$set(t.formOrder,"type",e)},expression:"formOrder.type"}})],1),a("q-separator"),a("div",{staticClass:"q-mt-sm q-mb-xs"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Цветность")])]),a("div",{staticClass:"q-pr-lg q-mb-xs"},[a("q-radio",{attrs:{name:"color",val:!1,label:"Черно-белый",inline:""},model:{value:t.formOrder.color,callback:function(e){t.$set(t.formOrder,"color",e)},expression:"formOrder.color"}}),a("q-radio",{attrs:{name:"color",val:!0,label:"Цветной",inline:""},model:{value:t.formOrder.color,callback:function(e){t.$set(t.formOrder,"color",e)},expression:"formOrder.color"}})],1),a("q-separator"),a("div",{staticClass:"q-mt-sm q-mb-xs"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Нужен сюжет?")])]),a("q-radio",{attrs:{name:"with_story",val:!1,label:"Нет, простой фон",inline:""},model:{value:t.formOrder.story,callback:function(e){t.$set(t.formOrder,"story",e)},expression:"formOrder.story"}}),a("q-radio",{attrs:{name:"with_story",val:!0,label:"Да",inline:""},model:{value:t.formOrder.story,callback:function(e){t.$set(t.formOrder,"story",e)},expression:"formOrder.story"}}),a("q-slide-transition",[t.formOrder.story?a("div",{staticClass:"q-mb-md"},[a("q-input",{attrs:{dense:"",outlined:"",type:"textarea","input-style":"font-size:18px;",autogrow:"",placeholder:"Что изобразить на фоне?"},model:{value:t.formOrder.text_story,callback:function(e){t.$set(t.formOrder,"text_story",e)},expression:"formOrder.text_story"}})],1):t._e()]),a("q-separator"),a("div",{staticClass:"q-mt-sm q-mb-xs"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Как рисуем?")])]),a("div",{staticClass:"q-pr-lg q-mb-xs"},[a("q-radio",{attrs:{name:"bodyfull",val:!1,label:"По пояс",inline:""},model:{value:t.formOrder.bodyfull,callback:function(e){t.$set(t.formOrder,"bodyfull",e)},expression:"formOrder.bodyfull"}}),a("q-radio",{attrs:{name:"bodyfull",val:!0,label:"Полный рост",inline:""},model:{value:t.formOrder.bodyfull,callback:function(e){t.$set(t.formOrder,"bodyfull",e)},expression:"formOrder.bodyfull"}})],1),a("q-separator"),a("div",{staticClass:"q-mt-sm q-mb-sm"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Увлечения и детали")])]),a("div",{staticClass:"q-pr-lg q-mb-md"},[a("q-input",{attrs:{dense:"",outlined:"",type:"textarea","input-style":"font-size:18px; min-height:55px;",autogrow:"",placeholder:"Укажите как можно больше деталей... Хобби, любимые вещи, одежда"},model:{value:t.formOrder.hobbies,callback:function(e){t.$set(t.formOrder,"hobbies",e)},expression:"formOrder.hobbies"}})],1)],1)],1),a("div",{staticClass:"col-6 q-pl-md row"},[a("q-scroll-area",{staticClass:"q-pr-md",staticStyle:{width:"100%"},style:{height:t.isMobile?"calc(100vh - 85px)":"480px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Добавить как обложку")]),a("q-btn",{staticClass:"q-ml-xs",attrs:{"no-caps":"",flat:"",size:"md",icon:"info",label:"Что это?",color:"accent"}},[a("q-tooltip",[a("div",{staticStyle:{"font-size":"16px","max-width":"350px"}},[t._v("\n                  Вы сможете использовать заказаный портрет/шарж на обложке. Данный функционал БЕСПЛАТНЫЙ.\n                  "),a("q-separator",{staticClass:"q-mt-sm q-mb-sm",attrs:{color:"white"}}),t._v("\n                  Специально для Вас будет создана категория в разделе:"),a("br"),a("b",[t._v("Дизайн")]),t._v(" -> "),a("b",[t._v("Обложка")]),t._v(' -> "Мои обложки", '),a("br"),t._v("\n                  в которой будут храниться все Ваши заказы. Вы сможете менять их как обычные обложки.\n                  "),a("br"),t._v("Данный вариант является отличным способом персонализации открытки.\n                  "),a("q-separator",{staticClass:"q-mt-sm q-mb-sm",attrs:{color:"white"}}),t._v("\n                  Ссылку мы вышлем Вам на почту.\n                ")],1)])],1)],1),a("div",{staticClass:"q-pr-lg q-mb-xs"},[a("q-radio",{attrs:{name:"addcover",val:"yes",label:"Да, хочу такой функционал",inline:""},model:{value:t.formOrder.addcover,callback:function(e){t.$set(t.formOrder,"addcover",e)},expression:"formOrder.addcover"}}),a("q-radio",{attrs:{name:"addcover",val:"no",label:"Не нужно",inline:""},model:{value:t.formOrder.addcover,callback:function(e){t.$set(t.formOrder,"addcover",e)},expression:"formOrder.addcover"}})],1),a("q-separator"),a("div",{staticClass:"q-mt-sm q-mb-xs row items-center"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Загрузите фото")]),a("q-space"),t.fileClient?t._e():a("q-btn",{attrs:{icon:"photo",label:"Выбрать фото",color:"accent","no-caps":""},on:{click:function(e){return t.$refs.image.click()}}}),t.fileClient?a("q-btn",{attrs:{icon:"close",label:"Отменить",color:"accent","no-caps":""},on:{click:function(e){t.fileClient=null,t.$refs.image.value=""}}}):t._e()],1),t.fileClient?a("div",[t._v("Загрузите фото хорошего качества без размытия")]):t._e(),a("div",{staticClass:"q-pr-lg q-mb-md flex flex-center q-ml-md q-mt-md"},[t.fileClient?a("q-img",{staticStyle:{"max-width":"500px","max-height":"240px",border:"dashed 1px"},attrs:{contain:"",src:t.fileClient}}):t._e()],1),a("div",{staticClass:"full-width text-right row",staticStyle:{border:"solid 1px"}},[a("div",{staticClass:"self-end",staticStyle:{"font-size":"25px"}},[t._v("Цена: "+t._s(t.calcPrice))]),a("q-space"),a("div",[a("q-btn",{attrs:{label:"Далее"}})],1)],1)],1)],1)]):t._e(),2==t.currStep?a("q-card-section",[a("div",{staticClass:"q-mt-sm q-mb-xs"},[a("span",{staticClass:"bg-primary text-white text-h6 q-pa-xs rounded-borders"},[t._v("Ваши контакты")]),a("div",{staticClass:"q-col-gutter-sm q-mt-xs"},[a("q-input",{attrs:{dense:"",outlined:"",type:"textarea","input-style":"font-size:18px;",autogrow:"",placeholder:"Ваше имя*"},model:{value:t.formOrder.name,callback:function(e){t.$set(t.formOrder,"name",e)},expression:"formOrder.name"}}),a("q-input",{attrs:{dense:"",outlined:"",type:"textarea","input-style":"font-size:18px;",autogrow:"",placeholder:"Ваш email*"},model:{value:t.formOrder.email,callback:function(e){t.$set(t.formOrder,"email",e)},expression:"formOrder.email"}})],1)])]):t._e()],1)},u=[],m=a("bc3a"),f=a.n(m),h=a("2f62"),g=a("4476"),b=a("9420"),v=a("dafb"),y=a("9d0b"),x=a("9ce6"),q=a("f303"),C=a("bc78");function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width,C["a"].lighten,C["a"].setBrand;var k={data:function(){return{currStep:0,fileClient:null,tab_work:"step_1",themes:[{label:"Без темы (на усмотрение художника)",value:"none"},{label:"День Рождения",value:"birthday"},{label:"Свадьба",value:"wedding"},{label:"Романтика",value:"romantic"},{label:"Бизнес",value:"busines"},{label:"Спорт",value:"sport"},{label:"Профессии",value:"professions"}],formOrder:{type:"caricature",story:!1,color:!1,bodyfull:!1,addcover:!1,text_story:"",hobbies:""}}},methods:S({},Object(h["b"])(["setSettingsMode"]),{handleImageUpload:function(){var t=this,e=new FileReader,a=this.$refs.image.files[0];e.addEventListener("load",(function(e){t.fileClient=e.target.result})),e.readAsDataURL(a)}}),computed:S({},Object(h["c"])(["settingsMode","thumbStyleVertical","pricesAll"]),{isMobile:function(){return!(this.$q.screen.width>900)},calcPrice:function(){var t=d.a.find(this.pricesAll.images,{type:this.formOrder.type}).prices,e=t["main"][this.$i18n.locale],a=e,s=this.formOrder.color?t["color"][this.$i18n.locale]:0,r=this.formOrder.story?t["story"][this.$i18n.locale]:0,i=this.formOrder.bodyfull?t["bodyfull"][this.$i18n.locale]:0;return a=a+s+r+i,a}})},$=k,O=a("2877"),P=a("eebe"),j=a.n(P),I=a("f09f"),z=a("65c6"),D=a("6ac5"),F=a("0016"),T=a("9c40"),M=a("a370"),Q=a("58a8"),L=a("4983"),A=a("eb85"),E=a("ddd8"),N=a("3786"),B=a("e9c1"),R=a("27f9"),J=a("05c0"),U=a("2c91"),V=a("068f"),G=a("7f67"),H=Object(O["a"])($,p,u,!1,null,null,null),X=H.exports;j()(H,"components",{QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QIcon:F["a"],QBtn:T["a"],QCardSection:M["a"],QBadge:Q["a"],QScrollArea:L["a"],QSeparator:A["a"],QSelect:E["a"],QRadio:N["a"],QSlideTransition:B["a"],QInput:R["a"],QTooltip:J["a"],QSpace:U["a"],QImg:V["a"]}),j()(H,"directives",{ClosePopup:G["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative",width:"800px",height:"400px"}},[t.currCardForm?a("div",{staticClass:"absolute",staticStyle:{"pointer-events":"none",overflow:"hidden",opacity:"0",width:"0",height:"0",top:"0",left:"0"}},[a("svg",{staticStyle:{"enable-background":"new 0 0 400 400"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 400 400","xml:space":"preserve"}},[a("defs",[a("clipPath",{attrs:{id:t.currCardForm.name}},[a("path",{attrs:{d:t.currCardForm.path}})]),a("clipPath",{staticStyle:{transform:"scaleX(-1)","transform-origin":"center center"},attrs:{id:t.currCardForm.name+"-flip"}},[a("path",{attrs:{d:t.currCardForm.path}})])])])]):t._e(),t.currCardForm&&t.datacard&&t.datacard.hasOwnProperty("options")?a("settings",{on:{setFormCard:t.setFormCard}}):t._e(),t.currCardForm&&t.datacard&&t.datacard.hasOwnProperty("options")?a("div",{attrs:{id:"main-card"}},[a("div",{staticClass:"card-wrapper",staticStyle:{filter:"drop-shadow(3px 3px 2px rgba(0,0,0,0.25))",perspective:"800px",position:"relative"}},[a("div",{ref:"liveBoxFrame",staticStyle:{width:"480px",height:"480px",border:"dashed 1px rgba(0,0,0,0)",background:"rgba(255,0,0,0)",position:"absolute","z-index":"99",right:"-40px",top:"-40px"},style:{"pointer-events":"none"}},[a("live-frames",{ref:"liveFrame"})],1),t.blobCard?a("div",{directives:[{name:"show",rawName:"v-show",value:"decor"!=t.settingsMode,expression:"settingsMode!='decor'"}],style:{top:t.hlyastick_style.top+"px",right:t.hlyastick_style.right+"px",bottom:t.hlyastick_style.hasOwnProperty("bottom")?t.hlyastick_style.bottom+"px":""},attrs:{id:"blob-toggle-card"}}):t._e(),a("div",{ref:"btnToggle",style:{"background-image":"url("+t.datacard.options.coverimage.src+")","background-position":"-362px -182px",top:t.hlyastick_style.top+"px",right:t.hlyastick_style.right+"px",bottom:t.hlyastick_style.hasOwnProperty("bottom")?t.hlyastick_style.bottom+"px":"",filter:"hue-rotate("+t.datacard.options.coverimage.filters.hue+"deg) \n                saturate("+t.datacard.options.coverimage.filters.saturate+"%)\n                brightness("+t.datacard.options.coverimage.filters.brightness+"%)\n                contrast("+t.datacard.options.coverimage.filters.contrast+"%)\n                sepia("+t.datacard.options.coverimage.filters.sepia+"%)\n                blur("+t.datacard.options.coverimage.filters.blur+"px)\n                drop-shadow(0px 0px 3px rgba(0,0,0,0.35)) \n                "},attrs:{id:"btn-toggle-card"},on:{click:function(e){t.blobCard=!1,t.toggleCard()}}}),a("div",{staticClass:"block-cover",staticStyle:{position:"relative"}},[a("div",{staticClass:"cover-continer cover--card"},[a("div",{staticClass:"cover-card row bounds-text"},[a("div",{staticClass:"cover__face cover__face--front flex flex-center",staticStyle:{"background-color":"#fff","background-size":"cover"},style:{"clip-path":t.formPath}},[a("div",{staticClass:"fit",style:{"background-image":"url("+t.datacard.options.coverimage.src+")",filter:"hue-rotate("+t.datacard.options.coverimage.filters.hue+"deg) \n                    saturate("+t.datacard.options.coverimage.filters.saturate+"%)\n                    brightness("+t.datacard.options.coverimage.filters.brightness+"%)\n                    contrast("+t.datacard.options.coverimage.filters.contrast+"%)\n                    sepia("+t.datacard.options.coverimage.filters.sepia+"%)\n                    blur("+t.datacard.options.coverimage.filters.blur+"px)"}}),a("div",{staticStyle:{background:"url(statics/img/shadow-overlay.png) no-repeat -400px 0",position:"absolute",top:"0",left:"0",width:"400px",height:"400px","z-index":"2"}}),a("div",{style:{border:"dashed 1px #808080"},attrs:{id:"btn-toggle-holder"}}),a("div",{staticClass:"row",staticStyle:{height:"150px",position:"absolute","z-index":"6",top:"0",bottom:"0",margin:"auto"},style:{left:t.datacard.options.signature.hasavatar&&!t.datacard.options.signature.hasname?"50px":"25px",width:t.datacard.options.signature.hasavatar&&!t.datacard.options.signature.hasname?"300px":"320px"}},[t.datacard.options.signature.hasavatar?a("div",{staticClass:"col-auto flex flex-center q-pa-xs",class:{"full-width":!t.datacard.options.signature.hasname}},[a("q-img",{staticClass:"shadow-1",staticStyle:{"border-radius":"50%",border:"solid 5px #fff"},style:{width:t.datacard.options.signature.hasname?"110px":"160px"},attrs:{ratio:1,src:"none"==t.datacard.options.signature.avatar?"statics/img/empty-avatar.jpg":t.datacard.options.signature.avatar}})],1):t._e(),t.datacard.options.signature.hasname?a("div",{staticClass:"col flex items-center justify-center text-primary q-pl-md",staticStyle:{"font-family":"Neucha","font-weight":"normal"}},[a("q-item-section",{staticClass:"text-center"},[a("q-item-label",{style:{"font-family":""+t.datacard.options.signature.font.family,"font-size":t.datacard.options.signature.font.size+"px",color:""+t.datacard.options.signature.font.color,"text-shadow":t.datacard.options.signature.font.outline?"\n                                        2px 0 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        -2px 0 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        0 2px 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        0 -2px 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        1px 1px "+t.datacard.options.signature.font.outlineColor+", \n                                        -1px -1px 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        1px -1px 0 "+t.datacard.options.signature.font.outlineColor+", \n                                        -1px 1px 0 "+t.datacard.options.signature.font.outlineColor:"none"}},[t._v(t._s(t.datacard.options.signature.name))])],1)],1):t._e()])]),a("div",{ref:"cover_face_inner",staticClass:"cover__face cover__face--inner-content flex flex-center",style:{"clip-path":t.formPathFlip,"background-color":"#ffffff"}},[0==t.datacard.slides[t.currSlide].textSide.options.phrases.length&&"create"==t.cardMode?a("q-btn",{staticClass:"absolute",staticStyle:{"z-index":"150"},attrs:{flat:"","no-caps":"",color:"primary",rounded:"",size:"15px",icon:"icon-add-anim-text",label:t.$t("main.add_text")},on:{click:function(e){return t.setSettingsMode("text")}}}):t._e(),a("div",{staticStyle:{background:"url(statics/img/shadow-overlay.png) no-repeat",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"1","pointer-events":"none"}}),"phrases"==t.datacard.slides[t.currSlide].textSide.component?a("phrases",{ref:"textSide",attrs:{slide:t.datacard.slides[t.currSlide]},on:{setBgTextColor:t.setBgTextColor,toggleCard:t.toggleCard}}):t._e()],1)])])]),a("div",{staticClass:"block-image flex flex-center",style:{"clip-path":t.formPath}},["none"==t.currImg.src&&"create"==t.cardMode?a("q-btn",{staticClass:"absolute",staticStyle:{"z-index":"150"},attrs:{flat:"","no-caps":"",color:"primary",rounded:"",size:"15px",icon:"icon-add-image",label:t.$t("main.add_photo")},on:{click:function(e){return t.setSettingsMode("image")}}}):t._e(),a("div",{staticStyle:{background:"url(statics/img/shadow-overlay.png) no-repeat -400px 0",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","z-index":"1"}}),a("div",{staticStyle:{width:"400px",height:"400px","z-index":"10",position:"absolute",top:"0",left:"0",color:"#fff","background-repeat":"no-repeat","pointer-events":"none"},style:{"background-image":t.overlayImage.src,"background-position":t.overlayImage.center?"center center":"0 0",filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n                      saturate("+t.currImg.overlay.filters.saturate+"%)\n                      brightness("+t.currImg.overlay.filters.brightness+"%)\n                      sepia("+t.currImg.overlay.filters.sepia+"%)\n                      contrast("+t.currImg.overlay.filters.contrast+"%)\n                      blur("+t.currImg.overlay.filters.blur+"px)"}}),t.overlayImage.mirror?a("div",{staticStyle:{width:"400px",height:"200px","z-index":"10",position:"absolute",bottom:"0",left:"0",color:"#fff","background-repeat":"no-repeat","background-position":"0 0","pointer-events":"none",transform:"scale(-1)","transform-origin":"center center"},style:{"background-image":t.overlayImage.src,filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n                      saturate("+t.currImg.overlay.filters.saturate+"%)\n                      brightness("+t.currImg.overlay.filters.brightness+"%)\n                      sepia("+t.currImg.overlay.filters.sepia+"%)\n                      contrast("+t.currImg.overlay.filters.contrast+"%)\n                      blur("+t.currImg.overlay.filters.blur+"px)\n                      "}}):t._e(),t._l(t.datacard.slides[t.currSlide].imageSide.images,(function(e){return t.datacard?a("div",{staticClass:"bg-image absolute",staticStyle:{width:"100%",height:"100%",top:"0",left:"0","background-color":"#fff","background-size":"cover"},style:{backgroundImage:"url("+e.src+")",filter:"hue-rotate("+t.currImg.filters.hue+"deg) \n                      saturate("+t.currImg.filters.saturate+"%)\n                      brightness("+t.currImg.filters.brightness+"%)\n                      sepia("+t.currImg.filters.sepia+"%)\n                      contrast("+t.currImg.filters.contrast+"%)\n                      blur("+t.currImg.filters.blur+"px)",transform:"scaleX("+t.currImg.flip.x+") scaleY("+t.currImg.flip.y+")"}}):t._e()}))],2)])]):t._e()],1)},Y=[],K=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isMobile?t._e():a("div",[a("q-dialog",{attrs:{seamless:"",position:"right"},on:{hide:function(e){return t.hideSettings("decor")},"before-hide":function(e){t.$refs.sDecor&&t.$refs.sDecor.detectReset()}},model:{value:t.dialogs.settings_decor,callback:function(e){t.$set(t.dialogs,"settings_decor",e)},expression:"dialogs.settings_decor"}},[a("settings-decor",{ref:"sDecor",staticStyle:{width:"380px"},on:{setFormCard:t.setFormCard}})],1),a("q-dialog",{attrs:{persistent:""},on:{hide:function(e){return t.hideSettings("image")}},model:{value:t.dialogs.settings_image,callback:function(e){t.$set(t.dialogs,"settings_image",e)},expression:"dialogs.settings_image"}},[a("settings-photo")],1),a("q-dialog",{attrs:{persistent:""},on:{hide:function(e){return t.hideSettings("text")}},model:{value:t.dialogs.settings_text,callback:function(e){t.$set(t.dialogs,"settings_text",e)},expression:"dialogs.settings_text"}},[a("settings-text")],1),a("q-dialog",{attrs:{seamless:"",position:"right"},on:{hide:function(e){return t.hideSettings("music")}},model:{value:t.dialogs.settings_music,callback:function(e){t.$set(t.dialogs,"settings_music",e)},expression:"dialogs.settings_music"}},[a("settings-music")],1)],1),t.isMobile?a("div",[a("q-dialog",{attrs:{seamless:"",position:"right",maximized:""},on:{hide:t.hideSettings},model:{value:t.dialogs.settings_decor,callback:function(e){t.$set(t.dialogs,"settings_decor",e)},expression:"dialogs.settings_decor"}},[a("settings-decor-mobile",{on:{setFormCard:t.setFormCard}})],1),a("q-dialog",{attrs:{persistent:"",maximized:""},on:{hide:t.hideSettings},model:{value:t.dialogs.settings_image,callback:function(e){t.$set(t.dialogs,"settings_image",e)},expression:"dialogs.settings_image"}},[a("settings-photo-mobile")],1),a("q-dialog",{attrs:{persistent:"",maximized:""},on:{hide:t.hideSettings},model:{value:t.dialogs.settings_text,callback:function(e){t.$set(t.dialogs,"settings_text",e)},expression:"dialogs.settings_text"}},[a("settings-text-mobile")],1),a("q-dialog",{attrs:{persistent:"",maximized:""},on:{hide:t.hideSettings},model:{value:t.dialogs.settings_music,callback:function(e){t.$set(t.dialogs,"settings_music",e)},expression:"dialogs.settings_music"}},[a("settings-music-mobile")],1)],1):t._e()])}),Z=[],tt=(a("ffc1"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-width":"1000px"}},[a("q-dialog",{model:{value:t.dialogEditPhrase,callback:function(e){t.dialogEditPhrase=e},expression:"dialogEditPhrase"}},[t.currPhrase?a("q-card",{staticStyle:{width:"750px"},attrs:{flat:""},on:{hide:function(e){t.currPhrase=null}}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n           "+t._s(t.$t("main.edit_phrase"))+"\n          ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("q-input",{attrs:{dense:"",outlined:"","no-error-icon":"",placeholder:t.$t("main.add_your_phrase",{maxlength:t.maxlength}),minlengh:1,maxlength:t.maxlength},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateCurrentPhrase())}},model:{value:t.currPhrase.text,callback:function(e){t.$set(t.currPhrase,"text",e)},expression:"currPhrase.text"}})],1),a("q-card-section",{staticClass:"q-pt-none q-mt-sm",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.save"),color:"primary"},on:{click:function(e){return t.updateCurrentPhrase()}}})],1)],1):t._e()],1),a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v(t._s(t.$t("main.text")))])],1),a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"col q-pr-xs"},[a("div",{staticClass:"row items-center",staticStyle:{height:"50px"}},[a("span",{staticClass:"text-primary",staticStyle:{"font-size":"20px"}},[t._v(t._s(t.$t("main.library_phrases")))]),a("q-space"),a("q-select",{attrs:{outlined:"","emit-value":"","map-options":"",dense:"",options:t.optionsLangs,value:t.datacard.options.language},on:{input:t.updatedLanguage},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.lang_recipient")))])]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"25px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pa-none",staticStyle:{"min-width":"20px"},attrs:{avatar:""}},[a("country-flag",{attrs:{country:"en"==e.opt.value?"us":e.opt.value,size:"small"}})],1),a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",[t._v(" "+t._s(e.opt.label))])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",{attrs:{avatar:""}},[a("country-flag",{attrs:{country:"en"==e.opt.value?"us":e.opt.value}})],1),a("q-item-section",[a("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}})],1)],1)]}}])})],1),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("q-select",{attrs:{options:t.optionsCategoriesPhrases,outlined:"","emit-value":"","map-options":"",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("main.category"))+":")])]},proxy:!0}]),model:{value:t.currCategoryPhrase,callback:function(e){t.currCategoryPhrase=e},expression:"currCategoryPhrase"}})],1)]),a("q-scroll-area",{staticClass:"q-mt-md text-secondary rounded-borders",staticStyle:{width:"100%",height:"300px",border:"solid 1px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("draggable",{staticClass:"transparent",staticStyle:{width:"100%","min-height":"298px"},attrs:{handle:".handle-drag",sort:!1,animation:200,list:t.library,move:t.checkCountPhrases,group:"words"}},t._l(t.library,(function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:"all"==t.currCategoryPhrase||e.categories.includes(t.currCategoryPhrase),expression:"currCategoryPhrase=='all' || element.categories.includes(currCategoryPhrase)"}],key:e.id,staticClass:"q-pa-xs rounded-borders"},[a("div",{staticClass:"bg-white text-black fit q-pa-sm shadow-1 row items-center",staticStyle:{"font-size":"16px"}},[e.custom?t._e():a("div",{staticClass:"handle-drag",domProps:{innerHTML:t._s(e.langs[t.datacard.options.language])}}),a("q-space"),a("q-btn",{staticClass:"bg-white text-primary q-ml-xs",attrs:{icon:"add",size:"md",dense:""},on:{click:function(a){return t.addPhrase(e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.add_phrase")))])])],1)],1)])})),0)],1),a("div",{staticClass:"row q-mt-md items-center",staticStyle:{height:"55px"}})],1),a("div",{staticClass:"col flex flex-center",staticStyle:{"max-width":"60px"}},[a("q-icon",{attrs:{name:"compare_arrows",color:"primary",size:"40px"}})],1),a("div",{staticClass:"col q-pl-xs"},[a("div",{staticClass:"row items-center q-pa-xs",staticStyle:{height:"50px"}},[a("div",{staticClass:"row items-center full-width"},[t.phrases.length>0?a("q-btn",{attrs:{"no-caps":"",icon:t.animationState?"check":"movie_filter",color:t.animationState?"accent":"primary",label:t.animationState?t.$t("main.apply"):t.$t("main.animation")}},[a("q-menu",{attrs:{anchor:"bottom left",self:"top left",offset:[5,12],flat:"","transition-show":"jump-down","transition-hide":"jump-up",persistent:""},on:{show:t.showAnimation,hide:t.hideAnimation,"before-show":t.beforeShowAnimation}},[a("q-card",{staticStyle:{width:"460px"}},[a("q-card-section",{staticClass:"row full-width q-pa-xs"},[a("q-select",{staticClass:"full-width q-pa-sm",attrs:{dense:"",outlined:"","option-label":function(e){return null===e?"---":e.label[t.$i18n.locale]},"emit-value":"","map-options":"",options:t.optionsAnimationsStart,"bg-color":"white"},on:{input:function(e){return t.repeatExampleAnimation("anim_from")}},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-right",staticStyle:{"font-size":"14px",width:"60px"}},[t._v("\n                          "+t._s(t.$t("main.start_anim_text"))+"\n                          ")])]},proxy:!0},{key:"after",fn:function(){return[a("q-btn",{attrs:{dense:"",size:"sm",icon:"replay"},on:{click:function(e){return t.repeatExampleAnimation("anim_from")}}})]},proxy:!0}],null,!1,2470683171),model:{value:t.currAnimations.from,callback:function(e){t.$set(t.currAnimations,"from",e)},expression:"currAnimations.from"}}),a("q-select",{staticClass:"full-width q-pa-sm",attrs:{dense:"",outlined:"","option-label":function(e){return null===e?"---":e.label[t.$i18n.locale]},"emit-value":"","map-options":"",options:t.optionsAnimationsFinish,"bg-color":"white"},on:{input:function(e){return t.repeatExampleAnimation("anim_to")}},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-right",staticStyle:{"font-size":"14px",width:"60px"}},[t._v("\n                            "+t._s(t.$t("main.finish_anim_text"))+"\n                          ")])]},proxy:!0},{key:"after",fn:function(){return[a("q-btn",{attrs:{dense:"",size:"sm",icon:"replay"},on:{click:function(e){return t.repeatExampleAnimation("anim_to")}}})]},proxy:!0}],null,!1,3783065405),model:{value:t.currAnimations.to,callback:function(e){t.$set(t.currAnimations,"to",e)},expression:"currAnimations.to"}})],1),a("q-card-section",{staticClass:"q-pa-none",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"flex flex-center full-width text-center text-secondary bg-white",staticStyle:{height:"320px"}},[a("div",{staticClass:"text-black phrase-example",staticStyle:{"font-size":"40px","pointer-event":"none"},style:{"font-family":t.datacard.slides[t.currSlide].textSide.options.font.family},attrs:{"data-splitting":""}},[a("div",{domProps:{innerHTML:t._s(t.$t("main.example_anim_text"))}})])])])],1)],1)],1):t._e(),a("q-space"),a("q-select",{attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"fontName","option-label":"fontName",options:t.optionsFonts},on:{change:function(e){return t.updatedPhrases()},input:function(e){return t.repeatExampleAnimation()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"font_download"}})]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"20px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(" "+t._s(e.opt.fontName))])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(t._s(e.opt.fontName))])],1)],1)]}}]),model:{value:t.datacard.slides[t.currSlide].textSide.options.font.family,callback:function(e){t.$set(t.datacard.slides[t.currSlide].textSide.options.font,"family",e)},expression:"datacard.slides[currSlide].textSide.options.font.family"}})],1)]),a("div",{staticClass:"q-mt-md"},[a("q-input",{ref:"customPhrase",attrs:{dense:"",outlined:"","no-error-icon":"","input-style":"font-size:18px;",placeholder:t.$t("main.add_your_phrase",{maxlength:t.maxlength}),maxlength:t.maxlength},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addCustomPhrase(null))}},scopedSlots:t._u([{key:"append",fn:function(){return[a("span",{staticClass:"q-mr-sm",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.customPhrase.length)+"/"+t._s(t.maxlength))]),a("q-btn",{attrs:{"no-caps":"",dense:"",size:"sm",dense:"",icon:"add",color:"primary"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addCustomPhrase(null)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",dense:"",size:"sm",dense:"",icon:"playlist_add",color:"primary"}},[a("q-menu",{staticClass:"shadow-3",attrs:{persistent:"",anchor:"top right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",{staticStyle:{"min-width":"450px"}},[a("q-card-section",{staticClass:"bg-primary text-white"},[t._v("\n                        "+t._s(t.$t("main.line_by_line"))+"\n                      ")]),a("q-card-section",[a("q-input",{attrs:{dense:"",outlined:"",autogrow:"",type:"textarea","input-style":"max-height:350px; font-size:18px;",placeholder:t.$t("main.multiline_text")},model:{value:t.multilineText,callback:function(e){t.multilineText="string"===typeof e?e.trim():e},expression:"multilineText"}})],1),a("q-card-section",{staticClass:"q-pt-none row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",outline:"",icon:"close",color:"primary",label:t.$t("main.cancel")}}),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"playlist_add",color:"primary",label:t.$t("main.create_phrases")},on:{click:t.importMultiline}})],1)],1)],1)],1)]},proxy:!0}]),model:{value:t.customPhrase,callback:function(e){t.customPhrase=e},expression:"customPhrase"}})],1),a("q-scroll-area",{staticClass:"q-mt-md text-secondary rounded-borders",staticStyle:{width:"100%",height:"300px",border:"dashed 1px"},attrs:{"thumb-style":t.thumbStyleVertical}},[0==t.phrases.length?a("div",{staticClass:"absolute-top-left fit flex flex-center text-center",staticStyle:{"font-size":"18px"}},[a("div",[a("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("main.drag_drop_wishes")))]),a("br"),a("img",{attrs:{src:"statics/img/drag-phrase.jpg"}})])]):t._e(),a("draggable",{staticClass:"transparent",staticStyle:{width:"100%","min-height":"298px"},attrs:{handle:".handle-drag",sort:!0,animation:200,list:t.phrases,group:"words"},on:{change:t.changePhrases,sort:function(e){return t.updatedPhrases()}}},t._l(t.phrases,(function(e,s){return a("div",{key:e.id,staticClass:"q-pa-xs"},[a("div",{staticClass:"fit q-pa-sm shadow-1 items-center row rounded-borders",style:{"background-color":e.bgcolor,opacity:null!=t.currIndexPhrase&&t.currIndexPhrase!=parseInt(s)?.2:1}},[a("div",{staticClass:"col text-center",staticStyle:{"max-width":"30px"}},[a("q-btn",{staticClass:"bg-white text-primary",attrs:{dense:"",size:"md",icon:"delete_forever"},on:{click:function(a){return t.deletePhrase(e,s)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.delete")))])])],1)],1),a("div",{staticClass:"col q-ml-sm",style:{color:e.color,"font-family":t.font_family,"font-size":"20px"}},[e.custom?a("div",{staticClass:"handle-drag ellipsis",domProps:{innerHTML:t._s(e.text)}}):t._e(),e.custom?t._e():a("div",{staticClass:"handle-drag ellipsis",domProps:{innerHTML:t._s(e.langs[t.datacard.options.language])}})]),a("q-space"),e.custom?a("q-btn",{staticClass:"bg-white text-primary q-ml-xs",attrs:{icon:"edit",size:"md",dense:""},on:{click:function(a){t.currPhrase=JSON.parse(JSON.stringify(e)),t.dialogEditPhrase=!0}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.edit_phrase")))])])],1):t._e(),e.custom?t._e():a("q-btn",{staticClass:"bg-white q-ml-xs",attrs:{flat:"",size:"sm",dense:""}},[a("country-flag",{attrs:{size:"small",country:"en"==t.datacard.options.language?"us":t.datacard.options.language}}),a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[a("span",{domProps:{innerHTML:t._s(t.$t("main.text_not_edit"))}})])])],1),a("q-btn",{staticClass:"q-ml-sm",attrs:{dense:"",size:"md",icon:"color_lens",color:"white","text-color":"primary"},on:{click:function(a){a.preventDefault(),t.currPhrase=e,t.currIndexPhrase=s}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.color_text_and_bg")))])]),a("q-menu",{staticClass:"shadow-3",attrs:{anchor:"bottom left",offset:[0,15],self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},on:{"before-hide":function(e){t.currIndexPhrase=null}},model:{value:e.menucolor,callback:function(a){t.$set(e,"menucolor",a)},expression:"element.menucolor"}},[a("div",{staticClass:"row"},[t.colorCustom?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto",staticStyle:{width:"376px",height:"281px"}},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-swatchbook"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.palette")))]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm",attrs:{dense:"",size:"10px",icon:"fas fa-random","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("random",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary"}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v("\n                                            "+t._s(t.$t("main.color_text_bg_random_phrase_all"))+"\n                                          ")])])],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm",attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("all",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary"}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v("\n                                          "+t._s(t.$t("main.color_text_bg_any"))+"\n                                        ")])])],1)],1)],1)],1),a("q-item",{staticClass:"q-pa-xs fit"},[a("q-scroll-area",{staticClass:"q-col-gutter-none",staticStyle:{width:"100%",height:"220px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("q-list",{staticClass:"row fit"},t._l(t.palleteColors,(function(e){return a("q-item",{key:e.bgcolor+"_"+e.color,staticClass:"col-3 q-pa-none",staticStyle:{"min-height":"36px"},attrs:{clickable:""},on:{click:function(a){return t.setPalleteColor({bgcolor:e.bgcolor,color:e.color})}}},[a("div",{staticClass:"fit flex flex-center",staticStyle:{"font-size":"20px","font-family":"Oswald"},style:{"background-color":e.bgcolor}},[a("span",{style:{color:e.color,"font-family":t.datacard.slides[t.currSlide].textSide.options.font.family}},[t._v(t._s(t.$t("main.text")))])])])})),1)],1)],1)],1)],1)]),t.colorCustom?a("div",{staticClass:"row"},[a("div",{staticClass:"col-auto"},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-fill-drip"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.color_bg")))]),a("q-space"),a("q-btn",{attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return t.applyToAllColor("bgcolor",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v("\n                                            "+t._s(t.$t("main.apply_color_bg_phrase_any"))+"\n                                          ")])])],1)],1)],1)],1),a("q-item",{staticClass:"q-pa-xs"},[a("q-color",{staticClass:"fit",staticStyle:{width:"200px"},attrs:{"no-header":"","no-footer":"",flat:"","default-view":t.colorView},on:{change:function(e){return t.updatedPhrases()}},model:{value:e.bgcolor,callback:function(a){t.$set(e,"bgcolor",a)},expression:"element.bgcolor"}})],1)],1)],1),a("div",{staticClass:"col-auto"},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-font"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.color_text")))]),a("q-space"),a("q-btn",{attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return t.applyToAllColor("color",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.apply_color_text_phrase_any")))])])],1)],1)],1)],1),a("q-item",{staticClass:"q-pa-xs"},[a("q-color",{staticClass:"fit",attrs:{"no-header":"","no-footer":"",flat:"","default-view":t.colorView},on:{change:function(e){return t.updatedPhrases()}},model:{value:e.color,callback:function(a){t.$set(e,"color",a)},expression:"element.color"}})],1)],1)],1)]):t._e()]),a("div",{staticClass:"full-width row items-center justify-end q-pl-md q-pr-sm q-pb-md"},[a("q-toggle",{staticClass:"q-pa-none",attrs:{size:"35px"},model:{value:t.colorCustom,callback:function(e){t.colorCustom=e},expression:"colorCustom"}},[a("span",[t._v(t._s(t.$t("main.their_color")))])]),a("q-space"),a("q-btn-dropdown",{staticClass:"glossy",attrs:{split:"","no-caps":"",color:"primary",label:t.$t("main.apply")},on:{click:function(a){return t.applyToAllColor("menucolor-hide",e)}}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.applyToAllColor("menucolor-hide",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"check",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                                    "+t._s(t.$t("main.apply_only_current_phrase"))+"\n                                  ")])],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.applyToAllColor("all",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"fas fa-clone",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                                    "+t._s(t.$t("main.color_text_bg_any"))+"\n                                  ")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                                    "+t._s(t.$t("main.all_sentences_same_color"))+"\n                                    \n                                  ")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.applyToAllColor("random",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"fas fa-random",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                                    "+t._s(t.$t("main.color_text_bg_random_phrase_all"))+"\n                                  ")]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                                    "+t._s(t.$t("main.selected_from_palette"))+"\n                                  ")])],1)],1)],1)],1)],1)])],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-sm",attrs:{size:"md",dense:"",color:"white","text-color":"primary",icon:"play_arrow"},on:{click:function(a){t.currPhrase=JSON.parse(JSON.stringify(e)),t.restartComponents({forcePhraseIndex:s})}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v("\n                          "+t._s(t.$t("main.start_this_phrase"))+"\n                        ")])])],1)],1)])})),0)],1),a("div",{staticClass:"row q-mt-md items-center relative-position",staticStyle:{height:"55px"}},[t.phrases.length>0&&!t.animationState?a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"delete_forever",label:t.$t("main.clear_all"),color:"primary"}},[a("q-menu",{staticClass:"shadow-3",attrs:{"auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n                      "+t._s(t.$t("main.confirmation"))+"\n                    ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                    "+t._s(t.$t("main.delete_select_added_phrase"))+"\n                  ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{attrs:{"no-caps":"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:t.clearPhrases}})],1)],1)],1)],1):t._e(),a("q-space"),t.phrases.length>0?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.ready"),color:"accent"},on:{click:function(e){return t.restartComponents()}}}):t._e(),0==t.phrases.length?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.close"),color:"primary"}}):t._e(),t.phrases.length>=t.maxLengthPhrases&&t.bannerMaxLength?a("q-banner",{staticClass:"shadow-1 rounded-borders text-black text-center bg-warning banner-max-phrase-length absolute-top-left",staticStyle:{"z-index":"100","min-width":"100%"},attrs:{"inline-actions":""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"notification_important",color:"black",size:"sm"}})]},proxy:!0},{key:"action",fn:function(){return[a("q-btn",{attrs:{"no-caps":"","text-color":"primary",color:"white",label:t.$t("main.clearly")},on:{click:function(e){t.bannerMaxLength=!1}}})]},proxy:!0}],null,!1,2828941837)},[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.phrase_limited",{maxLengthPhrases:t.maxLengthPhrases})))])]):t._e()],1)],1)])],1)],1)}),et=[],at=(a("28a5"),a("20d6"),a("ac4d"),a("3b75")),st=a.n(at),rt=a("310e"),it=a.n(rt),ot=a("1b1d"),nt=a.n(ot),lt=a("1732");function ct(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function dt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ct(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);C["a"].setBrand;var pt=C["a"].luminosity,ut={components:{draggable:it.a},data:function(){return{colorCustom:!1,animationState:!1,multilineText:"",dialogEditPhrase:!1,maxlength:40,currPhrase:null,currIndexPhrase:null,customPhrase:"",colorView:"spectrum",library:[],phrases:[],emptyCustomPhrase:{text:"",custom:!0,color:"#000000",bgcolor:"#ffffff",illustrations:[],category:null},currAnimations:{from:"wave_from",to:"wave_to"},tlExampleText:null}},computed:dt({},Object(h["c"])(["datacard","thumbStyleVertical","optionsFonts","currSlide","libPhrases","optionsAnimationsStart","optionsAnimationsFinish","maxLengthPhrases","settingsMode","palleteColors","categoriesPhrases"]),{font_family:function(){return this.datacard.slides[this.currSlide].textSide.options.font.family},optionsCategoriesPhrases:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var r,i=this.categoriesPhrases[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;t.push({label:o.langs[this.$i18n.locale],value:o.text})}}catch(n){a=!0,s=n}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return t},optionsLangs:function(){for(var t=[],e=0,a=Object.keys(this.$i18n.messages);e<a.length;e++){var s=a[e];t.push({label:this.$i18n.messages[s].main.language,value:s})}return t},currCategoryPhrase:{get:function(){return this.$store.getters.currCategoryPhrase},set:function(t){this.$store.dispatch("setCurrCategoryPhrase",t)}},bannerMaxLength:{get:function(){return this.$store.getters.bannerMaxLength},set:function(t){this.$store.dispatch("setBannerMaxLength",t)}}}),methods:{setPalleteColor:function(t){this.$set(this.currPhrase,"color",t.color),this.$set(this.currPhrase,"bgcolor",t.bgcolor),this.updatedPhrases()},repeatExampleAnimation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anim_from";this.animationState&&(this.tlExampleText&&(this.tlExampleText.restart().pause(0,!1),this.tlExampleText.kill(),this.tlExampleText=null),this.tlExampleText=g["a"].timeline({repeat:-1,onComplete:function(){}}),this.$nextTick((function(){var a=".phrase-example ."+t.datacard.slides[t.currSlide].textSide.options.font.split_by,s=d.a.find(t.optionsAnimationsStart,{value:t.currAnimations.from}).anim,r=d.a.find(t.optionsAnimationsFinish,{value:t.currAnimations.to}).anim;g["a"].set(a,{clearProps:"all"}),t.tlExampleText.to(".phrase-example",{duration:.25,opacity:1}),t.tlExampleText.addLabel("anim_from"),t.tlExampleText.from(a,s),t.tlExampleText.addLabel("anim_to","+="+(r.delay>1?r.delay-.5:r.delay)),t.tlExampleText.to(a,r),t.tlExampleText.seek(e).play()})))},beforeShowAnimation:function(){this.$nextTick((function(){g["a"].set(".phrase-example",{opacity:0})}))},showAnimation:function(){this.animationState=!0,nt()({by:this.datacard.slides[this.currSlide].textSide.options.font.split_by+"s"}),this.repeatExampleAnimation()},hideAnimation:function(){this.animationState=!1},restartComponents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.openCard=!0,this.datacard.slides[this.currSlide].textSide.options.animation_from=this.currAnimations.from,this.datacard.slides[this.currSlide].textSide.options.animation_to=this.currAnimations.to,this.$parent.$parent.$parent.$parent.$refs.textSide.restartComponent(t)},diffLibPhrases:function(){var t=JSON.parse(JSON.stringify(this.libPhrases));this.library=d.a.orderBy(d.a.filter(d.a.xorBy(t,this.phrases,"text"),(function(t){return!t.custom})),"langs."+this.datacard.options.language)},clearPhrases:function(){this.phrases=[],this.updatedPhrases()},updateCurrentPhrase:function(){this.dialogEditPhrase=!1;var t=d.a.findIndex(this.phrases,{id:this.currPhrase.id});this.currPhrase.custom=!0,this.$set(this.phrases,[t],this.currPhrase),this.updatedPhrases()},checkCountPhrases:function(){if(this.phrases.length>=this.maxLengthPhrases)return this.bannerMaxLength=!0,!1},uuid:function(){return Object(lt["a"])()},applyToAllColor:function(t,e){switch(this.$set(e,"menucolor",!1),t){case"random":var a=this.palleteColors.slice(),s=!0,r=!1,i=void 0;try{for(var o,n=this.phrases[Symbol.iterator]();!(s=(o=n.next()).done);s=!0){var l=o.value,c=d.a.random(0,a.length-1),p=a[c];this.$set(l,"bgcolor",p.bgcolor),this.$set(l,"color",p.color),a.splice(c,1)}}catch(w){r=!0,i=w}finally{try{s||null==n.return||n.return()}finally{if(r)throw i}}break;case"all":var u=!0,m=!1,f=void 0;try{for(var h,g=this.phrases[Symbol.iterator]();!(u=(h=g.next()).done);u=!0){var b=h.value;this.$set(b,"bgcolor",JSON.parse(JSON.stringify(e))["bgcolor"]),this.$set(b,"color",JSON.parse(JSON.stringify(e))["color"])}}catch(w){m=!0,f=w}finally{try{u||null==g.return||g.return()}finally{if(m)throw f}}break;default:var v=!0,y=!1,x=void 0;try{for(var q,C=this.phrases[Symbol.iterator]();!(v=(q=C.next()).done);v=!0){var _=q.value;this.$set(_,t,JSON.parse(JSON.stringify(e))[t])}}catch(w){y=!0,x=w}finally{try{v||null==C.return||C.return()}finally{if(y)throw x}}}this.updatedPhrases()},importMultiline:function(){var t=this.multilineText.split(/\r?\n/),e=!0,a=!1,s=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.addCustomPhrase({text:o,multiline:!0})}}catch(n){a=!0,s=n}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}},addCustomPhrase:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.phrases.length>=this.maxLengthPhrases)this.bannerMaxLength=!0;else if(0!=this.customPhrase.length||t){var e=JSON.parse(JSON.stringify(this.emptyCustomPhrase));e.text=t?t.text:this.customPhrase,e.id=this.uuid();var a=this.checkEqualColors();e.color=a.color,e.bgcolor=a.bgcolor,t&&t.hasOwnProperty("multiline")?(e.multiline=t.multiline,this.phrases.push(e)):this.phrases.unshift(e),this.customPhrase="",this.updatedPhrases(),this.$refs.customPhrase.resetValidation()}else this.$q.notify({message:this.$t("main.not_empty_phrase"),timeout:3e3,color:"primary"})},getLuminosity:function(t,e){var a;return"bg"==e&&(a=t.hasOwnProperty("bgcolor")?t.bgcolor:this.datacard.slides[this.currSlide].textSide.options.bgcolor),"color"==e&&(a=t.hasOwnProperty("color")?t.color:this.datacard.slides[this.currSlide].textSide.options.font.color),pt(a)},updatedPhrases:function(){this.datacard.slides[this.currSlide].textSide.options.phrases=JSON.parse(JSON.stringify(this.phrases)),this.diffLibPhrases()},updatedLanguage:function(t){this.datacard.options.language=t,this.diffLibPhrases()},checkEqualColors:function(){var t,e=this.datacard.slides[this.currSlide].textSide.options.phrases,a="#000000",s="#ffffff";if(e.length>0){t=JSON.parse(JSON.stringify(e[0]));var r=d.a.differenceBy(e,[t],"color").length,i=d.a.differenceBy(e,[t],"bgcolor").length;a=0==r&&0==i?t.color:"#000000",s=0==r&&0==i?t.bgcolor:"#ffffff"}return{color:a,bgcolor:s}},deletePhrase:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&!t.custome&&(this.$set(t,"color","#000000"),this.$set(t,"bgcolor","#ffffff")),null!=e&&this.phrases.splice(e,1),this.updatedPhrases(),this.diffLibPhrases()},addPhrase:function(t){this.phrases.length>=this.maxLengthPhrases?this.bannerMaxLength=!0:(this.$set(t,"color","#000000"),this.$set(t,"bgcolor","#ffffff"),this.phrases.unshift(t),this.updatedPhrases())},changePhrases:function(t){if(t.hasOwnProperty("added")){var e=t.added.element,a=this.checkEqualColors();this.$set(e,"color",a.color),this.$set(e,"bgcolor",a.bgcolor),this.$set(e,"menucolor",!1),this.$set(e,"id",this.uuid()),this.updatedPhrases()}if(t.hasOwnProperty("removed")){var s=t.removed.element;this.deletePhrase(s)}}},mounted:function(){this.phrases=JSON.parse(JSON.stringify(this.datacard.slides[this.currSlide].textSide.options.phrases));var t=!0,e=!1,a=void 0;try{for(var s,r=this.phrases[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var i=s.value;this.$set(i,"menucolor",!1)}}catch(o){e=!0,a=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}this.diffLibPhrases(),this.currCategoryPhrase||(this.currCategoryPhrase=this.optionsCategoriesPhrases[0].value),this.currAnimations.from=this.datacard.slides[this.currSlide].textSide.options.animation_from,this.currAnimations.to=this.datacard.slides[this.currSlide].textSide.options.animation_to}},mt=ut,ft=a("24e8"),ht=a("66e5"),gt=a("4074"),bt=a("0170"),vt=a("9564"),yt=a("4e73"),xt=a("1c1c"),qt=a("b498"),Ct=a("f20b"),_t=a("cb32"),wt=a("54e1"),St=Object(O["a"])(mt,tt,et,!1,null,null,null),kt=St.exports;j()(St,"components",{QDialog:ft["a"],QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QBtn:T["a"],QCardSection:M["a"],QInput:R["a"],QSpace:U["a"],QSelect:E["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QScrollArea:L["a"],QTooltip:J["a"],QToggle:vt["a"],QIcon:F["a"],QMenu:yt["a"],QList:xt["a"],QColor:qt["a"],QBtnDropdown:Ct["a"],QAvatar:_t["a"],QSeparator:A["a"],QBanner:wt["a"]}),j()(St,"directives",{ClosePopup:G["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-width":"980px"}},[a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"Image",accept:"image/*"},on:{change:function(e){return t.handleImageUpload()}}}),a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v(t._s(t.$t("main.photo")))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"col relative-position text-secondary"},[t.hasSrcImg?a("div",{staticClass:"row"},[a("q-tabs",{staticClass:"bg-white text-primary",attrs:{"inline-label":"","no-caps":""},model:{value:t.tabEffects,callback:function(e){t.tabEffects=e},expression:"tabEffects"}},[a("q-tab",{attrs:{name:"effects",icon:"movie_filter",label:t.$t("main.effects")}}),a("q-tab",{attrs:{name:"liveframes",icon:"icon-mirror",label:t.$t("main.liveframes")}},[a("q-badge",{attrs:{color:"purple",floating:""}},[t._v(t._s(t.$t("main.new")))])],1)],1),a("q-space"),a("div",{staticClass:"col text-right q-pa-sm"},[a("q-btn",{attrs:{"no-caps":"",icon:"photo_filter",color:"primary",label:t.$t("main.filters")}},[a("q-menu",{staticClass:"shadow-3",attrs:{anchor:"bottom right",self:"top right",offset:[0,10],"transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",{staticStyle:{"min-width":"300px"}},[a("q-card-section",{attrs:{align:"right"}},[a("q-select",{staticStyle:{width:"auto","font-size":"18px"},attrs:{options:t.optionsAppendFilterTo,outlined:"","emit-value":"","map-options":"",dense:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.apply_to")))])]},proxy:!0}],null,!1,3545422979),model:{value:t.appendFilterTo,callback:function(e){t.appendFilterTo=e},expression:"appendFilterTo"}})],1)],1),a("q-separator"),a("image-filters",{attrs:{imgObject:t.appendFilterTo}})],1)],1)],1)],1):t._e(),t.hasSrcImg&&"liveframes"==t.tabEffects?a("q-scroll-area",{ref:"scrollarea",staticClass:"text-secondary",staticStyle:{width:"100%",height:"400px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",{staticClass:"row"},[a("div",{key:"none",staticClass:"col-4 q-pa-sm flex flex-center q-mt-sm",class:{"text-accent":0==t.datacard.slides[t.currSlide].imageSide.images[0].liveframe},staticStyle:{width:"137px",height:"120px","border-radius":"5px","margin-left":"18px"},on:{click:function(e){return t.addLiveFrame(!1)}}},[a("q-icon",{attrs:{name:"not_interested",size:"60px"}})],1),t._l(t.libLiveFrames,(function(e,s){return a("div",{key:e.name,staticClass:"col-4 q-pa-sm"},[a("q-img",{class:{"bg-orange-2":t.datacard.slides[t.currSlide].imageSide.images[0].liveframe.name==e.name},staticStyle:{cursor:"pointer",border:"solid 1px","border-radius":"5px"},attrs:{src:t.liveFrameSrcByName(e.name),ratio:1},on:{click:function(a){return t.addLiveFrame(e)}}})],1)}))],2)]):t._e(),t.hasSrcImg&&"effects"==t.tabEffects?a("div",{staticClass:"col q-gutter-sm q-pa-sm"},t._l(t.overlayOptions,(function(e){return a("q-btn",{key:e.name,staticStyle:{width:"104px","min-height":"100px"},attrs:{"no-caps":"",color:"primary",outline:t.datacard.slides[t.currSlide].imageSide.images[0].overlay.name!=e.value,stack:""},on:{click:function(a){t.datacard.slides[t.currSlide].imageSide.images[0].overlay.name=e.value}}},[a("q-icon",{attrs:{name:e.icon,size:"45px"}}),a("div",{staticClass:"q-mt-xs"},[t._v(t._s(e.label[t.$i18n.locale]))])],1)})),1):t._e(),t.cropImg||t.hasSrcImg?t._e():a("div",{staticClass:"absolute-top-left fit flex flex-center text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-center text-primary text-h5"},[a("span",{domProps:{innerHTML:t._s(t.$t("main.photo_upload_text"))}})])])]),t.cropImg?a("div",{staticClass:"absolute-top-left fit flex flex-center text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{"max-width":"150px"}},[a("img",{attrs:{src:"statics/img/zoom-photo.jpg"}})]),a("div",{staticClass:"col flex items-center text-center"},[a("div",{staticClass:"text-primary  q-pr-md",staticStyle:{"font-size":"16px"}},[a("span",{domProps:{innerHTML:t._s(t.$t("main.move_text"))}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col flex items-center text-center"},[a("div",{staticClass:"text-primary q-pl-md",staticStyle:{"font-size":"16px"}},[a("span",{domProps:{innerHTML:t._s(t.$t("main.zoom_in_out_text"))}})])]),a("div",{staticClass:"col",staticStyle:{"max-width":"150px"}},[a("img",{attrs:{src:"statics/img/hold-mouse-photo.jpg"}})])])]):t._e()],1),a("div",{staticClass:"col q-pa-none q-ml-md"},[a("div",{staticClass:"flex flex-center",staticStyle:{filter:"drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.45))",width:"480px",height:"480px"}},[a("div",{staticClass:"absolute",staticStyle:{"z-index":"10",width:"480px",height:"480px",top:"0",left:"0","background-repeat":"no-repeat",filter:"drop-shadow(5px 5px 2px rgba(0,0,0,0.25))","pointer-events":"none"},style:{"background-image":"url("+t.liveFrameSrcByName(t.currImg.liveframe.name)+")"}}),a("div",{staticStyle:{width:"400px",height:"400px","background-color":"#EEE","background-size":"cover",position:"relative"},style:{"clip-path":t.formPath}},[a("div",{staticStyle:{width:"400px",height:"400px","z-index":"10",position:"absolute",top:"0",left:"0",color:"#fff","background-repeat":"no-repeat","pointer-events":"none"},style:{"background-image":t.overlayImage.src,"background-position":t.overlayImage.center?"center center":"0 0",filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n                      saturate("+t.currImg.overlay.filters.saturate+"%)\n                      brightness("+t.currImg.overlay.filters.brightness+"%)\n                      sepia("+t.currImg.overlay.filters.sepia+"%)\n                      contrast("+t.currImg.overlay.filters.contrast+"%)\n                      blur("+t.currImg.overlay.filters.blur+"px)"}}),t.overlayImage.mirror?a("div",{staticStyle:{width:"400px",height:"200px","z-index":"10",position:"absolute",bottom:"0",left:"0",color:"#fff","background-repeat":"no-repeat","background-position":"0 0","pointer-events":"none",transform:"scale(-1)","transform-origin":"center center"},style:{"background-image":t.overlayImage.src,filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n                      saturate("+t.currImg.overlay.filters.saturate+"%)\n                      brightness("+t.currImg.overlay.filters.brightness+"%)\n                      sepia("+t.currImg.overlay.filters.sepia+"%)\n                      contrast("+t.currImg.overlay.filters.contrast+"%)\n                      blur("+t.currImg.overlay.filters.blur+"px)\n                      "}}):t._e(),a("div",{staticStyle:{position:"absolute",top:"0",left:"0","z-index":"1",width:"100%",height:"100%","background-size":"contain"},style:{"background-image":""+t.currSrcImg,filter:"hue-rotate("+t.currImg.filters.hue+"deg) \n                      saturate("+t.currImg.filters.saturate+"%)\n                      brightness("+t.currImg.filters.brightness+"%)\n                      contrast("+t.currImg.filters.contrast+"%)\n                      sepia("+t.currImg.filters.sepia+"%)\n                      blur("+t.currImg.filters.blur+"px)\n                      ",transform:"scaleX("+t.currImg.flip.x+") scaleY("+t.currImg.flip.y+")"}}),t.hasSrcImg?t._e():a("clipper-fixed",{ref:"clipper",staticStyle:{position:"absolute",top:"0",left:"0","z-index":"1",width:"100%"},attrs:{area:100,grid:!0,ratio:1,bgColor:"#fff","border-color":"transparent",src:t.cropImg}}),a("div",{staticClass:"absolute flex flex-center fit",staticStyle:{top:"0",left:"0"}},[t.cropImg||t.hasSrcImg?t._e():a("q-btn",{staticStyle:{"z-index":"2"},attrs:{"no-caps":"",flat:"",rounded:"",color:"primary",icon:"add_photo_alternate",label:t.$t("main.upload_photo"),size:"20px"},on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}})],1)],1)]),t.cropImg?a("div",{staticClass:"q-mt-md text-right row"},[a("q-btn",{staticClass:"q-mr-xs",attrs:{"no-caps":"",outline:"",color:"primary",icon:"close",label:t.$t("main.cancel")},on:{click:function(e){return e.preventDefault(),t.cancelPhoto(e)}}}),a("q-space"),a("q-btn",{staticClass:"q-ml-xs",attrs:{"no-caps":"",color:"primary",icon:"check",label:t.$t("main.apply")},on:{click:function(e){return e.preventDefault(),t.croppedPhoto(e)}}})],1):t._e(),!t.cropImg&&t.hasSrcImg?a("div",{staticClass:"q-mt-md row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",color:"primary",icon:"delete_forever",label:t.$t("main.delete_photo")}},[a("q-menu",{staticClass:"shadow-3",attrs:{"auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n                    "+t._s(t.$t("main.confirmation"))+"\n                    ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                    "+t._s(t.$t("main.delete_photo_text"))+"\n                  ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.cancelPhoto(e)}}})],1)],1)],1)],1),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",color:"accent",icon:"check",label:t.$t("main.ready")},on:{click:t.applyPhoto}})],1):t._e()])])],1)],1)},Ot=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.imgObject?a("q-card",{staticStyle:{width:"100%"},attrs:{flat:"",square:""}},[t._l(t.filtersData,(function(e){return t.excludeFilters.includes(e.name)?t._e():a("q-card-section",{key:e.name,staticClass:"row items-center q-pl-sm q-pr-sm q-pt-xs q-pb-none"},[a("div",{staticClass:"col text-left",staticStyle:{"max-width":"50px"}},[a("q-icon",{attrs:{name:e.icon,color:"primary",size:"25px"}})],1),a("div",{staticClass:"col q-pr-lg"},[a("q-slider",{attrs:{min:e.min,max:e.max,step:e.step},model:{value:t.imgObject.filters[e.name],callback:function(a){t.$set(t.imgObject.filters,e.name,a)},expression:"imgObject.filters[filterItem.name]"}})],1)])})),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{outline:"","no-caps":"",icon:"replay",color:"primary"},on:{click:function(e){return t.resetFilter()}}}),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"check",label:t.$t("main.apply"),color:"primary"}})],1)],2):t._e()},jt=[];function It(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function zt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?It(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width,C["a"].lighten,C["a"].setBrand;var Dt={props:{imgObject:{type:Object,default:null},excludeFilters:{type:Array,default:function(){return[]}}},data:function(){return{filtersData:[{name:"hue",min:0,max:360,step:1,icon:"color_lens"},{name:"saturate",min:0,max:100,step:1,icon:"invert_colors"},{name:"brightness",min:25,max:150,step:1,icon:"wb_sunny"},{name:"contrast",min:100,max:200,step:1,icon:"brightness_medium"},{name:"sepia",min:0,max:100,step:1,icon:"filter_vintage"}]}},methods:{resetFilter:function(){this.imgObject&&(this.imgObject.filters.hue=0,this.imgObject.filters.saturate=100,this.imgObject.filters.brightness=100,this.imgObject.filters.contrast=100,this.imgObject.filters.sepia=0,this.imgObject.filters.blur=0)}},computed:zt({},Object(h["c"])(["datacard"])),mounted:function(){}},Ft=Dt,Tt=a("c1d0"),Mt=Object(O["a"])(Ft,Pt,jt,!1,null,null,null),Qt=Mt.exports;j()(Mt,"components",{QCard:I["a"],QCardSection:M["a"],QIcon:F["a"],QSlider:Tt["a"],QBtn:T["a"],QSpace:U["a"]}),j()(Mt,"directives",{ClosePopup:G["a"]});a("07a2");function Lt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function At(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Lt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Et={components:{ImageFilters:Qt},data:function(){return{cropImg:null,jpgBase64URL:"none",appendFilterTo:null,tabEffects:"effects"}},methods:At({},Object(h["b"])(["setCurrCardLiveFrame"]),{handleImageUpload:function(){var t=this,e=new FileReader,a=this.$refs.image.files[0];e.addEventListener("load",(function(e){t.cropImg=e.target.result})),e.readAsDataURL(a)},selectImage:function(){this.$refs.image.click()},addLiveFrame:function(t){this.$set(this.currImg,"liveframe",t)},resetFilter:function(){this.currImg&&(this.currImg.filters.hue=0,this.currImg.filters.saturate=100,this.currImg.filters.brightness=100,this.currImg.filters.contrast=100,this.currImg.filters.sepia=0,this.currImg.filters.blur=0,this.currImg.overlay.filters.hue=0,this.currImg.overlay.saturate=100,this.currImg.overlay.brightness=100,this.currImg.overlay.contrast=100,this.currImg.overlay.filters.sepia=0,this.currImg.overlay.filters.blur=0)},croppedPhoto:function(){var t=this.$refs.clipper.clip({wPixel:400});this.jpgBase64URL=t.toDataURL("image/jpeg",.9),this.cropImg=null,this.$refs.image.value=""},applyPhoto:function(){this.cardIsOpen||this.$parent.$parent.$parent.$parent.toggleCard(!0),this.currImg.liveframe&&this.$parent.$parent.$parent.$parent.$refs.liveFrame.initLiveFrame(),this.currImg.src=this.jpgBase64URL},cancelPhoto:function(){this.currImg.flip.x=1,this.currImg.flip.y=1,this.jpgBase64URL="none",this.currImg.src="none",this.currImg.overlay.name="none",this.cropImg=null,this.$refs.image.value="",this.currImg.hasOwnProperty("liveframe")&&(this.currImg.liveframe=!1),this.resetFilter()},liveFrameSrcByName:function(t){var e=t||"none";return"statics/liveframes/"+e+".png"}}),computed:At({},Object(h["c"])(["datacard","currSlide","currCardForm","overlayOptions","libLiveFrames","cardIsOpen","thumbStyleVertical"]),{dialogGiftImage:{get:function(){return this.$store.state.glob.dialogGiftImage},set:function(t){this.$store.commit("setDialogGiftImage",t)}},currImg:function(){return this.datacard.slides[this.currSlide].imageSide.images[0]},formPath:function(){return this.currCardForm?"url(#"+this.currCardForm.name+")":"none"},hasSrcImg:function(){return"none"!=this.jpgBase64URL},currSrcImg:function(){return this.datacard.slides[this.currSlide].imageSide.images.length>0&&"none"!=this.jpgBase64URL?"url("+this.jpgBase64URL+")":"none"},overlayImage:function(){var t=this.datacard.slides[this.currSlide].imageSide.images[0].overlay.name,e=d.a.find(this.overlayOptions,{value:t});return{src:"none"==e.src?"none":"url("+e.src+")",mirror:!!e.hasOwnProperty("mirror")&&e.mirror,center:!!e.hasOwnProperty("center")&&e.center}},optionsAppendFilterTo:function(){return[{label:this.$t("main.apply_to_photo"),value:this.currImg},{label:this.$t("main.apply_to_effect"),value:this.currImg.overlay}]}}),mounted:function(){this.appendFilterTo=this.currImg,this.jpgBase64URL=this.currImg.src}},Nt=Et,Bt=a("429b"),Rt=a("7460"),Jt=Object(O["a"])(Nt,$t,Ot,!1,null,null,null),Ut=Jt.exports;j()(Jt,"components",{QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QBtn:T["a"],QCardSection:M["a"],QTabs:Bt["a"],QTab:Rt["a"],QBadge:Q["a"],QMenu:yt["a"],QList:xt["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QSeparator:A["a"],QIcon:F["a"],QSpace:U["a"],QSelect:E["a"],QRadio:N["a"],QScrollArea:L["a"],QImg:V["a"]}),j()(Jt,"directives",{ClosePopup:G["a"]});var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative-position"},[a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"Image"},on:{change:function(e){return t.handleImageUpload()}}}),a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v(t._s(t.$t("main.design")))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"q-mb-xs q-pa-none"},[a("q-tabs",{staticClass:"text-primary",attrs:{dense:"",align:"justify","active-color":"white","active-bg-color":"primary"},on:{input:t.resetScrollArea},model:{value:t.tabDecor,callback:function(e){t.tabDecor=e},expression:"tabDecor"}},t._l(t.tabsDecor,(function(e){return a("q-tab",{key:e.name,attrs:{"no-caps":"",ripple:!1,name:e.name}},[a("q-icon",{staticClass:"q-mt-sm",attrs:{name:e.icon,size:"40px"}}),a("div",{staticClass:"q-pt-xs"},[t._v(t._s(e.label))])],1)})),1)],1),"signature"==t.tabDecor?a("div",{staticStyle:{height:"402px"}},[a("q-card-section",{staticClass:"q-pa-sm q-ma-sm row full-width"},[a("div",{staticClass:"full-width"},[a("q-toggle",{attrs:{label:t.$t("main.sign_postcard"),color:"accent"},on:{input:t.toggleCardName},model:{value:t.datacard.options.signature.hasname,callback:function(e){t.$set(t.datacard.options.signature,"hasname",e)},expression:"datacard.options.signature.hasname"}}),a("q-space"),a("q-slide-transition",[t.datacard.options.signature.hasname?a("div",{staticClass:"row full-width q-pl-xs"},[a("q-input",{staticClass:"full-width q-mt-md",attrs:{dense:"",outlined:"","no-error-icon":"",placeholder:t.$t("main.you_text_signature"),maxlength:25,"input-style":"font-size:20px;"},scopedSlots:t._u([{key:"after",fn:function(){return[t.datacard.options.signature.hasname?a("q-btn",{staticClass:"q-ml-sm",staticStyle:{width:"40px",height:"40px",border:"solid 1px #ccc"},attrs:{flat:"",color:"primary"}},[a("div",{staticStyle:{position:"absolute",top:"-30px",left:"0","z-index":"10",width:"100%",height:"25px",border:"solid 1px #ccc"},style:{background:t.datacard.options.signature.font.color}}),a("q-icon",{attrs:{name:"color_lens",size:"30px"}}),a("q-menu",{staticClass:"shadow-3",attrs:{offset:[0,0],anchor:"top left",self:"top left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",{staticStyle:{width:"200px"}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"text-primary row items-center",staticStyle:{"font-size":"14px"}},[a("q-icon",{attrs:{name:"color_lens",size:"30px"}}),a("span",{staticClass:"q-ml-xs",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("main.color_text")))]),a("q-space")],1)],1),a("q-card-section",{staticClass:"q-pa-xs"},[a("q-color",{attrs:{flat:"","no-header":"","no-footer":""},model:{value:t.datacard.options.signature.font.color,callback:function(e){t.$set(t.datacard.options.signature.font,"color",e)},expression:"datacard.options.signature.font.color"}})],1),a("q-card-section",{staticClass:"q-pt-none q-pr-md q-pl-md q-pb-md",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary",label:t.$t("main.apply")}})],1)],1)],1)],1):t._e(),t.datacard.options.signature.hasname?a("q-btn",{staticClass:"q-ml-sm",staticStyle:{width:"40px",height:"40px",border:"solid 1px #ccc"},attrs:{icon:"icon-text-outline",flat:"",color:"primary"}},[t.datacard.options.signature.font.outline&&"none"!=t.datacard.options.signature.font.outlineColor?a("div",{staticStyle:{position:"absolute",top:"-30px",left:"0","z-index":"10",width:"100%",height:"25px",border:"solid 1px #ccc"},style:{background:t.datacard.options.signature.font.outlineColor}}):t._e(),a("q-menu",{staticClass:"shadow-3",attrs:{offset:[0,0],anchor:"top left",self:"top left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",{staticStyle:{width:"200px"}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"text-primary row items-center",staticStyle:{"font-size":"14px"}},[a("q-icon",{attrs:{name:"icon-text-outline",size:"20px"}}),a("span",{staticClass:"q-ml-sm",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.$t("main.stroke")))]),a("q-space"),a("q-toggle",{attrs:{size:"xs"},on:{input:function(e){t.datacard.options.signature.font.outlineColor=e?"#ffffff":"none"}},model:{value:t.datacard.options.signature.font.outline,callback:function(e){t.$set(t.datacard.options.signature.font,"outline",e)},expression:"datacard.options.signature.font.outline"}})],1)],1),t.datacard.options.signature.font.outline?t._e():a("q-card-section",{staticClass:"q-pa-md text-grey"},[a("q-icon",{attrs:{name:"not_interested"}}),t._v(" "+t._s(t.$t("main.disabled"))+"\n                      ")],1),a("q-slide-transition",[t.datacard.options.signature.font.outline?a("q-card-section",{staticClass:"q-pa-xs"},[a("q-color",{attrs:{flat:"","no-header":"","no-footer":""},model:{value:t.datacard.options.signature.font.outlineColor,callback:function(e){t.$set(t.datacard.options.signature.font,"outlineColor",e)},expression:"datacard.options.signature.font.outlineColor"}})],1):t._e()],1),t.datacard.options.signature.font.outline?a("q-card-section",{staticClass:"q-pt-none q-pr-md q-pl-md q-pb-md",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary",label:t.$t("main.apply")}})],1):t._e()],1)],1)],1):t._e()]},proxy:!0}],null,!1,748392355),model:{value:t.datacard.options.signature.name,callback:function(e){t.$set(t.datacard.options.signature,"name",e)},expression:"datacard.options.signature.name"}}),a("div",{staticClass:"q-mt-md q-mb-md flex full-width"},[a("q-select",{staticClass:"full-width",attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"fontName","option-label":"fontName",options:t.optionsFonts},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"font_download"}})]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"25px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(" \n                        "+t._s(e.opt.fontName)+"\n                      ")])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"20px"}},[t._v(t._s(e.opt.fontName))])],1)],1)]}}],null,!1,2269439274),model:{value:t.datacard.options.signature.font.family,callback:function(e){t.$set(t.datacard.options.signature.font,"family",e)},expression:"datacard.options.signature.font.family"}})],1),a("div",{staticClass:"full-width q-mt-none"},[a("q-item",{staticClass:"q-pt-none"},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"format_size"}})],1),a("q-item-section",[a("q-slider",{attrs:{min:18,max:50,color:"primary"},model:{value:t.datacard.options.signature.font.size,callback:function(e){t.$set(t.datacard.options.signature.font,"size",e)},expression:"datacard.options.signature.font.size"}})],1)],1)],1)],1):t._e()])],1),a("div",{staticClass:"full-width"},[a("q-toggle",{attrs:{label:t.$t("main.add_avatar_logo"),color:"accent"},on:{input:t.toggleAvatar},model:{value:t.datacard.options.signature.hasavatar,callback:function(e){t.$set(t.datacard.options.signature,"hasavatar",e)},expression:"datacard.options.signature.hasavatar"}}),a("q-slide-transition",[t.datacard.options.signature.hasavatar?a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col-auto flex flex-center",staticStyle:{"min-width":"100px"}},["none"!=t.datacard.options.signature.avatar||t.cropImg?t._e():a("q-btn",{attrs:{round:"",icon:"add_photo_alternate",size:"lg",color:"white","text-color":"primary"},on:{click:function(e){return e.preventDefault(),t.selectAvatar(e)}}}),"none"!=t.datacard.options.signature.avatar?a("q-img",{staticClass:"shadow-1",staticStyle:{width:"100px","border-radius":"50%",border:"solid 5px #fff"},attrs:{ratio:1,src:t.datacard.options.signature.avatar}}):t._e(),"none"!=t.datacard.options.signature.avatar?a("q-btn",{staticClass:"absolute bg-white",staticStyle:{"z-index":"10","margin-top":"35px","margin-left":"35px"},attrs:{dense:"",round:"",icon:"delete_forever",size:"md","text-color":"primary",outline:""}},[a("q-menu",{staticClass:"shadow-3",attrs:{"auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n                        "+t._s(t.$t("main.confirmation"))+"\n                      ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                      "+t._s(t.$t("main.delete_avatar"))+"\n                    ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.cancelAvatar(e)}}})],1)],1)],1)],1):t._e()],1),a("div",{staticClass:"col row items-center justify-center"},[t.cropImg?t._e():a("div",{staticClass:"text-primary q-pa-sm",staticStyle:{"font-size":"16px"}},[t._v("\n                "+t._s(t.$t("main.upload_avatar"))+"\n              ")])])]):t._e()])],1)])],1):t._e(),"form"==t.tabDecor?a("div",[a("q-card-section",{staticClass:"row q-pa-xs q-ma-none"},[a("q-select",{staticClass:"full-width",staticStyle:{"font-size":"18px"},attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesForms},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticClass:"q-ml-sm",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.category"))+" ")])]},proxy:!0}],null,!1,416486852),model:{value:t.currCategoryForm,callback:function(e){t.currCategoryForm=e},expression:"currCategoryForm"}})],1),a("q-card-section",{staticClass:"row q-pa-xs"},[a("q-scroll-area",{ref:"scrollarea",staticClass:"text-secondary",staticStyle:{width:"100%",height:"350px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",{staticClass:"row"},t._l(t.filterLibForms,(function(e){return a("div",{key:e.name,staticClass:"col-6 q-pa-sm"},[a("q-img",{staticStyle:{cursor:"pointer"},attrs:{src:t.svgSrc(e),ratio:1},on:{click:function(a){return t.$emit("setFormCard",e)}},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.form==e.name?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)})),0)])],1)],1):t._e(),"cover"==t.tabDecor?a("div",[a("q-card-section",{staticClass:"row q-pa-xs q-ma-none"},[a("q-select",{staticClass:"full-width",staticStyle:{"font-size":"18px"},attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesCovers},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticClass:"q-ml-sm",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.category"))+" ")])]},proxy:!0}],null,!1,416486852),model:{value:t.currCategoryCover,callback:function(e){t.currCategoryCover=e},expression:"currCategoryCover"}})],1),a("q-card-section",{staticClass:"row q-pa-xs q-ma-none"},[a("q-scroll-area",{ref:"scrollarea",staticClass:"text-secondary",staticStyle:{width:"100%",height:"350px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",{staticClass:"row"},t._l(t.filterLibCovers,(function(e){return a("div",{staticClass:"col-4 q-pa-xs",staticStyle:{cursor:"pointer"}},[a("q-img",{staticStyle:{border:"solid 1px rgba(0,0,0,0.25)"},attrs:{src:"statics/bgs/covers/"+e.img,position:"0 0",ratio:1},on:{click:function(a){return t.selectCover("statics/bgs/covers/"+e.img)}},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.coverimage.src=="statics/bgs/covers/"+e.img?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)})),0)])],1)],1):t._e(),"bgtexture"==t.tabDecor?a("div",[a("q-card-section",{staticClass:"row q-pa-xs q-ma-none"},[a("q-select",{staticClass:"full-width",staticStyle:{"font-size":"18px"},attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesBackgrounds},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticClass:"q-ml-sm",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.category")))])]},proxy:!0}],null,!1,711718799),model:{value:t.currCategoryBackground,callback:function(e){t.currCategoryBackground=e},expression:"currCategoryBackground"}})],1),a("q-card-section",{staticClass:"row q-pa-xs"},[a("q-scroll-area",{ref:"scrollarea",staticClass:"text-secondary",staticStyle:{width:"100%",height:"350px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("div",{staticClass:"row"},t._l(t.filterLibBackgrounds,(function(e){return a("div",{staticClass:"col-4 q-pa-xs",staticStyle:{cursor:"pointer"}},[a("q-img",{staticStyle:{border:"solid 1px #ccc"},attrs:{src:"statics/bgs/textures/"+e.img,ratio:1},on:{click:function(a){t.resetFilter(),t.datacard.options.bgtexture.src="statics/bgs/textures/"+e.img}},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.bgtexture.src=="statics/bgs/textures/"+e.img?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)})),0)])],1)],1):t._e(),a("q-card-section",{staticClass:"row"},["bgtexture"==t.tabDecor||"cover"==t.tabDecor?a("q-btn",{attrs:{"no-caps":"",icon:"photo_filter",color:"primary",label:t.$t("main.filters")},on:{click:function(e){return t.checkOpenCover(0)}}},[a("q-menu",{staticClass:"shadow-3",staticStyle:{width:"100%"},attrs:{cover:"",anchor:"bottom left",offset:[0,0],"transition-show":"jump-down","transition-hide":"jump-up"}},["bgtexture"==t.tabDecor?a("image-filters",{staticStyle:{"min-width":"300px"},attrs:{imgObject:t.datacard.options.bgtexture}}):t._e(),"cover"==t.tabDecor?a("image-filters",{staticStyle:{"min-width":"300px"},attrs:{imgObject:t.datacard.options.coverimage}}):t._e()],1)],1):t._e(),a("q-space"),t.cropImg?t._e():a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary",label:t.$t("main.apply")},on:{click:function(e){return t.detectReset()}}})],1),t.cropImg?a("q-card-section",{staticClass:"bg-white fit flex flex-center q-pa-md",staticStyle:{position:"absolute",bottom:"0px",left:"0"}},[a("div",{staticClass:"row full-width text-primary",staticStyle:{"font-size":"16px"}},[a("div",{staticClass:"col-auto flex items-center q-pr-md"},[a("img",{attrs:{src:"statics/img/hold-mouse-photo.jpg",height:"60"}}),t._v(" - "+t._s(t.$t("main.move")))]),a("div",{staticClass:"col flex items-center"},[a("img",{attrs:{src:"statics/img/zoom-photo.jpg",height:"60"}}),t._v(" - "+t._s(t.$t("main.zoom_in_out")))])]),a("clipper-fixed",{ref:"clipperAvatar",staticClass:"q-mb-md",staticStyle:{width:"300px",height:"300px"},attrs:{area:100,grid:!0,shadow:"#ffffff",round:"",border:2,"border-color":"#C0C0C0",bgColor:"#ffffff",src:t.cropImg}}),a("q-btn",{attrs:{"no-caps":"",icon:"close",outline:"",color:"primary",label:t.$t("main.cancel")},on:{click:function(e){return e.preventDefault(),t.cancelAvatar(e)}}}),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"crop",color:"primary",label:t.$t("main.create_avatar")},on:{click:function(e){return e.preventDefault(),t.croppedAvatar(e)}}})],1):t._e()],1)],1)},Gt=[];a("6762"),a("2fdb");function Ht(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Xt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ht(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);C["a"].lighten;var Wt={components:{ImageFilters:Qt},data:function(){return{tabDecor:"cover",avatarBase64URL:null,cropImg:null}},methods:{resetScrollArea:function(){var t=this;setTimeout((function(){t.$refs.scrollarea&&t.$refs.scrollarea.setScrollPosition(0)}),100)},detectReset:function(){!this.datacard.options.signature.hasname||this.datacard.options.signature.name!=this.defaultText&&""!=this.datacard.options.signature.name||(this.datacard.options.signature.hasname=!1,this.datacard.options.signature.name),this.datacard.options.signature.hasavatar&&"none"==this.datacard.options.signature.avatar&&(this.datacard.options.signature.hasavatar=!1,this.datacard.options.signature.avatar)},toggleCardName:function(t){this.datacard.options.signature.name=t?this.datacard.options.signature.hasname&&""==this.datacard.options.signature.name?this.defaultText:this.datacard.options.signature.name:"",this.checkOpenCover(0)},toggleAvatar:function(t){t||this.cancelAvatar(),this.checkOpenCover(0)},handleImageUpload:function(){var t=this,e=new FileReader,a=this.$refs.image.files[0];e.addEventListener("load",(function(e){t.cropImg=e.target.result,console.log("this.cropImg",t.cropImg)})),e.readAsDataURL(a)},selectAvatar:function(){this.$refs.image.value="",this.$refs.image.click()},croppedAvatar:function(){var t=this.$refs.clipperAvatar.clip({wPixel:150});this.avatarBase64URL=t.toDataURL("image/jpeg"),this.datacard.options.signature.avatar=this.avatarBase64URL,this.cropImg=null,this.$refs.image.value=""},cancelAvatar:function(){this.datacard.options.signature.avatar="none",this.avatarBase64URL="none",this.cropImg=null,this.$refs.image.value=""},resetFilter:function(){var t="bgtexture"==this.tabDecor?this.datacard.options.bgtexture:this.datacard.options.coverimage;t.filters.hue=0,t.filters.saturate=100,t.filters.brightness=100,t.filters.contrast=100,t.filters.sepia=0,t.filters.blur=0},checkOpenCover:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.cardIsOpen&&setTimeout((function(){t.$parent.$parent.$parent.$parent.toggleCard(!1)}),e)},selectCover:function(t){this.resetFilter(),this.datacard.options.coverimage.src=t,console.log("this.cardIsOpen",this.cardIsOpen),this.cardIsOpen&&this.$parent.$parent.$parent.$parent.toggleCard(!1)},svgSrc:function(t){var e=C["a"].getBrand("secondary"),a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" xml:space="preserve"><path d="'+t.path+'" fill="'+e+'" /></svg>',s=window.btoa(a);return"data:image/svg+xml;base64,"+s}},computed:Xt({},Object(h["c"])(["categoriesCovers","libCovers","categoriesForms","libForms","categoriesBackgrounds","libBackgrounds","datacard","cardIsOpen","thumbStyleVertical","optionsFonts"]),{defaultText:function(){return this.$t("main.you_text")},tabsDecor:function(){return[{name:"cover",icon:"icon-postcard",label:this.$t("main.cover")},{name:"bgtexture",icon:"texture",label:this.$t("main.bg")},{name:"form",icon:"favorite",label:this.$t("main.form")},{name:"signature",icon:"icon-cover",label:this.$t("main.signature")}]},currCategoryCover:{get:function(){return this.$store.getters.currCategoryCover},set:function(t){this.$store.dispatch("setCurrCategoryCover",t)}},filterLibCovers:function(){var t=this;return d.a.filter(this.libCovers,(function(e){return(e.categories.includes(t.currCategoryCover)||e.categories.includes("all"))&&(e.languages.includes(t.$i18n.locale)||e.languages.includes("all"))}))},currCategoryForm:{get:function(){return this.$store.getters.currCategoryForm},set:function(t){this.$store.dispatch("setCurrCategoryForm",t)}},filterLibForms:function(){var t=this;return d.a.filter(this.libForms,(function(e){return e.categories.includes(t.currCategoryForm)||e.categories.includes("all")}))},currCategoryBackground:{get:function(){return this.$store.getters.currCategoryBackground},set:function(t){this.$store.dispatch("setCurrCategoryBackground",t)}},filterLibBackgrounds:function(){var t=this;return d.a.filter(this.libBackgrounds,(function(e){return e.categories.includes(t.currCategoryBackground)||e.categories.includes("all")}))}}),mounted:function(){}},Yt=Wt,Kt=Object(O["a"])(Yt,Vt,Gt,!1,null,null,null),Zt=Kt.exports;j()(Kt,"components",{QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QBtn:T["a"],QCardSection:M["a"],QTabs:Bt["a"],QTab:Rt["a"],QIcon:F["a"],QToggle:vt["a"],QSpace:U["a"],QSlideTransition:B["a"],QInput:R["a"],QMenu:yt["a"],QColor:qt["a"],QSelect:E["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QSlider:Tt["a"],QImg:V["a"],QScrollArea:L["a"]}),j()(Kt,"directives",{ClosePopup:G["a"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.datacard?a("q-card",{staticStyle:{width:"350px"}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"queue_music"}}),t._v("\n          "+t._s(t.$t("main.music"))+"\n        ")],1)],1),t.currMusic?a("q-card-section",{staticClass:"row items-center q-pa-xs"},[a("div",{staticClass:"col-auto q-pa-sm"},[a("q-btn",{attrs:{round:"",color:"primary","text-color":"white",icon:t.music.playing()?"pause":"play_arrow",loading:!t.musicIsloaded},on:{click:function(e){t.music.playing()?t.music.pause():t.music.play()}}})],1),a("div",{staticClass:"col q-ml-md"}),a("div",{staticClass:"col q-pa-sm row items-center text-primary",staticStyle:{"min-width":"150px"}},[a("div",{staticClass:"col-auto q-pl-md q-pr-sm"},[a("q-icon",{attrs:{name:"volume_up",size:"30px"}})],1),a("div",{staticClass:"col q-mr-md"},[a("q-slider",{attrs:{value:t.music.volume(),min:0,max:1,step:.1},on:{input:t.setVolumeMusic}})],1)])]):t._e(),a("q-separator"),a("q-card-section",{staticClass:"row q-pa-none"},[a("q-scroll-area",{ref:"scrollarea",staticClass:"text-primary",staticStyle:{width:"100%",height:"350px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("q-list",{staticClass:"full-width",attrs:{separator:""}},t._l(t.libMusic,(function(e){return a("q-item",{key:e.icon,class:{"bg-orange-2":e.file==t.currMusic},attrs:{clickable:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.setCurrMusicFile(e.file)}}},[a("q-item-section",{staticStyle:{"min-width":"30px"},attrs:{avatar:""}},[a("q-icon",{attrs:{name:"img:statics/img/iconsmusic/"+e.icon,size:"50px"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.langs[t.$i18n.locale]))]),e.provider?a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.provider))]):t._e()],1)],1)})),1)],1)],1),a("q-separator"),a("q-card-section",{staticClass:"row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"music_off","no-caps":"",label:t.$t("main.not_music")},on:{click:function(e){return t.noAcceptMusic()}}}),a("q-space"),t.currMusic?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"check","no-caps":"",color:"accent",label:t.$t("main.apply")}}):t._e()],1)],1):t._e()],1)},ee=[];a("1e5c");function ae(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function se(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var re={methods:se({},Object(h["b"])(["setCurrMusic","setMusicIsloaded","setMusic"]),{setCurrMusicFile:function(t){this.setMusicIsloaded(!1),this.setCurrMusic(t),this.datacard.options.music.file=t,this.datacard.options.music.active=!0},noAcceptMusic:function(){this.setCurrMusic(!1),this.datacard.options.music.file=!1,this.datacard.options.music.active=!1},setVolumeMusic:function(t){this.music.volume(t)}}),computed:se({},Object(h["c"])(["datacard","libMusic","currMusic","thumbStyleVertical","musicIsloaded","music"]))},ie=re,oe=Object(O["a"])(ie,te,ee,!1,null,null,null),ne=oe.exports;j()(oe,"components",{QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QIcon:F["a"],QBtn:T["a"],QCardSection:M["a"],QSlider:Tt["a"],QSeparator:A["a"],QScrollArea:L["a"],QList:xt["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QSpace:U["a"]}),j()(oe,"directives",{ClosePopup:G["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fit"},[a("q-dialog",{model:{value:t.dialogEditPhrase,callback:function(e){t.dialogEditPhrase=e},expression:"dialogEditPhrase"}},[t.currPhrase?a("q-card",{attrs:{flat:""},on:{hide:function(e){t.currPhrase=null}}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n            "+t._s(t.$t("main.edit_phrase"))+"\n          ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{staticClass:"q-pb-none"},[a("q-input",{attrs:{dense:"",outlined:"","no-error-icon":"",placeholder:t.$t("main.add_your_phrase",{maxlength:t.maxlength}),minlengh:1,maxlength:t.maxlength},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateCurrentPhrase())}},model:{value:t.currPhrase.text,callback:function(e){t.$set(t.currPhrase,"text",e)},expression:"currPhrase.text"}})],1),a("q-card-section",{staticClass:"q-pt-none q-mt-sm",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.save"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.updateCurrentPhrase()}}})],1)],1):t._e()],1),a("q-card",{attrs:{square:"",flat:""}},[a("q-card-section",{staticClass:"row"},[a("div",{staticClass:"col q-pa-none"},[a("div",{staticClass:"row items-center q-pa-none"},[a("q-space"),a("q-select",{attrs:{outlined:"","emit-value":"","map-options":"",dense:"",options:t.optionsLangs,value:t.datacard.options.language},on:{input:t.updatedLanguage},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.lang_recipient")))])]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"25px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pa-none",staticStyle:{"min-width":"20px"},attrs:{avatar:""}},[a("country-flag",{attrs:{country:"en"==e.opt.value?"us":e.opt.value,size:"small"}})],1),a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",[t._v(" "+t._s(e.opt.label))])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",{attrs:{avatar:""}},[a("country-flag",{attrs:{country:"en"==e.opt.value?"us":e.opt.value}})],1),a("q-item-section",[a("q-item-label",{domProps:{innerHTML:t._s(e.opt.label)}})],1)],1)]}}])})],1),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col"},[a("q-select",{attrs:{options:t.optionsCategoriesPhrases,outlined:"","emit-value":"","map-options":"",dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.category"))+":")])]},proxy:!0}]),model:{value:t.currCategoryPhrase,callback:function(e){t.currCategoryPhrase=e},expression:"currCategoryPhrase"}})],1)]),a("q-scroll-area",{staticClass:"q-mt-md text-secondary rounded-borders",staticStyle:{width:"100%",border:"solid 1px"},style:{height:t.$q.screen.height-50+"px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("draggable",{staticClass:"transparent",staticStyle:{width:"100%"},style:{"min-height":t.$q.screen.height-48+"px"},attrs:{sort:!1,handle:".handle-drag",animation:200,list:t.library,move:t.checkCountPhrases,group:"words"}},t._l(t.library,(function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:"all"==t.currCategoryPhrase||e.categories.includes(t.currCategoryPhrase),expression:"currCategoryPhrase=='all' || element.categories.includes(currCategoryPhrase)"}],key:e.id,staticClass:"q-pa-xs rounded-borders"},[a("div",{staticClass:"bg-white text-black q-pa-xs shadow-1 row items-center",staticStyle:{"font-size":"16px"}},[e.custom?t._e():a("div",{staticClass:"handle-drag ellipsis col",domProps:{innerHTML:t._s(e.langs[t.datacard.options.language])}}),a("q-space"),a("q-btn",{staticClass:"bg-white text-primary",attrs:{icon:"add",size:"md",dense:""},on:{click:function(a){return a.preventDefault(),t.addPhrase(e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.add_phrase")))])])],1)],1)])})),0)],1),a("div",{staticClass:"row q-mt-md items-center",staticStyle:{height:"55px"}})],1),a("div",{staticClass:"col flex flex-center",staticStyle:{"max-width":"40px"}},[a("q-icon",{attrs:{name:"compare_arrows",color:"primary",size:"30px"}})],1),a("div",{staticClass:"col q-pl-xs"},[a("div",{staticClass:"row items-center q-pa-none"},[a("div",{staticClass:"row items-center full-width"},[a("q-select",{attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"fontName","option-label":"fontName",options:t.optionsFonts},on:{change:function(e){return t.updatedPhrases()},input:function(e){return t.repeatExampleAnimation()}},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"font_download"}})]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"20px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(" \n                      "+t._s(e.opt.fontName))])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(t._s(e.opt.fontName))])],1)],1)]}}]),model:{value:t.datacard.slides[t.currSlide].textSide.options.font.family,callback:function(e){t.$set(t.datacard.slides[t.currSlide].textSide.options.font,"family",e)},expression:"datacard.slides[currSlide].textSide.options.font.family"}}),a("q-space"),t.phrases.length>0?a("q-btn",{attrs:{"no-caps":"",icon:t.animationState?"check":"movie_filter",color:t.animationState?"accent":"primary"}},[a("q-menu",{attrs:{"max-height":"500px",anchor:"bottom right",self:"top right",offset:[0,10],flat:"","transition-show":"jump-down","transition-hide":"jump-up",persistent:""},on:{show:t.showAnimation,hide:t.hideAnimation,"before-show":t.beforeShowAnimation}},[a("q-card",{staticStyle:{width:"450px"}},[a("q-card-section",{staticClass:"row full-width q-pa-xs"},[a("q-select",{staticClass:"full-width q-pa-sm",attrs:{dense:"",outlined:"","emit-value":"","map-options":"",options:t.optionsAnimationsStart,"option-label":function(e){return null===e?"---":e.label[t.$i18n.locale]},"bg-color":"white"},on:{input:function(e){return t.repeatExampleAnimation("anim_from")}},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-right",staticStyle:{"font-size":"14px",width:"60px"}},[t._v("\n                          "+t._s(t.$t("main.start_anim_text"))+"\n                        ")])]},proxy:!0},{key:"after",fn:function(){return[a("q-btn",{attrs:{dense:"",size:"sm",icon:"replay"},on:{click:function(e){return e.preventDefault(),t.repeatExampleAnimation("anim_from")}}})]},proxy:!0}],null,!1,861804506),model:{value:t.currAnimations.from,callback:function(e){t.$set(t.currAnimations,"from",e)},expression:"currAnimations.from"}}),a("q-select",{staticClass:"full-width q-pa-sm",attrs:{dense:"",outlined:"","emit-value":"","map-options":"",options:t.optionsAnimationsFinish,"option-label":function(e){return null===e?"---":e.label[t.$i18n.locale]},"bg-color":"white"},on:{input:function(e){return t.repeatExampleAnimation("anim_to")}},scopedSlots:t._u([{key:"before",fn:function(){return[a("div",{staticClass:"text-right",staticStyle:{"font-size":"14px",width:"60px"}},[t._v("\n                          "+t._s(t.$t("main.finish_anim_text"))+"\n                        ")])]},proxy:!0},{key:"after",fn:function(){return[a("q-btn",{attrs:{dense:"",size:"sm",icon:"replay"},on:{click:function(e){return e.preventDefault(),t.repeatExampleAnimation("anim_to")}}})]},proxy:!0}],null,!1,1527465572),model:{value:t.currAnimations.to,callback:function(e){t.$set(t.currAnimations,"to",e)},expression:"currAnimations.to"}})],1),a("q-card-section",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"flex flex-center full-width text-center text-secondary bg-white"},[a("div",{staticClass:"text-black phrase-example",staticStyle:{"font-size":"35px","pointer-event":"none"},style:{"font-family":t.datacard.slides[t.currSlide].textSide.options.font.family},attrs:{"data-splitting":""}},[t._v("\n                        "+t._s(t.$t("main.example_anim_text_mobile"))+"\n                      ")])])])],1)],1)],1):t._e()],1)]),a("div",{staticClass:"q-mt-md"},[a("q-input",{ref:"customPhrase",attrs:{dense:"",outlined:"","no-error-icon":"",placeholder:t.$t("main.add_your_phrase",{maxlength:t.maxlength}),maxlength:t.maxlength},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addCustomPhrase(null))}},scopedSlots:t._u([{key:"append",fn:function(){return[a("span",{staticClass:"q-mr-sm",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.customPhrase.length)+"/"+t._s(t.maxlength))]),a("q-btn",{attrs:{"no-caps":"",dense:"",size:"sm",dense:"",icon:"add",color:"primary"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addCustomPhrase(null)}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{"no-caps":"",dense:"",size:"sm",dense:"",icon:"playlist_add",color:"primary"}},[a("q-menu",{staticClass:"shadow-3",attrs:{"max-height":"350px",persistent:"",anchor:"center left",self:"center right","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",{staticStyle:{"min-width":"450px"}},[a("q-card-section",{staticClass:"bg-primary text-white"},[t._v("\n                        Текст будет разобран построчно и добавлен как фразы.\n                      ")]),a("q-card-section",[a("q-input",{attrs:{dense:"",outlined:"",autogrow:"",type:"textarea","input-style":"max-height:150px;",placeholder:t.$t("main.multiline_text")},model:{value:t.multilineText,callback:function(e){t.multilineText="string"===typeof e?e.trim():e},expression:"multilineText"}})],1),a("q-card-section",{staticClass:"q-pt-none row"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",outline:"",icon:"close",color:"primary",label:t.$t("main.cancel")}}),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"playlist_add",color:"primary",label:t.$t("main.create_phrases")},on:{click:function(e){return e.preventDefault(),t.importMultiline(e)}}})],1)],1)],1)],1)]},proxy:!0}]),model:{value:t.customPhrase,callback:function(e){t.customPhrase=e},expression:"customPhrase"}})],1),a("q-scroll-area",{staticClass:"q-mt-md text-secondary rounded-borders",staticStyle:{width:"100%",border:"dashed 1px"},style:{height:t.$q.screen.height-50+"px"},attrs:{"thumb-style":t.thumbStyleVertical}},[0==t.phrases.length?a("div",{staticClass:"absolute-top-left fit flex flex-start text-center",staticStyle:{"font-size":"18px"}},[a("div",{staticClass:"q-pa-sm"},[a("span",{staticClass:"text-primary"},[t._v(t._s(t.$t("main.drag_drop_wishes")))]),a("br"),a("img",{attrs:{src:"statics/img/drag-phrase.jpg"}})])]):t._e(),a("draggable",{staticClass:"transparent",staticStyle:{width:"100%"},style:{"min-height":t.$q.screen.height-48+"px"},attrs:{handle:".handle-drag",sort:!0,animation:200,list:t.phrases,group:"words"},on:{change:t.changePhrases,sort:function(e){return t.updatedPhrases()}}},t._l(t.phrases,(function(e,s){return a("div",{key:e.id,staticClass:"q-pa-xs"},[a("div",{staticClass:"fit q-pa-xs shadow-1 items-center row rounded-borders",style:{"background-color":e.bgcolor,opacity:null!=t.currIndexPhrase&&t.currIndexPhrase!=parseInt(s)?.2:1}},[a("div",{staticClass:"col text-center",staticStyle:{"max-width":"30px"}},[a("q-btn",{attrs:{dense:"",size:"md",icon:"palette",color:"white","text-color":"primary"},on:{click:function(a){a.preventDefault(),t.currPhrase=e,t.currIndexPhrase=s}}},[a("q-menu",{staticClass:"shadow-3",attrs:{anchor:"top left",self:"center right",offset:[10,0],"transition-show":"jump-down","transition-hide":"jump-up","max-height":"500px"},on:{"before-hide":function(e){t.currIndexPhrase=null}},model:{value:e.menucolor,callback:function(a){t.$set(e,"menucolor",a)},expression:"element.menucolor"}},[a("div",{staticClass:"row"},[t.colorCustom?t._e():a("div",{staticClass:"row",staticStyle:{width:"300px"}},[a("div",{staticClass:"col-auto",staticStyle:{width:"100%",height:"281px"}},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-swatchbook"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.palette")))]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm",attrs:{dense:"",size:"10px",icon:"fas fa-random","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("random",e)}}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-sm",attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("all",e)}}})],1)],1)],1),a("q-item",{staticClass:"q-pa-xs fit"},[a("q-scroll-area",{staticClass:"q-col-gutter-none",staticStyle:{width:"100%",height:"220px"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("q-list",{staticClass:"row fit"},t._l(t.palleteColors,(function(e){return a("q-item",{key:e.bgcolor+"_"+e.color,staticClass:"col-3 q-pa-none",staticStyle:{"min-height":"36px"},attrs:{clickable:""},on:{click:function(a){return a.preventDefault(),t.setPalleteColor({bgcolor:e.bgcolor,color:e.color})}}},[a("div",{staticClass:"fit flex flex-center",staticStyle:{"font-size":"20px","font-family":"Oswald"},style:{"background-color":e.bgcolor}},[a("span",{style:{color:e.color,"font-family":t.datacard.slides[t.currSlide].textSide.options.font.family}},[t._v(t._s(t.$t("main.text")))])])])})),1)],1)],1)],1)],1)]),t.colorCustom?a("div",{staticClass:"row",staticStyle:{width:"300px"}},[a("div",{staticClass:"col-auto"},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-fill-drip"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.bg")))]),a("q-space"),a("q-btn",{attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("bgcolor",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.apply_color_bg_phrase_any")))])])],1)],1)],1)],1),a("q-item",{staticClass:"q-pa-xs"},[a("q-color",{staticClass:"fit mini",staticStyle:{"min-width":"200px"},attrs:{"no-header":"","no-footer":"",flat:"","default-view":t.colorView},on:{change:function(e){return t.updatedPhrases()}},model:{value:e.bgcolor,callback:function(a){t.$set(e,"bgcolor",a)},expression:"element.bgcolor"}})],1)],1)],1),a("div",{staticClass:"col-auto"},[a("q-list",{attrs:{separator:""}},[a("q-item",{staticClass:"q-pa-xs"},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-item-label",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-ml-sm",attrs:{color:"primary",size:"20px",name:"fas fa-font"}}),a("span",{staticClass:"q-ml-sm text-primary"},[t._v(t._s(t.$t("main.text")))]),a("q-space"),a("q-btn",{attrs:{dense:"",size:"10px",icon:"fas fa-clone","text-color":"primary"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("color",e)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.apply_color_text_phrase_any")))])])],1)],1)],1)],1),a("q-item",{staticClass:"q-pa-xs"},[a("q-color",{staticClass:"fit mini",staticStyle:{"min-width":"200px"},attrs:{"no-header":"","no-footer":"",flat:"","default-view":t.colorView},on:{change:function(e){return t.updatedPhrases()}},model:{value:e.color,callback:function(a){t.$set(e,"color",a)},expression:"element.color"}})],1)],1)],1)]):t._e()]),a("div",{staticClass:"full-width row items-center justify-end q-pl-md q-pr-sm q-pb-md"},[a("q-toggle",{staticClass:"q-pa-none",attrs:{size:"35px"},model:{value:t.colorCustom,callback:function(e){t.colorCustom=e},expression:"colorCustom"}},[a("span",[t._v(t._s(t.$t("main.their_color")))])]),a("q-space"),a("q-btn-dropdown",{staticClass:"glossy",attrs:{split:"","no-caps":"",color:"primary",icon:"check"},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("menucolor-hide",e)}}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("menucolor-hide",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"check",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.$t("main.apply_only_current_phrase")))])],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("all",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"fas fa-clone",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.$t("main.color_text_bg_any")))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.$t("main.all_sentences_same_color")))])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return a.preventDefault(),t.applyToAllColor("random",e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"fas fa-random",color:"primary","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(t.$t("main.color_text_bg_random_phrase_all")))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.$t("main.selected_from_palette")))])],1)],1)],1)],1)],1)])],1)],1),a("div",{staticClass:"col q-ml-xs",style:{color:e.color,"font-family":t.font_family,"font-size":"20px"}},[e.custom?a("div",{staticClass:"handle-drag ellipsis q-ml-xs",domProps:{innerHTML:t._s(e.text)}}):t._e(),e.custom?t._e():a("div",{staticClass:"handle-drag ellipsis q-ml-xs",domProps:{innerHTML:t._s(e.langs[t.datacard.options.language])}})]),a("q-space"),e.custom?a("q-btn",{staticClass:"bg-white text-primary q-ml-xs",attrs:{icon:"edit",size:"md",dense:""},on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.currPhrase=JSON.parse(JSON.stringify(e)),t.dialogEditPhrase=!0}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.edit_phrase")))])])],1):t._e(),a("q-btn",{staticClass:"q-ml-xs bg-white text-primary",attrs:{dense:"",size:"md",icon:"delete_forever"},on:{click:function(a){return a.preventDefault(),t.deletePhrase(e,s)}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right","content-class":"bg-primary",delay:300}},[a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.delete")))])])],1)],1)])})),0)],1)],1)])],1),a("div",{staticClass:"row items-center full-width q-pa-md bg-white",staticStyle:{position:"absolute",bottom:"0"}},[t.phrases.length>0&&!t.animationState?a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"delete_forever",label:t.$t("main.clear_all"),color:"primary"}},[a("q-menu",{staticClass:"shadow-3",attrs:{"max-height":"500px","auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n                    "+t._s(t.$t("main.confirmation"))+"\n                  ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                    "+t._s(t.$t("main.delete_select_added_phrase"))+"\n                  ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{attrs:{"no-caps":"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.clearPhrases(e)}}})],1)],1)],1)],1):t._e(),a("q-space"),t.phrases.length>0?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.ready"),color:"accent"},on:{click:function(e){return e.preventDefault(),t.restartComponents()}}}):t._e(),0==t.phrases.length?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.close"),color:"primary"}}):t._e(),t.phrases.length>=t.maxLengthPhrases&&t.bannerMaxLength?a("q-banner",{staticClass:"shadow-1 rounded-borders text-black text-center bg-warning banner-max-phrase-length absolute-top-left",staticStyle:{"z-index":"100","min-width":"100%"},attrs:{"inline-actions":""},scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"notification_important",color:"black",size:"sm"}})]},proxy:!0},{key:"action",fn:function(){return[a("q-btn",{attrs:{"no-caps":"","text-color":"primary",color:"white",label:t.$t("main.clearly")},on:{click:function(e){e.preventDefault(),t.bannerMaxLength=!1}}})]},proxy:!0}],null,!1,3434309364)},[a("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.$t("main.phrase_limited",{maxLengthPhrases:t.maxLengthPhrases})))])]):t._e()],1)],1)},ce=[];function de(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function pe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?de(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);C["a"].setBrand;var ue=C["a"].luminosity,me={components:{draggable:it.a},data:function(){return{colorCustom:!1,animationState:!1,multilineText:"",dialogEditPhrase:!1,maxlength:40,currPhrase:null,currIndexPhrase:null,customPhrase:"",colorView:"spectrum",library:[],phrases:[],emptyCustomPhrase:{text:"",custom:!0,color:"#000000",bgcolor:"#ffffff",illustrations:[],category:null},currAnimations:{from:"wave_from",to:"wave_to"},tlExampleText:null}},computed:pe({},Object(h["c"])(["datacard","thumbStyleVertical","optionsFonts","currSlide","libPhrases","optionsAnimationsStart","optionsAnimationsFinish","maxLengthPhrases","settingsMode","palleteColors","categoriesPhrases"]),{font_family:function(){return this.datacard.slides[this.currSlide].textSide.options.font.family},optionsCategoriesPhrases:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var r,i=this.categoriesPhrases[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;t.push({label:o.langs[this.$i18n.locale],value:o.text})}}catch(n){a=!0,s=n}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return t},optionsLangs:function(){for(var t=[],e=0,a=Object.keys(this.$i18n.messages);e<a.length;e++){var s=a[e];t.push({label:this.$i18n.messages[s].main.language,value:s})}return t},currCategoryPhrase:{get:function(){return this.$store.getters.currCategoryPhrase},set:function(t){this.$store.dispatch("setCurrCategoryPhrase",t)}},bannerMaxLength:{get:function(){return this.$store.getters.bannerMaxLength},set:function(t){this.$store.dispatch("setBannerMaxLength",t)}}}),methods:{setPalleteColor:function(t){this.$set(this.currPhrase,"color",t.color),this.$set(this.currPhrase,"bgcolor",t.bgcolor),this.updatedPhrases()},repeatExampleAnimation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anim_from";this.animationState&&(this.tlExampleText&&(this.tlExampleText.restart().pause(0,!1),this.tlExampleText.kill(),this.tlExampleText=null),this.tlExampleText=g["a"].timeline({repeat:-1,onComplete:function(){}}),this.$nextTick((function(){var a=".phrase-example ."+t.datacard.slides[t.currSlide].textSide.options.font.split_by,s=d.a.find(t.optionsAnimationsStart,{value:t.currAnimations.from}).anim,r=d.a.find(t.optionsAnimationsFinish,{value:t.currAnimations.to}).anim;g["a"].set(a,{clearProps:"all"}),t.tlExampleText.to(".phrase-example",{duration:.25,opacity:1}),t.tlExampleText.addLabel("anim_from"),t.tlExampleText.from(a,s),t.tlExampleText.addLabel("anim_to","+="+(r.delay>1?r.delay-.5:r.delay)),t.tlExampleText.to(a,r),t.tlExampleText.seek(e).play()})))},beforeShowAnimation:function(){this.$nextTick((function(){g["a"].set(".phrase-example",{opacity:0})}))},showAnimation:function(){this.animationState=!0,nt()({by:this.datacard.slides[this.currSlide].textSide.options.font.split_by+"s"}),this.repeatExampleAnimation()},hideAnimation:function(){this.animationState=!1},restartComponents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.openCard=!0,this.datacard.slides[this.currSlide].textSide.options.animation_from=this.currAnimations.from,this.datacard.slides[this.currSlide].textSide.options.animation_to=this.currAnimations.to,this.$parent.$parent.$parent.$parent.$refs.textSide.restartComponent(t)},diffLibPhrases:function(){this.library=d.a.orderBy(d.a.filter(d.a.xorBy(this.libPhrases,this.phrases,"text"),(function(t){return!t.custom})),"langs."+this.datacard.options.language)},clearPhrases:function(){this.phrases=[],this.updatedPhrases()},updateCurrentPhrase:function(){this.dialogEditPhrase=!1;var t=d.a.findIndex(this.phrases,{id:this.currPhrase.id});this.currPhrase.custom=!0,this.$set(this.phrases,[t],this.currPhrase),this.updatedPhrases()},checkCountPhrases:function(){if(this.phrases.length>=this.maxLengthPhrases)return this.bannerMaxLength=!0,!1},uuid:function(){return Object(lt["a"])()},applyToAllColor:function(t,e){switch(this.$set(e,"menucolor",!1),t){case"random":var a=this.palleteColors.slice(),s=!0,r=!1,i=void 0;try{for(var o,n=this.phrases[Symbol.iterator]();!(s=(o=n.next()).done);s=!0){var l=o.value,c=d.a.random(0,a.length-1),p=a[c];this.$set(l,"bgcolor",p.bgcolor),this.$set(l,"color",p.color),a.splice(c,1)}}catch(w){r=!0,i=w}finally{try{s||null==n.return||n.return()}finally{if(r)throw i}}break;case"all":var u=!0,m=!1,f=void 0;try{for(var h,g=this.phrases[Symbol.iterator]();!(u=(h=g.next()).done);u=!0){var b=h.value;this.$set(b,"bgcolor",JSON.parse(JSON.stringify(e))["bgcolor"]),this.$set(b,"color",JSON.parse(JSON.stringify(e))["color"])}}catch(w){m=!0,f=w}finally{try{u||null==g.return||g.return()}finally{if(m)throw f}}break;default:var v=!0,y=!1,x=void 0;try{for(var q,C=this.phrases[Symbol.iterator]();!(v=(q=C.next()).done);v=!0){var _=q.value;this.$set(_,t,JSON.parse(JSON.stringify(e))[t])}}catch(w){y=!0,x=w}finally{try{v||null==C.return||C.return()}finally{if(y)throw x}}}this.updatedPhrases()},importMultiline:function(){var t=this.multilineText.split(/\r?\n/),e=!0,a=!1,s=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.addCustomPhrase({text:o,multiline:!0})}}catch(n){a=!0,s=n}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}},addCustomPhrase:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.phrases.length>=this.maxLengthPhrases)this.bannerMaxLength=!0;else if(0!=this.customPhrase.length||t){this.$refs.customPhrase.blur();var e=JSON.parse(JSON.stringify(this.emptyCustomPhrase));e.text=t?t.text:this.customPhrase,e.id=this.uuid();var a=this.checkEqualColors();e.color=a.color,e.bgcolor=a.bgcolor,t&&t.hasOwnProperty("multiline")?(e.multiline=t.multiline,this.phrases.push(e)):this.phrases.unshift(e),this.customPhrase="",this.updatedPhrases(),this.$refs.customPhrase.resetValidation()}else this.$q.notify({message:this.$t("main.not_empty_phrase"),timeout:3e3,color:"primary"})},getLuminosity:function(t,e){var a;return"bg"==e&&(a=t.hasOwnProperty("bgcolor")?t.bgcolor:this.datacard.slides[this.currSlide].textSide.options.bgcolor),"color"==e&&(a=t.hasOwnProperty("color")?t.color:this.datacard.slides[this.currSlide].textSide.options.font.color),ue(a)},updatedPhrases:function(){this.datacard.slides[this.currSlide].textSide.options.phrases=JSON.parse(JSON.stringify(this.phrases)),this.diffLibPhrases()},updatedLanguage:function(t){this.datacard.options.language=t,this.diffLibPhrases()},checkEqualColors:function(){var t,e=this.datacard.slides[this.currSlide].textSide.options.phrases,a="#000000",s="#ffffff";if(e.length>0){t=JSON.parse(JSON.stringify(e[0]));var r=d.a.differenceBy(e,[t],"color").length,i=d.a.differenceBy(e,[t],"bgcolor").length;a=0==r&&0==i?t.color:"#000000",s=0==r&&0==i?t.bgcolor:"#ffffff"}return{color:a,bgcolor:s}},deletePhrase:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&!t.custome&&(this.$set(t,"color","#000000"),this.$set(t,"bgcolor","#ffffff")),null!=e&&this.phrases.splice(e,1),this.updatedPhrases(),this.diffLibPhrases()},addPhrase:function(t){this.phrases.length>=this.maxLengthPhrases?this.bannerMaxLength=!0:(this.$set(t,"color","#000000"),this.$set(t,"bgcolor","#ffffff"),this.phrases.unshift(t),this.updatedPhrases())},changePhrases:function(t){if(t.hasOwnProperty("added")){var e=t.added.element,a=this.checkEqualColors();this.$set(e,"color",a.color),this.$set(e,"bgcolor",a.bgcolor),this.$set(e,"menucolor",!1),this.$set(e,"id",this.uuid()),this.updatedPhrases()}if(t.hasOwnProperty("removed")){var s=t.removed.element;this.deletePhrase(s)}}},mounted:function(){this.phrases=JSON.parse(JSON.stringify(this.datacard.slides[this.currSlide].textSide.options.phrases));var t=!0,e=!1,a=void 0;try{for(var s,r=this.phrases[Symbol.iterator]();!(t=(s=r.next()).done);t=!0){var i=s.value;this.$set(i,"menucolor",!1)}}catch(o){e=!0,a=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}this.diffLibPhrases(),this.currCategoryPhrase||(this.currCategoryPhrase=this.optionsCategoriesPhrases[0].value),this.currAnimations.from=this.datacard.slides[this.currSlide].textSide.options.animation_from,this.currAnimations.to=this.datacard.slides[this.currSlide].textSide.options.animation_to}},fe=me,he=Object(O["a"])(fe,le,ce,!1,null,null,null),ge=he.exports;j()(he,"components",{QDialog:ft["a"],QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QBtn:T["a"],QCardSection:M["a"],QInput:R["a"],QSpace:U["a"],QSelect:E["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QScrollArea:L["a"],QTooltip:J["a"],QToggle:vt["a"],QIcon:F["a"],QMenu:yt["a"],QList:xt["a"],QColor:qt["a"],QBtnDropdown:Ct["a"],QAvatar:_t["a"],QSeparator:A["a"],QBanner:wt["a"]}),j()(he,"directives",{ClosePopup:G["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white",staticStyle:{width:"100%",height:"100vh",overflow:"hidden"}},[a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"Image",accept:"image/*"},on:{change:function(e){return t.handleImageUpload()}}}),a("q-dialog",{attrs:{seamless:"",position:"left",maximized:""},model:{value:t.dialogEffects,callback:function(e){t.dialogEffects=e},expression:"dialogEffects"}},[a("q-card",{style:{width:t.dialogFilterEffectsWidth+"px"},attrs:{square:""}},[a("q-card-section",{staticClass:"scroll",style:{height:t.ratioSqPX-60+"px"}},[t.hasSrcImg?a("div",{staticClass:"row"},t._l(t.overlayOptions,(function(e){return a("q-btn",{key:e.name,staticClass:"text-center q-pl-xs q-pr-xs q-pt-md q-pb-sm",class:{"col-6":t.dialogFilterEffectsWidth<300,"col-4":t.dialogFilterEffectsWidth>=300},attrs:{"no-caps":"",color:"primary",flat:t.datacard.slides[t.currSlide].imageSide.images[0].overlay.name!=e.value,stack:""},on:{click:function(a){t.datacard.slides[t.currSlide].imageSide.images[0].overlay.name=e.value}}},[a("q-icon",{attrs:{name:e.icon,size:"45px"}}),a("div",{staticClass:"q-mt-xs"},[t._v(t._s(e.label[t.$i18n.locale]))])],1)})),1):t._e()]),a("q-card-section",{staticClass:"q-pa-md",attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.apply"),color:"primary"}})],1)],1)],1),a("q-dialog",{attrs:{seamless:"",position:"left",maximized:""},model:{value:t.dialogLiveFrame,callback:function(e){t.dialogLiveFrame=e},expression:"dialogLiveFrame"}},[a("q-card",{style:{width:t.dialogFilterEffectsWidth+"px"},attrs:{square:""}},[a("q-card-section",{staticClass:"scroll",style:{height:t.ratioSqPX-60+"px"}},[t.hasSrcImg?a("div",{staticClass:"row"},[a("div",{key:"none",staticClass:"col-12 q-pa-xs flex flex-center",class:{"text-accent":0==t.datacard.slides[t.currSlide].imageSide.images[0].liveframe,"text-primary":t.datacard.slides[t.currSlide].imageSide.images[0].liveframe},staticStyle:{"border-radius":"5px"},on:{click:function(e){return t.addLiveFrame(!1)}}},[a("q-icon",{attrs:{name:"not_interested",size:"60px"}}),a("span",{staticClass:"q-ml-md"},[t._v(t._s(t.$t("main.without_frame")))])],1),t._l(t.libLiveFrames,(function(e,s){return a("div",{key:e.name,staticClass:"col-6 q-pa-sm"},[a("q-img",{staticClass:"text-primary",class:{"bg-orange-2":t.datacard.slides[t.currSlide].imageSide.images[0].liveframe.name==e.name},staticStyle:{cursor:"pointer",border:"solid 1px","border-radius":"5px"},attrs:{src:t.liveFrameSrcByName(e.name),ratio:1},on:{click:function(a){return t.addLiveFrame(e)}}})],1)}))],2):t._e()]),a("q-card-section",{staticClass:"q-pa-md",attrs:{align:"center"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",label:t.$t("main.apply"),color:"primary"}})],1)],1)],1),a("q-dialog",{attrs:{seamless:"",position:"right",maximized:""},model:{value:t.dialogFilters,callback:function(e){t.dialogFilters=e},expression:"dialogFilters"}},[a("div",{staticClass:"row bg-white",style:{width:t.dialogFilterEffectsWidth+"px"}},[a("div",{staticClass:"col flex"},[a("q-card",{staticClass:"self-start",attrs:{square:"",flat:""}},[a("q-card-section",{attrs:{align:"right"}},[a("q-select",{staticStyle:{width:"auto"},attrs:{options:t.optionsAppendFilterTo,outlined:"","emit-value":"","map-options":"",dense:""},scopedSlots:t._u([{key:"before",fn:function(){return[a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.$t("main.apply_to")))])]},proxy:!0}]),model:{value:t.appendFilterTo,callback:function(e){t.appendFilterTo=e},expression:"appendFilterTo"}})],1)],1),a("image-filters",{staticClass:"self-end",attrs:{imgObject:t.appendFilterTo}})],1)])]),a("q-card",{staticClass:"fit",attrs:{flat:"",square:""}},[a("q-card-section",{staticClass:"row q-pa-none"},[t.dialogFilters?t._e():a("div",{staticClass:"col flex q-pa-md justify-center text-center",style:{height:t.ratioSqPX+"px"}},[t.hasSrcImg?a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEffects,expression:"!dialogEffects"}],staticClass:"full-width self-start",attrs:{"no-caps":"",stack:"",icon:"icon-mirror",color:"primary",label:t.$t("main.liveframes")},on:{click:t.openDialogLiveFrame}}):t._e(),t.hasSrcImg?a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.dialogEffects,expression:"!dialogEffects"}],staticClass:"full-width self-center",attrs:{"no-caps":"",stack:"",icon:"movie_filter",color:"primary",label:t.$t("main.effects")},on:{click:t.openDialogEffects}}):t._e(),t.cropImg?a("q-icon",{staticClass:"self-center",attrs:{name:"img:statics/svg/icons/pinch-zoom-in.svg",size:"80px"}}):t._e(),t.cropImg?a("div",{staticClass:"q-pa-md"},[t._v("\n             "+t._s(t.$t("main.zoomin_zoomout_gestures"))+"\n            ")]):t._e()],1),a("div",{staticClass:"col-auto row items-center",staticStyle:{position:"relative"},style:{width:t.ratioSqPX+"px"},attrs:{id:"cardInnerPhoto"}},[a("div",{staticStyle:{"transform-origin":"center center",position:"relative"},style:{transform:"scale("+t.scaleHasFrame+")",width:t.ratioSqPX+"px",height:t.ratioSqPX+"px"}},[a("div",{staticClass:"col",staticStyle:{position:"absolute",top:"0",left:"0","transform-origin":"0 0",filter:"drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.25))"},style:{transform:"scale("+t.scalePhoto+")"}},[a("div",{staticClass:"flex flex-center",staticStyle:{filter:"drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.45))"},style:{width:t.sizeWithLiveFrame+"px",height:t.sizeWithLiveFrame+"px"}},[t.hasLiveFrame?a("div",{staticClass:"absolute",staticStyle:{"z-index":"10",width:"480px",height:"480px",top:"0",left:"0","background-repeat":"no-repeat",filter:"drop-shadow(5px 5px 2px rgba(0,0,0,0.25))","pointer-events":"none"},style:{"background-image":"url("+t.liveFrameSrcByName(t.currImg.liveframe.name)+")"}}):t._e(),a("div",{staticClass:"flex flex-center",staticStyle:{width:"400px",height:"400px","background-color":"#EEE","background-size":"cover",position:"relative",opacity:"1"},style:{"clip-path":t.formPath}},[a("div",{staticStyle:{width:"400px",height:"400px","z-index":"10",position:"absolute","transform-origin":"top:0",left:"0",color:"#fff","background-repeat":"no-repeat","background-position":"0 0","pointer-events":"none"},style:{"background-image":t.overlayImage.src,filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n            saturate("+t.currImg.overlay.filters.saturate+"%)\n            brightness("+t.currImg.overlay.filters.brightness+"%)\n            sepia("+t.currImg.overlay.filters.sepia+"%)\n            contrast("+t.currImg.overlay.filters.contrast+"%)\n            blur("+t.currImg.overlay.filters.blur+"px)"}}),t.overlayImage.mirror?a("div",{staticStyle:{width:"400px",height:"200px","z-index":"10",position:"absolute",bottom:"0",left:"0",color:"#fff","background-repeat":"no-repeat","background-position":"0 0","pointer-events":"none",transform:"scale(-1)","transform-origin":"center center"},style:{"background-image":t.overlayImage.src,filter:"hue-rotate("+t.currImg.overlay.filters.hue+"deg) \n            saturate("+t.currImg.overlay.filters.saturate+"%)\n            brightness("+t.currImg.overlay.filters.brightness+"%)\n            sepia("+t.currImg.overlay.filters.sepia+"%)\n            contrast("+t.currImg.overlay.filters.contrast+"%)\n            blur("+t.currImg.overlay.filters.blur+"px)\n            "}}):t._e(),a("div",{staticStyle:{position:"absolute",top:"0",left:"0","z-index":"1",width:"100%",height:"100%","background-size":"contain"},style:{"background-image":""+t.currSrcImg,filter:"hue-rotate("+t.currImg.filters.hue+"deg) \n            saturate("+t.currImg.filters.saturate+"%)\n            brightness("+t.currImg.filters.brightness+"%)\n            contrast("+t.currImg.filters.contrast+"%)\n            sepia("+t.currImg.filters.sepia+"%)\n            blur("+t.currImg.filters.blur+"px)",transform:"scaleX("+t.currImg.flip.x+") scaleY("+t.currImg.flip.y+")"}}),t.hasSrcImg?t._e():a("clipper-fixed",{ref:"clipper",staticStyle:{position:"absolute",left:"0","z-index":"1",width:"100%"},attrs:{area:100,grid:!0,bgColor:"#fff","border-color":"transparent",src:t.cropImg,ratio:1}}),t.cropImg||t.hasSrcImg?t._e():a("q-btn",{staticStyle:{"z-index":"2"},attrs:{"no-caps":"",flat:"",rounded:"",color:"primary",icon:"add_photo_alternate",label:t.$t("main.upload_photo"),size:"20px"},on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}})],1)])])])]),t.dialogEffects||t.dialogLiveFrame?t._e():a("div",{staticClass:"col q-pa-md"},[t.cropImg||t.hasSrcImg?t._e():a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width self-start",attrs:{"no-caps":"",stack:"",outline:"",color:"primary",icon:"close",label:t.$t("main.cancel")}}),t.cropImg?a("div",{staticClass:"fit flex justify-center"},[a("q-btn",{staticClass:"full-width self-start",attrs:{"no-caps":"",outline:"",stack:"",color:"primary",icon:"close",label:t.$t("main.cancel")},on:{click:function(e){return e.preventDefault(),t.cancelPhoto(e)}}}),a("q-btn",{staticClass:"full-width self-end",attrs:{"no-caps":"",stack:"",color:"primary",icon:"check",label:t.$t("main.apply")},on:{click:function(e){return e.preventDefault(),t.croppedPhoto(e)}}})],1):t._e(),!t.cropImg&&t.hasSrcImg?a("div",{staticClass:"fit flex"},[a("q-btn",{staticClass:"full-width self-start",attrs:{"no-caps":"",stack:"",outline:"",color:"primary",icon:"delete_forever",label:t.$t("main.delete")}},[a("q-menu",{staticClass:"shadow-3",attrs:{"auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("\n                      "+t._s(t.$t("main.confirmation"))+"\n                    ")])],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                    "+t._s(t.$t("main.delete_photo_text"))+"\n                  ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",stack:"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",stack:"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.cancelPhoto(e)}}})],1)],1)],1)],1),t.hasSrcImg?a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.dialogFilters,expression:"!dialogFilters"}],staticClass:"full-width self-center",attrs:{"no-caps":"",stack:"",icon:"photo_filter",color:"primary",label:t.$t("main.filters")},on:{click:t.openDialogFilters}}):t._e(),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"full-width self-end",attrs:{"no-caps":"",stack:"",color:"accent",icon:"check",label:t.$t("main.ready")},on:{click:t.applyPhoto}})],1):t._e()],1)])],1)],1)},ve=[];function ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function xe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var qe={components:{ImageFilters:Qt},data:function(){return{cropImg:null,jpgBase64URL:"none",appendFilterTo:null,dialogFilters:!1,dialogEffects:!1,dialogLiveFrame:!1}},methods:{handleImageUpload:function(){var t=this,e=new FileReader,a=this.$refs.image.files[0];e.addEventListener("load",(function(e){t.cropImg=e.target.result})),e.readAsDataURL(a)},selectImage:function(){this.$refs.image.click()},addLiveFrame:function(t){this.$set(this.currImg,"liveframe",t)},resetFilter:function(){this.currImg&&(this.currImg.filters.hue=0,this.currImg.filters.saturate=100,this.currImg.filters.brightness=100,this.currImg.filters.contrast=100,this.currImg.filters.sepia=0,this.currImg.filters.blur=0,this.currImg.overlay.filters.hue=0,this.currImg.overlay.saturate=100,this.currImg.overlay.brightness=100,this.currImg.overlay.contrast=100,this.currImg.overlay.filters.sepia=0,this.currImg.overlay.filters.blur=0)},croppedPhoto:function(){var t=this.$refs.clipper.clip({wPixel:400});this.jpgBase64URL=t.toDataURL("image/jpeg",.9),this.cropImg=null,this.$refs.image.value=""},applyPhoto:function(){this.cardIsOpen||this.$parent.$parent.$parent.$parent.toggleCard(!0),this.currImg.liveframe&&this.$parent.$parent.$parent.$parent.$refs.liveFrame.initLiveFrame(),this.currImg.src=this.jpgBase64URL},cancelPhoto:function(){this.currImg.flip.x=1,this.currImg.flip.y=1,this.jpgBase64URL="none",this.currImg.src="none",this.currImg.overlay.name="none",this.cropImg=null,this.$refs.image.value="",this.currImg.hasOwnProperty("liveframe")&&(this.currImg.liveframe=!1),this.resetFilter()},liveFrameSrcByName:function(t){var e=t||"none";return"statics/liveframes/"+e+".png"},openDialogFilters:function(){this.dialogFilters=!0},openDialogEffects:function(){this.dialogEffects=!0},openDialogLiveFrame:function(){this.dialogLiveFrame=!0}},computed:xe({},Object(h["c"])(["datacard","currSlide","currCardForm","overlayOptions","libLiveFrames","cardIsOpen","thumbStyleVertical"]),{dialogGiftImage:{get:function(){return this.$store.state.glob.dialogGiftImage},set:function(t){this.$store.commit("setDialogGiftImage",t)}},hasLiveFrame:function(){return this.currImg.hasOwnProperty("liveframe")&&0!=this.currImg.liveframe},sizeWithLiveFrame:function(){return this.hasLiveFrame?480:400},ratioSqPX:function(){return this.sizeWithLiveFrame*this.scalePhoto},dialogFilterEffectsWidth:function(){return this.$q.screen.width-this.sizeWithLiveFrame*this.scalePhoto},scalePhoto:function(){var t=Math.min(this.$q.screen.width/this.sizeWithLiveFrame,this.$q.screen.height/this.sizeWithLiveFrame);return t<1?t:1},currImg:function(){return this.datacard.slides[this.currSlide].imageSide.images[0]},formPath:function(){return this.currCardForm?"url(#"+this.currCardForm.name+")":"none"},hasSrcImg:function(){return"none"!=this.jpgBase64URL},scaleHasFrame:function(){return.95},currSrcImg:function(){return this.datacard.slides[this.currSlide].imageSide.images.length>0&&"none"!=this.jpgBase64URL?"url("+this.jpgBase64URL+")":"none"},overlayImage:function(){var t=this.datacard.slides[this.currSlide].imageSide.images[0].overlay.name,e=d.a.find(this.overlayOptions,{value:t});return{src:"none"==e.src?"none":"url("+e.src+")",mirror:!!e.hasOwnProperty("mirror")&&e.mirror}},optionsAppendFilterTo:function(){return[{label:this.$t("main.apply_to_photo"),value:this.currImg},{label:this.$t("main.apply_to_effect"),value:this.currImg.overlay}]}}),mounted:function(){this.appendFilterTo=this.currImg,this.jpgBase64URL=this.currImg.src}},Ce=qe,_e=Object(O["a"])(Ce,be,ve,!1,null,null,null),we=_e.exports;j()(_e,"components",{QDialog:ft["a"],QCard:I["a"],QCardSection:M["a"],QBtn:T["a"],QIcon:F["a"],QImg:V["a"],QSelect:E["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QMenu:yt["a"],QSpace:U["a"]}),j()(_e,"directives",{ClosePopup:G["a"]});var Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative-position"},[a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"Image"},on:{change:function(e){return t.handleImageUpload()}}}),a("q-card",{staticClass:"fit",staticStyle:{overflow:"hidden"},attrs:{square:""}},[""==t.tabDecor?a("q-card-section",{staticClass:"row full-height justify-center q-pa-none",style:{width:t.$q.screen.width/2+"px"}},[a("div",{staticClass:"flex q-pa-md full-height justify-center"},[t._l(t.tabsDecor,(function(e){return a("q-btn",{key:e.name,staticClass:"q-pt-sm q-ma-xs",staticStyle:{width:"45%"},attrs:{"no-caps":"",outline:"",stack:"",color:"primary",size:"lg"},on:{click:function(a){t.tabDecor=e.name}}},[a("q-icon",{attrs:{name:e.icon,size:"40px"}}),a("div",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.label))])],1)})),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"self-end",attrs:{"no-caps":"",color:"accent",icon:"check",label:t.$t("main.ready")},on:{click:function(e){return t.detectReset()}}})],2)]):t._e(),t.decorTabFull?a("q-card-section",{directives:[{name:"show",rawName:"v-show",value:""!=t.tabDecor,expression:"tabDecor!=''"}],staticClass:"full-height q-pa-none column",style:{"max-width":t.$q.screen.width/2+"px"}},[a("div",{staticClass:"col-auto flex items-center text-primary q-pl-md q-pr-md q-pt-md q-pb-none full-width"},[a("q-btn",{staticClass:"bg-white text-primary",attrs:{icon:"keyboard_backspace",dense:"",round:"",size:"md"},on:{click:function(e){t.tabDecor=""}}}),a("q-space"),"signature"==t.tabDecor?a("div",[a("q-toggle",{attrs:{label:t.$t("main.signature"),color:"accent"},on:{input:t.toggleCardName},model:{value:t.datacard.options.signature.hasname,callback:function(e){t.$set(t.datacard.options.signature,"hasname",e)},expression:"datacard.options.signature.hasname"}}),a("q-toggle",{attrs:{label:t.$t("main.avatar"),color:"accent"},on:{input:t.toggleAvatar},model:{value:t.datacard.options.signature.hasavatar,callback:function(e){t.$set(t.datacard.options.signature,"hasavatar",e)},expression:"datacard.options.signature.hasavatar"}})],1):t._e(),"cover"==t.tabDecor?a("q-select",{attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesCovers},on:{input:function(e){return t.scrollToStartVirtual()}},model:{value:t.currCategoryCover,callback:function(e){t.currCategoryCover=e},expression:"currCategoryCover"}}):t._e(),"form"==t.tabDecor?a("q-select",{attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesForms},on:{input:function(e){return t.scrollToStartVirtual()}},model:{value:t.currCategoryForm,callback:function(e){t.currCategoryForm=e},expression:"currCategoryForm"}}):t._e(),"bgtexture"==t.tabDecor?a("q-select",{attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"name","option-label":function(e){return null===e?"---":e.langs[t.$i18n.locale]},options:t.categoriesBackgrounds},model:{value:t.currCategoryBackground,callback:function(e){t.currCategoryBackground=e},expression:"currCategoryBackground"}}):t._e()],1),a("div",{staticClass:"col flex q-pa-sm items-start",style:{width:t.$q.screen.width/2+"px"},attrs:{id:"contentDecor"}},["cover"==t.tabDecor?a("q-virtual-scroll",{ref:"vScroll",attrs:{items:t.filterLibCovers,"virtual-scroll-horizontal":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item,r=e.index;return[a("div",{key:r,staticClass:"row items-center q-ma-xs q-pa-xs"},[a("q-item",{staticClass:"q-pa-none",attrs:{dense:"",clickable:""},on:{click:function(e){return t.selectCover("statics/bgs/covers/"+s.img)}}},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-img",{staticStyle:{border:"solid 1px rgba(0,0,0,0.25)"},style:{width:t.heightPreview-30+"px"},attrs:{src:"statics/bgs/covers/"+s.img,position:"0 0",ratio:1},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.coverimage.src=="statics/bgs/covers/"+s.img?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)],1)],1)]}}],null,!1,2950144624)}):t._e(),"form"==t.tabDecor?a("q-virtual-scroll",{ref:"vScroll",attrs:{items:t.filterLibForms,"virtual-scroll-horizontal":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item,r=e.index;return[a("div",{key:r,staticClass:"row items-center q-ma-xs q-pa-xs"},[a("q-item",{staticClass:"q-pa-none",attrs:{dense:"",clickable:""},on:{click:function(e){return t.$emit("setFormCard",s)}}},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-img",{staticStyle:{cursor:"pointer"},style:{width:t.heightPreview-30+"px"},attrs:{src:t.svgSrc(s),ratio:1},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.form==s.name?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)],1)],1)]}}],null,!1,543042014)}):t._e(),"bgtexture"==t.tabDecor?a("q-virtual-scroll",{ref:"vScroll",attrs:{items:t.filterLibBackgrounds,"virtual-scroll-horizontal":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.item,r=e.index;return[a("div",{key:r,staticClass:"row items-center q-ma-xs q-pa-xs"},[a("q-item",{staticClass:"q-pa-none",attrs:{dense:"",clickable:""},on:{click:function(e){return t.selectBgtexture(s)}}},[a("q-item-section",{staticClass:"q-pa-none"},[a("q-img",{staticStyle:{border:"solid 1px #ccc"},style:{width:t.heightPreview-30+"px"},attrs:{src:"statics/bgs/textures/"+s.img,ratio:1},scopedSlots:t._u([{key:"default",fn:function(){return[t.datacard.options.bgtexture.src=="statics/bgs/textures/"+s.img?a("div",{staticClass:"absolute-full flex flex-center text-primary",staticStyle:{background:"rgba(255,255,255,0.75)"}},[a("q-icon",{attrs:{name:"check",size:"60px"}})],1):t._e()]},proxy:!0}],null,!0)})],1)],1)],1)]}}],null,!1,3358779104)}):t._e(),"signature"==t.tabDecor?a("div",{staticClass:"scroll fit"},[a("q-space"),a("q-slide-transition",[t.datacard.options.signature.hasname?a("div",{staticClass:"row full-width q-pl-xs"},[a("q-input",{ref:"signatureInput",staticClass:"full-width q-mt-md",attrs:{dense:"",outlined:"","no-error-icon":"",placeholder:t.$t("main.you_text_signature"),maxlength:25},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.closeMobileKeyboard(e))}},scopedSlots:t._u([{key:"after",fn:function(){return[t.datacard.options.signature.hasname?a("q-btn",{staticClass:"q-ml-sm",staticStyle:{width:"40px",height:"40px",border:"solid 1px #ccc"},attrs:{flat:"",color:"primary"}},[a("div",{staticStyle:{position:"absolute",top:"-30px",left:"0","z-index":"10",width:"100%",height:"25px",border:"solid 1px #ccc"},style:{background:t.datacard.options.signature.font.color}}),a("q-icon",{attrs:{name:"color_lens",size:"30px"}}),a("q-menu",{staticClass:"shadow-3",attrs:{offset:[0,20],anchor:"center left",self:"center right","transition-show":"jump-down","transition-hide":"jump-up","max-height":"500px"}},[a("q-card",[a("q-toolbar",[a("q-toolbar-title",{staticClass:"text-primary row items-center q-pa-xs",staticStyle:{"font-size":"14px"}},[a("span",{staticClass:"q-ml-xs"},[t._v(t._s(t.$t("main.color_text")))]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary"}})],1)],1),a("q-card-section",{staticClass:"q-pa-xs"},[a("q-color",{staticClass:"fit",staticStyle:{"z-index":"1000"},attrs:{dendse:"",flat:"","no-header":"","no-footer":""},model:{value:t.datacard.options.signature.font.color,callback:function(e){t.$set(t.datacard.options.signature.font,"color",e)},expression:"datacard.options.signature.font.color"}})],1)],1)],1)],1):t._e(),t.datacard.options.signature.hasname?a("q-btn",{staticClass:"q-ml-sm",staticStyle:{width:"40px",height:"40px",border:"solid 1px #ccc"},attrs:{icon:"icon-text-outline",flat:"",color:"primary"}},[t.datacard.options.signature.font.outline&&"none"!=t.datacard.options.signature.font.outlineColor?a("div",{staticStyle:{position:"absolute",top:"-30px",left:"0","z-index":"10",width:"100%",height:"25px",border:"solid 1px #ccc"},style:{background:t.datacard.options.signature.font.outlineColor}}):t._e(),a("q-menu",{staticClass:"shadow-3",attrs:{offset:[0,20],anchor:"center left",self:"center right","transition-show":"jump-down","transition-hide":"jump-up","max-height":"500px"}},[a("q-card",{staticStyle:{width:"200px"}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"text-primary row items-center q-pa-xs",staticStyle:{"font-size":"14px"}},[a("q-toggle",{attrs:{size:"xs"},on:{input:function(e){t.datacard.options.signature.font.outlineColor=e?"#ffffff":"none"}},model:{value:t.datacard.options.signature.font.outline,callback:function(e){t.$set(t.datacard.options.signature.font,"outline",e)},expression:"datacard.options.signature.font.outline"}}),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary"}})],1)],1),t.datacard.options.signature.font.outline?t._e():a("q-card-section",{staticClass:"q-pa-md text-grey"},[a("q-icon",{attrs:{name:"not_interested"}}),t._v(" "+t._s(t.$t("main.disabled"))+"\n                          ")],1),a("q-slide-transition",[t.datacard.options.signature.font.outline?a("q-card-section",{staticClass:"q-pa-xs"},[a("q-color",{attrs:{flat:"","no-header":"","no-footer":""},model:{value:t.datacard.options.signature.font.outlineColor,callback:function(e){t.$set(t.datacard.options.signature.font,"outlineColor",e)},expression:"datacard.options.signature.font.outlineColor"}})],1):t._e()],1)],1)],1)],1):t._e()]},proxy:!0}],null,!1,720838316),model:{value:t.datacard.options.signature.name,callback:function(e){t.$set(t.datacard.options.signature,"name",e)},expression:"datacard.options.signature.name"}}),a("div",{staticClass:"q-mt-md q-mb-md flex full-width"},[a("q-select",{staticClass:"full-width",attrs:{dense:"",outlined:"","emit-value":"","map-options":"","option-value":"fontName","option-label":"fontName",options:t.optionsFonts},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"font_download"}})]},proxy:!0},{key:"selected-item",fn:function(e){return[a("q-item",{staticClass:"q-pa-none",staticStyle:{"min-height":"25px"},attrs:{dense:""}},[a("q-item-section",{staticClass:"q-pl-xs"},[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"18px"}},[t._v(" "+t._s(e.opt.fontName))])],1)],1)]}},{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",{style:{"font-family":e.opt.fontName,"font-size":"20px"}},[t._v(t._s(e.opt.fontName))])],1)],1)]}}],null,!1,2528519489),model:{value:t.datacard.options.signature.font.family,callback:function(e){t.$set(t.datacard.options.signature.font,"family",e)},expression:"datacard.options.signature.font.family"}})],1),a("div",{staticClass:"full-width q-mt-none"},[a("q-item",{staticClass:"q-pt-none"},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"format_size"}})],1),a("q-item-section",[a("q-slider",{attrs:{min:18,max:50,color:"primary"},model:{value:t.datacard.options.signature.font.size,callback:function(e){t.$set(t.datacard.options.signature.font,"size",e)},expression:"datacard.options.signature.font.size"}})],1)],1)],1)],1):t._e()]),a("q-separator"),a("q-slide-transition",[t.datacard.options.signature.hasavatar?a("div",{staticClass:"row q-mt-md q-mb-md"},[a("div",{staticClass:"col-auto flex flex-center relative-position",staticStyle:{"min-width":"100px"}},["none"!=t.datacard.options.signature.avatar||t.cropImg?t._e():a("q-btn",{attrs:{round:"",icon:"add_photo_alternate",size:"lg",color:"white","text-color":"primary"},on:{click:function(e){return e.preventDefault(),t.selectAvatar(e)}}}),"none"!=t.datacard.options.signature.avatar?a("q-img",{staticClass:"shadow-1",staticStyle:{width:"100px","border-radius":"50%",border:"solid 5px #fff"},attrs:{ratio:1,src:t.datacard.options.signature.avatar}}):t._e(),"none"!=t.datacard.options.signature.avatar?a("q-btn",{staticClass:"absolute bg-white",staticStyle:{"z-index":"1","margin-top":"35px","margin-left":"35px"},attrs:{dense:"",round:"",icon:"delete_forever",size:"md","text-color":"primary",outline:""}},[a("q-menu",{staticClass:"shadow-3",attrs:{"auto-close":"",anchor:"bottom left",self:"bottom left","transition-show":"jump-down","transition-hide":"jump-up"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v(t._s(t.$t("main.confirmation"))+"\n                          ")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),a("q-card-section",{attrs:{align:"center"}},[t._v("\n                          "+t._s(t.$t("main.delete_avatar"))+"\n                        ")]),a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{"no-caps":"",outline:"",icon:"close",label:t.$t("main.cancel"),color:"primary"}}),a("q-space"),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"delete_forever",label:t.$t("main.delete"),color:"primary"},on:{click:function(e){return e.preventDefault(),t.cancelAvatar(e)}}})],1)],1)],1)],1):t._e()],1),a("div",{staticClass:"col row items-center justify-center"},[t.cropImg?t._e():a("div",{staticClass:"text-primary q-pa-sm",staticStyle:{"font-size":"14px"}},[t._v("\n                    "+t._s(t.$t("main.upload_avatar"))+"\n                  ")])])]):t._e()])],1):t._e()],1),a("div",{staticClass:"col-auto q-pl-md q-pr-md q-pb-md q-pt-none flex"},["bgtexture"==t.tabDecor||"cover"==t.tabDecor?a("q-btn",{attrs:{"no-caps":"",icon:"photo_filter",color:"primary",label:t.$t("main.filters")},on:{click:function(e){return t.checkOpenCover(0)}}},[a("q-menu",{staticClass:"shadow-3 ",staticStyle:{width:"300px"},attrs:{cover:"",anchor:"bottom left",offset:[0,0],"transition-show":"jump-down","transition-hide":"jump-up","max-height":"500px"}},["bgtexture"==t.tabDecor?a("image-filters",{staticStyle:{"min-width":"280px"},attrs:{imgObject:t.datacard.options.bgtexture}}):t._e(),"cover"==t.tabDecor?a("image-filters",{staticStyle:{"min-width":"280px"},attrs:{imgObject:t.datacard.options.coverimage}}):t._e()],1)],1):t._e(),a("q-space"),t.cropImg?t._e():a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{"no-caps":"",icon:"check",color:"primary",label:"Ок"},on:{click:function(e){t.tabDecor=""}}})],1)]):t._e(),t.cropImg?a("q-card-section",{staticClass:"bg-white fit flex flex-center q-pa-md",staticStyle:{position:"absolute",bottom:"0px",left:"0"}},[a("clipper-fixed",{ref:"clipperAvatar",staticClass:"q-mb-md",style:{width:t.heightPreview+"px",height:t.heightPreview+"px"},attrs:{area:100,grid:!0,shadow:"#ffffff",round:"",border:2,"border-color":"#C0C0C0",bgColor:"#ffffff",src:t.cropImg}}),a("q-btn",{attrs:{"no-caps":"",icon:"close",outline:"",color:"primary"},on:{click:function(e){return e.preventDefault(),t.cancelAvatar(e)}}}),a("q-btn",{staticClass:"q-ml-md",attrs:{"no-caps":"",icon:"crop",color:"primary",label:t.$t("main.create_avatar")},on:{click:function(e){return e.preventDefault(),t.croppedAvatar(e)}}})],1):t._e()],1)],1)},ke=[];function $e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Oe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);var Pe=q["c"].height,je=(q["c"].width,C["a"].lighten,{components:{ImageFilters:Qt},data:function(){return{tabDecor:"",avatarBase64URL:null,cropImg:null}},methods:{closeMobileKeyboard:function(){this.$refs.signatureInput.blur()},scrollToStartVirtual:function(){this.$refs.vScroll&&this.$refs.vScroll.scrollTo()},resetScrollArea:function(){var t=this;setTimeout((function(){t.$refs.scrollarea&&t.$refs.scrollarea.setScrollPosition(0)}),100)},detectReset:function(){!this.datacard.options.signature.hasname||this.datacard.options.signature.name!=this.defaultText&&""!=this.datacard.options.signature.name||(this.datacard.options.signature.hasname=!1,this.datacard.options.signature.name),this.datacard.options.signature.hasavatar&&"none"==this.datacard.options.signature.avatar&&(this.datacard.options.signature.hasavatar=!1,this.datacard.options.signature.avatar)},toggleCardName:function(t){this.datacard.options.signature.name=t?this.datacard.options.signature.hasname&&""==this.datacard.options.signature.name?this.defaultText:this.datacard.options.signature.name:"",this.checkOpenCover(0)},toggleAvatar:function(t){t||this.cancelAvatar(),this.checkOpenCover(0)},handleImageUpload:function(){var t=this,e=new FileReader,a=this.$refs.image.files[0];e.addEventListener("load",(function(e){t.cropImg=e.target.result,console.log("this.cropImg",t.cropImg)})),e.readAsDataURL(a)},selectAvatar:function(){this.$refs.image.value="",this.$refs.image.click()},croppedAvatar:function(){var t=this.$refs.clipperAvatar.clip({wPixel:150});this.avatarBase64URL=t.toDataURL("image/jpeg"),this.datacard.options.signature.avatar=this.avatarBase64URL,this.cropImg=null,this.$refs.image.value=""},cancelAvatar:function(){this.datacard.options.signature.avatar="none",this.avatarBase64URL="none",this.cropImg=null,this.$refs.image.value=""},resetFilter:function(){var t="bgtexture"==this.tabDecor?this.datacard.options.bgtexture:this.datacard.options.coverimage;t.filters.hue=0,t.filters.saturate=100,t.filters.brightness=100,t.filters.contrast=100,t.filters.sepia=0,t.filters.blur=0},checkOpenCover:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.cardIsOpen&&setTimeout((function(){t.$parent.$parent.$parent.$parent.toggleCard(!1)}),e)},selectCover:function(t){this.resetFilter(),this.datacard.options.coverimage.src=t,console.log("this.cardIsOpen",this.cardIsOpen),this.cardIsOpen&&this.$parent.$parent.$parent.$parent.toggleCard(!1)},selectBgtexture:function(t){this.resetFilter(),this.datacard.options.bgtexture.src="statics/bgs/textures/"+t.img},svgSrc:function(t){var e=C["a"].getBrand("secondary"),a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" xml:space="preserve"><path d="'+t.path+'" fill="'+e+'" /></svg>',s=window.btoa(a);return"data:image/svg+xml;base64,"+s}},computed:Oe({},Object(h["c"])(["categoriesCovers","libCovers","categoriesForms","libForms","categoriesBackgrounds","libBackgrounds","datacard","cardIsOpen","thumbStyleVertical","optionsFonts"]),{defaultText:function(){return this.$t("main.you_text")},tabsDecor:function(){return[{name:"cover",icon:"icon-postcard",label:this.$t("main.cover")},{name:"bgtexture",icon:"texture",label:this.$t("main.bg")},{name:"form",icon:"favorite",label:this.$t("main.form")},{name:"signature",icon:"icon-cover",label:this.$t("main.signature")}]},heightPreview:function(){return Pe(document.querySelector("#contentDecor"))},decorTabFull:function(){var t=d.a.find(this.tabsDecor,{name:this.tabDecor});return void 0==t?null:t},currCategoryCover:{get:function(){return this.$store.getters.currCategoryCover},set:function(t){this.$store.dispatch("setCurrCategoryCover",t)}},filterLibCovers:function(){var t=this;return d.a.filter(this.libCovers,(function(e){return(e.categories.includes(t.currCategoryCover)||e.categories.includes("all"))&&(e.languages.includes(t.$i18n.locale)||e.languages.includes("all"))}))},currCategoryForm:{get:function(){return this.$store.getters.currCategoryForm},set:function(t){this.$store.dispatch("setCurrCategoryForm",t)}},filterLibForms:function(){var t=this;return d.a.filter(this.libForms,(function(e){return e.categories.includes(t.currCategoryForm)||e.categories.includes("all")}))},currCategoryBackground:{get:function(){return this.$store.getters.currCategoryBackground},set:function(t){this.$store.dispatch("setCurrCategoryBackground",t)}},filterLibBackgrounds:function(){var t=this;return d.a.filter(this.libBackgrounds,(function(e){return e.categories.includes(t.currCategoryBackground)||e.categories.includes("all")}))}}),mounted:function(){}}),Ie=je,ze=a("a12b"),De=Object(O["a"])(Ie,Se,ke,!1,null,null,null),Fe=De.exports;j()(De,"components",{QCard:I["a"],QCardSection:M["a"],QBtn:T["a"],QIcon:F["a"],QSpace:U["a"],QToggle:vt["a"],QSelect:E["a"],QVirtualScroll:ze["a"],QItem:ht["a"],QItemSection:gt["a"],QImg:V["a"],QSlideTransition:B["a"],QInput:R["a"],QMenu:yt["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QColor:qt["a"],QItemLabel:bt["a"],QSlider:Tt["a"],QSeparator:A["a"]}),j()(De,"directives",{ClosePopup:G["a"]});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[t.datacard?a("q-card",{attrs:{square:""}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"queue_music"}}),t._v(t._s(t.$t("main.music")))],1)],1),a("q-separator"),a("q-card-section",{staticClass:"row q-pa-none"},[a("q-scroll-area",{ref:"scrollarea",staticClass:"text-primary",staticStyle:{width:"100%",height:"calc(100vh - 51px)"},attrs:{"thumb-style":t.thumbStyleVertical}},[a("q-list",{staticClass:"full-width",attrs:{separator:""}},t._l(t.libMusic,(function(e){return a("q-item",{key:e.icon,class:{"bg-orange-2":e.file==t.currMusic},attrs:{clickable:""},on:{click:function(a){return t.setCurrMusicFile(e.file)}}},[a("q-item-section",{staticStyle:{"min-width":"30px"},attrs:{avatar:""}},[a("q-icon",{attrs:{name:"img:statics/img/iconsmusic/"+e.icon,size:"50px"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.langs[t.$i18n.locale]))]),e.provider?a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.provider))]):t._e()],1)],1)})),1)],1)],1)],1):t._e()],1),a("div",{staticClass:"col bg-white full-height"},[t.currMusic?a("q-card-section",{staticClass:"row items-center q-pa-xs self-start"},[a("div",{staticClass:"col-auto q-pa-sm"},[a("q-btn",{attrs:{round:"",color:"primary","text-color":"white",icon:t.music.playing()?"pause":"play_arrow",loading:!t.musicIsloaded},on:{click:function(e){t.music.playing()?t.music.pause():t.music.play()}}})],1),a("div",{staticClass:"col q-ml-md"}),a("div",{staticClass:"col q-pa-sm row items-center text-primary",staticStyle:{"min-width":"200px"}},[a("div",{staticClass:"col-auto q-pl-md q-pr-sm"},[a("q-icon",{attrs:{name:"volume_up",size:"30px"}})],1),a("div",{staticClass:"col q-mr-md"},[a("q-slider",{attrs:{value:t.music.volume(),min:0,max:1,step:.1},on:{input:t.setVolumeMusic}})],1)])]):t._e(),a("q-card-section",{staticClass:"row self-center justify-center"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"bg-white q-pa-md",attrs:{icon:"music_off",stack:"",label:t.$t("main.not_music")},on:{click:function(e){return t.noAcceptMusic()}}})],1),a("q-card-section",{staticClass:"row self-end justify-center"},[t.currMusic?a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-pa-md",attrs:{icon:"check",stack:"",color:"accent",label:t.$t("main.apply")}}):t._e()],1)],1)])},Me=[];function Qe(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Le(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ae={methods:Le({},Object(h["b"])(["setCurrMusic","setMusicIsloaded","setMusic"]),{setCurrMusicFile:function(t){this.setMusicIsloaded(!1),this.setCurrMusic(t),this.datacard.options.music.file=t,this.datacard.options.music.active=!0},noAcceptMusic:function(){this.setCurrMusic(!1),this.datacard.options.music.file=!1,this.datacard.options.music.active=!1},setVolumeMusic:function(t){this.music.volume(t)}}),computed:Le({},Object(h["c"])(["datacard","libMusic","currMusic","thumbStyleVertical","musicIsloaded","music"]))},Ee=Ae,Ne=Object(O["a"])(Ee,Te,Me,!1,null,null,null),Be=Ne.exports;function Re(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Je(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(Ne,"components",{QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QIcon:F["a"],QBtn:T["a"],QSeparator:A["a"],QCardSection:M["a"],QScrollArea:L["a"],QList:xt["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QSlider:Tt["a"]}),j()(Ne,"directives",{ClosePopup:G["a"]}),g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width,C["a"].lighten,C["a"].setBrand;var Ue={components:{SettingsText:kt,SettingsPhoto:Ut,SettingsDecor:Zt,SettingsMusic:ne,SettingsTextMobile:ge,SettingsPhotoMobile:we,SettingsDecorMobile:Fe,SettingsMusicMobile:Be},data:function(){return{dialogs:{settings_decor:!1,settings_image:!1,settings_text:!1,settings_music:!1}}},methods:Je({},Object(h["b"])(["setSettingsMode"]),{setLiveFrame:function(t){this.$emit("setLiveFrame",t)},hideSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("this.settingsMode",this.settingsMode),"music"==t&&"image"==this.settingsMode||"music"==t&&"text"==this.settingsMode||"decor"==t&&"image"==this.settingsMode||"decor"==t&&"text"==this.settingsMode||this.setSettingsMode("")},setFormCard:function(t){this.$emit("setFormCard",t)},svgSrc:function(t){var e=C["a"].getBrand("secondary"),a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 400 400" enable-background="new 0 0 400 400" xml:space="preserve"><path d="'+t.path+'" fill="'+e+'" /></svg>',s=window.btoa(a);return"data:image/svg+xml;base64,"+s}}),computed:Je({},Object(h["c"])(["settingsMode"]),{isMobile:function(){return!(this.$q.screen.width>900)}}),watch:{settingsMode:function(t,e){for(var a=0,s=Object.entries(this.dialogs);a<s.length;a++){var r=o()(s[a],2),i=r[0];r[1];this["dialogs"][i]=!1}this["dialogs"]["settings_"+t]=!0}}},Ve=Ue,Ge=Object(O["a"])(Ve,K,Z,!1,null,null,null),He=Ge.exports;j()(Ge,"components",{QDialog:ft["a"]});var Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-center"},[t.currCardForm?a("div",{ref:"textScrollerContainer",staticStyle:{position:"absolute"},style:{width:t.currCardForm.left_sizepos.w,height:t.currCardForm.left_sizepos.h,"margin-top":t.currCardForm.left_sizepos.mt,"margin-left":t.currCardForm.left_sizepos.ml}},[a("div",{staticClass:"relative-position fit",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"gradient-fade-top",style:{background:"linear-gradient(to bottom, "+t.slide.textSide.options.bgcolor+" 0%, rgba(255,255,255,0) 100%)"}}),a("div",{staticClass:"gradient-fade-bot",style:{background:"linear-gradient(to top, "+t.slide.textSide.options.bgcolor+" 0%, rgba(255,255,255,0) 100%)"}}),a("div",{ref:"textScroller",staticStyle:{"z-index":"1","font-size":"17px"},domProps:{innerHTML:t._s(t.textContent)}})]),t.tlScrollText?a("div",{staticClass:"row",staticStyle:{margin:"0 auto"},style:{width:t.currCardForm.left_sizepos.w},attrs:{id:"read-more-scrolltext"}},[a("div",{staticClass:"col q-pa-xs row items-center justify-center"},[a("q-btn",{staticClass:"bg-white text-grey",attrs:{size:"sm",dense:"",rounded:"","no-caps":""},on:{click:t.readMoreToggle}},[a("q-icon",{attrs:{name:t.tlScrollText.isActive()?"pause":"play_arrow"}}),a("span",{staticClass:"q-pr-sm",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.tlScrollText.isActive()?"Остановить":"Читать далее..."))])],1)],1)]):t._e()]):t._e()])},We=[];a("a481");function Ye(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ke(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);var Ze=q["c"].height,ta=(q["c"].width,C["a"].lighten),ea=(C["a"].setBrand,{props:{slide:{type:Object,default:null}},data:function(){return{tlScrollText:null,progress:0}},methods:{seekPercent:function(t){this.tlScrollText.progress(t)},initTL:function(){this.tlScrollText&&(this.tlScrollText.kill(),this.tlScrollText=null);if(this.tlScrollText||(this.tlScrollText=g["a"].timeline()),this.tlScrollText&&this.$refs.textScroller&&this.$refs.textScrollerContainer){var t=-Ze(this.$refs.textScroller)+Ze(this.$refs.textScrollerContainer);this.tlScrollText.set(this.$refs.textScroller,{y:0}),this.tlScrollText.to(this.$refs.textScroller,{duration:Ze(this.$refs.textScroller)/10,ease:"none",y:t})}},openCard:function(){var t=this;console.log("openCard");var e=this;this.initTL(),this.tlScrollText.pause(),this.$nextTick((function(){v["a"].create(t.$refs.textScroller,{type:"y",zIndex:1,bounds:t.$refs.textScrollerContainer,onDrag:function(){e.progress=Math.abs(this.y/(Ze(e.$refs.textScroller)-Ze(e.$refs.textScrollerContainer)))},onPress:function(){e.tlScrollText&&e.tlScrollText.kill()},onRelease:function(){e.initTL(),console.log("progress",e.progress),e.tlScrollText.progress(e.progress).play()}})}))},closeCard:function(){console.log("closeCard"),this.tlScrollText&&(this.tlScrollText.restart().pause(0,!1),this.tlScrollText.kill()),v["a"].get(this.$refs.textScroller)&&(console.log("Draggable kill"),v["a"].get(this.$refs.textScroller).kill())},readMoreToggle:function(){console.log(this.tlScrollText),this.tlScrollText&&(this.tlScrollText.isActive()?this.tlScrollText.pause():this.tlScrollText.resume())}},computed:Ke({},Object(h["c"])(["currCardForm"]),{textContent:function(){return"<br>"+this.slide.textSide.options.text.replace(/\r\n|\r|\n/g,"<br />")+"<br><br>"},countLines:function(){return this.slide.textSide.options.text.split(/\r\n|\r|\n/).length},BGlighten:function(){return ta(this.slide.textSide.options.bgcolor,-20)}}),mounted:function(){this.progress=0,this.$emit("setBgTextColor",this.slide.textSide.options.bgcolor,!1,!0)}}),aa=ea,sa=(a("1f6d"),Object(O["a"])(aa,Xe,We,!1,null,null,null)),ra=sa.exports;j()(sa,"components",{QBtn:T["a"],QIcon:F["a"]});var ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-center"},[t.currCardForm?a("div",{style:{top:t.currCardForm.left_sizepos.mt},attrs:{id:"phrase-illustration"}}):t._e(),t.currCardForm&&t.curr_phrase?a("div",{ref:"textScrollerContainer",staticClass:"flex flex-center",staticStyle:{position:"absolute","z-index":"3"},style:{width:t.currCardForm.left_sizepos.w,height:t.currCardForm.left_sizepos.h,"margin-top":t.currCardForm.left_sizepos.mt,"margin-left":t.currCardForm.left_sizepos.ml}},[t.btnrepeat?t._e():a("div",{ref:"phrases",staticClass:"phrases",style:t.styleText}),t.btnrepeat&&t.slide.textSide.options.phrases.length>0?a("q-btn",{staticClass:"bg-white text-primary",attrs:{round:"",id:"btn-repeat",icon:"refresh"},on:{click:t.repeatText}}):t._e()],1):t._e()])},oa=[];function na(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function la(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?na(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):na(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width;var ca=C["a"].lighten,da=(C["a"].setBrand,{props:{slide:{type:Object,default:null}},data:function(){return{curr_phrase:null,tlText:null,timeout:null,btnrepeat:!1,illustrationPhrase:null}},methods:{repeatText:function(){this.clearAllAnimation(),this.nextPhrase()},checkCountPhrases:function(){return this.currPhraseIndex>=this.slide.textSide.options.phrases.length-1},textContent:function(){var t=ca(this.curr_phrase.bgcolor,60),e=this.curr_phrase.custom?this.curr_phrase.text:this.curr_phrase.langs[this.datacard.options.language],a=this.slide.textSide.options.illustrations&&this.curr_phrase.illustrations.length>0?"text-shadow: 2px 0 0 ".concat(t,", \n                          -2px 0 0 ").concat(t,", \n                          0 2px 0 ").concat(t,", \n                          0 -2px 0 ").concat(t,", \n                          1px 1px ").concat(t,", \n                          -1px -1px 0 ").concat(t,", \n                          1px -1px 0 ").concat(t,", \n                          -1px 1px 0 ").concat(t,";"):"";return'<div data-splitting class="ttt" style=" word-break: keep-all; word-wrap:break-word; '+a+'">'+e.replace(/\r\n|\r|\n/g,"<br />")+"</div>"},nextPhrase:function(){var t=this,e=this;0!=this.slide.textSide.options.phrases.length&&(this.curr_phrase=this.slide.textSide.options.phrases[this.currPhraseIndex],e.$nextTick((function(){e.$refs.phrases.innerHTML=e.textContent(),g["a"].set(e.$refs.phrases,{opacity:0})})),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout((function(){nt()({by:t.slide.textSide.options.font.split_by+"s"}),g["a"].set(e.$refs.phrases,{opacity:1}),t.tlText&&(t.tlText.restart().pause(0,!1),t.tlText.kill(),t.tlText=null),t.tlText=g["a"].timeline({onComplete:function(){e.checkCountPhrases()?(e.currPhraseIndex=0,e.nextPhrase()):(e.currPhraseIndex++,e.nextPhrase())}}),t.tlText.timeScale(t.timeScale);var a=t.slide.textSide.options.illustrations,s=t.curr_phrase.hasOwnProperty("illustrations")?t.curr_phrase.illustrations[d.a.random(0,t.curr_phrase.illustrations.lentgh-1)]:void 0;t.$emit("setBgTextColor",t.curr_phrase.bgcolor,!0,!1);var r=".phrases ."+t.slide.textSide.options.font.split_by;if(t.tlText.set(".ttt",{scale:1,color:t.curr_phrase.color}),t.tlText.set("#phrase-illustration",{opacity:0}),t.tlText.call((function(){e.illustrationPhrase&&e.illustrationPhrase.destroy(),e.$nextTick((function(){document.querySelector("#phrase-illustration").innerHTML=""}))})),a&&void 0!=s&&t.tlText.to("#phrase-illustration",{duration:.5,opacity:.5,scale:1}),t.tlText.from(r,d.a.find(t.optionsAnimationsStart,{value:t.datacard.slides[t.currSlide].textSide.options.animation_from}).anim),t.tlText.to(r,d.a.find(t.optionsAnimationsFinish,{value:t.datacard.slides[t.currSlide].textSide.options.animation_to}).anim),a&&void 0!=s&&t.tlText.to("#phrase-illustration",{duration:1,opacity:0}),!t.curr_phrase.custom&&a&&void 0!=s){var i=25*t.tlText.totalDuration()/t.timeScale;t.illustrationPhrase=new st.a("phrase-illustration",{file:"statics/svg/text-illustration/"+s,reverseStack:!0,type:"oneByOne",duration:i,onReady:function(e){t.$nextTick((function(){e.el.setAttribute("width","100%"),g["a"].set("#phrase-illustration svg path",{stroke:t.curr_phrase.color})}))}},(function(){}))}}),300))},openCard:function(){this.btnrepeat=!1,this.nextPhrase()},closeCard:function(){this.tlText&&(this.tlText.restart().pause(0,!1),this.tlText.kill(),this.tlText=null),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.currPhraseIndex=0},clearAllAnimation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.currPhraseIndex=t.hasOwnProperty("forcePhraseIndex")&&t.forcePhraseIndex?t.forcePhraseIndex:0,this.btnrepeat=!1,this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.tlText&&(this.tlText.restart().pause(0,!1),this.tlText.kill(),this.tlText=null)},restartComponent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.clearAllAnimation(t),this.nextPhrase()}},computed:la({},Object(h["c"])(["currCardForm","timeScale","datacard","cardIsOpen","optionsFonts","optionsAnimationsStart","optionsAnimationsFinish","currSlide","settingsMode","categoriesPhrases"]),{iconContent:function(){return this.curr_phrase.icon},currPhraseIndex:{get:function(){return this.$store.getters.currPhraseIndex},set:function(t){this.$store.dispatch("setCurrPhraseIndex",t)}},styleText:function(){var t=this.slide.textSide.options.font,e=this.curr_phrase.custom?this.curr_phrase.text:this.curr_phrase.langs[this.datacard.options.language],a=d.a.find(this.optionsFonts,{fontName:t.family}).fontSizes,s=!0,r=!1,i=void 0;try{for(var o,n=a[Symbol.iterator]();!(s=(o=n.next()).done);s=!0){var l=o.value;e.length>=l.min&&e.length<l.max&&(t.size=l.size+"px",t.lheight=l.lheight)}}catch(c){r=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(r)throw i}}return{"font-size":t.size?t.size:"30px","font-family":t.family?t.family:"Oswald","line-height":t.lheight?t.lheight:1}}}),watch:{timeScale:function(t){this.tlText.timeScale(t)},settingsMode:function(t){"text"!=t||this.clearAllAnimation()}},beforeDestroy:function(){this.clearAllAnimation()},mounted:function(){this.curr_phrase=this.slide.textSide.options.phrases.length>0?this.slide.textSide.options.phrases[0]:null}}),pa=da,ua=Object(O["a"])(pa,ia,oa,!1,null,null,null),ma=ua.exports;j()(ua,"components",{QBtn:T["a"]});var fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-dialog",{attrs:{maximized:""},on:{show:function(e){return t.print()}},model:{value:t.dialogJSON,callback:function(e){t.dialogJSON=e},expression:"dialogJSON"}},[a("q-card",[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-toolbar-title",{staticClass:"text-h6 oswald-uppercase blue-grey-main"},[t._v("JSON")]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",dense:"",icon:"close"}})],1),a("q-card-section",[t._v("\n         "+t._s(t.getJSON)+"\n        ")]),a("q-card-section",[a("img",{attrs:{src:t.output}})])],1)],1),a("q-dialog",{attrs:{seamless:"",position:"left",id:"dialogUI"},model:{value:t.dialogUI,callback:function(e){t.dialogUI=e},expression:"dialogUI"}},[t.isMobile?t._e():a("div",{staticClass:"row",staticStyle:{"min-height":"70vh"}},[t.partsClone?a("q-card",{staticClass:"col-auto"},[a("q-card-section",[a("q-toggle",{attrs:{label:"Редактирование"},on:{input:t.toggleStateDrag},model:{value:t.stateDrag,callback:function(e){t.stateDrag=e},expression:"stateDrag"}})],1),a("q-card-section",[a("q-list",{attrs:{separator:""}},[a("draggable",{attrs:{handle:".handle-drag",animation:200,list:t.partsClone,disable:!t.stateDrag},on:{change:t.sortParts}},t._l(t.partsClone,(function(e,s){return a("q-item",{key:s,class:{"bg-green-2":e.active},attrs:{clickable:""},on:{click:function(e){return t.activateElement(s)}}},[a("q-item-section",{staticStyle:{"max-width":"20px"},attrs:{align:"center"}},[t._v("\n                    "+t._s(s+1)+"\n                  ")]),a("q-item-section",{attrs:{avatar:""}},[a("div",{staticClass:"first-img handle-drag",staticStyle:{filter:"drop-shadow(2px 2px 1px rgba(0,0,0,0.3))"},style:{"background-image":"url(statics/frames/"+e.name+"/preview.png)","background-position":"0 0","background-size":"100% 100%"}})]),t.stateDrag?a("q-item-section",{staticStyle:{"min-width":"50px"},attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"delete_forever"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deletePart(s)}}})],1):t._e()],1)})),1)],1)],1),t.currentPart?a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{label:"отразить X"},on:{click:function(e){t.currentPart.transform.flipX=-1*t.currentPart.transform.flipX}}}),a("q-space"),a("q-btn",{attrs:{label:"отразить Y"},on:{click:function(e){t.currentPart.transform.flipY=-1*t.currentPart.transform.flipY}}})],1):t._e(),t.currentPart?a("q-card-section",[a("q-slider",{staticClass:"q-mt-md",attrs:{min:.05,max:1,step:.01},model:{value:t.currentPart.transform.scale,callback:function(e){t.$set(t.currentPart.transform,"scale",e)},expression:"currentPart.transform.scale"}}),a("q-slider",{attrs:{min:-180,max:180,step:1},model:{value:t.currentPart.transform.rotate,callback:function(e){t.$set(t.currentPart.transform,"rotate",e)},expression:"currentPart.transform.rotate"}})],1):t._e(),t.currentPart?a("q-card-section",{staticClass:"row"},[a("q-btn",{attrs:{icon:"play_arrow"},on:{click:function(e){return t.reloadAnimation()}}}),a("q-space"),a("q-btn",{attrs:{label:"JSON"},on:{click:function(e){t.dialogJSON=!0}}})],1):t._e()],1):t._e(),a("q-card",{staticClass:"col",staticStyle:{"min-width":"300px"}},t._l(t.partsArr,(function(e){return a("div",{staticClass:"inline-block q-ma-md",style:{width:"50px",height:"50px","background-image":"url(statics/frames/"+e.name+"/preview.png)","background-position":"0 0","background-size":"100% 100%"},on:{click:function(a){return t.addPart(e)}}})})),0)],1)]),t.parts&&t.loadaedComplete?a("div",[a("div",{ref:"printMe",staticStyle:{width:"480px",height:"480px"},style:{"pointer-events":t.stateDrag?"all":"none",border:t.isDragged?"dashed 1px":"solid 1px rgba(0,0,0,0)"},attrs:{id:"boundsFrame"}},t._l(t.partsClone,(function(e,s){return t.partsClone.length>0?a("div",{key:s,staticClass:"framepart",staticStyle:{filter:"brightness(100%) hue-rotate(0deg) sepia(0%) drop-shadow(8px 8px 2px rgba(0,0,0,0.3))"},style:{"z-index":s,width:e.size.w+"px",height:e.size.h+"px",transform:"\n              translate("+e.transform.x+"px, "+e.transform.y+"px) \n              scale("+e.transform.scale+") \n              rotate("+e.transform.rotate+"deg)"},on:{click:function(e){return t.activateElement(s)}}},[a("div",{staticClass:"part-center"},[a("div",{style:{transform:"scaleX("+e.transform.flipX+") scaleY("+e.transform.flipY+")"}},[a("div",{staticClass:"inner",staticStyle:{"pointer-events":"none"},style:{"transform-origin":""+e.transformOrigin,width:e.size.w+"px",height:e.size.h+"px","background-image":"url("+e.bgimage+")"}})])])]):t._e()})),0)]):t._e()],1)},ha=[],ga=a("967e"),ba=a.n(ga),va=(a("96cf"),a("fa84")),ya=a.n(va);function xa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function qa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?xa(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width;var Ca={components:{draggable:it.a},data:function(){return{dialogUI:!1,partsArr:[{name:"corner-1",animation:!1},{name:"corner-2",animation:!1},{name:"corner-3",animation:!1},{name:"circle-1",animation:!1},{name:"heart-1",animation:!1},{name:"rose-1",animation:!0},{name:"rose-2",animation:!0},{name:"rose-3",animation:!0},{name:"camomile-1",animation:!0},{name:"flower-1",animation:!0},{name:"flower-2",animation:!0},{name:"flower-3",animation:!0},{name:"flower-4",animation:!0},{name:"flower-5",animation:!0},{name:"flower-6",animation:!0},{name:"flower-7",animation:!0}],isDragged:!1,partsClone:!1,dialogJSON:!1,stateDrag:!1,loadaedComplete:!1,tlAllFrames:null,lifeFrameGroup:null,currentPart:null,currentElem:null,lastDrag:null,output:null}},methods:{print:function(){var t=this;return ya()(ba.a.mark((function e(){var a,s;return ba.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$refs.printMe,s={type:"dataURL",backgroundColor:null},e.next=4,t.$html2canvas(a,s);case 4:t.output=e.sent;case 5:case"end":return e.stop()}}),e)})))()},uuid:function(){return Object(lt["a"])()},openCard:function(){this.initLiveFrame()},closeCard:function(){this.clearAllAnimation()},clearAllAnimation:function(){this.tlAllFrames&&(this.tlAllFrames.restart().pause(0,!1),this.tlAllFrames.kill(),this.tlAllFrames=null)},addPart:function(t){if(this.partsClone){var e=JSON.parse(JSON.stringify(this.liveFramePartEmpty));e.name=t.name,t.animation?e.animation.ease="power4.out":delete e.animation,this.partsClone.push(e),console.log("this.partsClone",this.partsClone),this.$set(this.liveframe,"parts",this.partsClone)}},deletePart:function(t){this.partsClone.splice(t,1),this.$set(this.liveframe,"parts",this.partsClone)},sortParts:function(t){this.$set(this.liveframe,"parts",this.partsClone)},toggleStateDrag:function(t){this.tlAllFrames&&t&&this.tlAllFrames.seek(this.tlAllFrames.duration()),t||this.activateElement(null),this.tlAllFrames&&!t&&this.tlAllFrames.seek(0)},activateElement:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;setTimeout((function(){var a,s=document.querySelectorAll(".framepart"),r=!0,i=!1,o=void 0;try{for(var n,l=s[Symbol.iterator]();!(r=(n=l.next()).done);r=!0){var c,d=n.value;(c=d.classList).remove.apply(c,["active"])}}catch(f){i=!0,o=f}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}for(var p=0;p<t.partsClone.length;p++)t.$delete(t.partsClone[p],"active");if(null!=e){var u=s[e];t.currentPart=t.partsClone[e],t.currentElem=u,(a=u.classList).add.apply(a,["active"]),t.$set(t.currentPart,"active",!0);var m=t;t.lastDrag&&void 0!=v["a"].get(t.lastDrag)&&v["a"].get(t.lastDrag).kill(),v["a"].create(t.currentElem,{type:"x,y",bounds:{x:-t.currentPart.size.w/2,y:-t.currentPart.size.h/2,top:-t.currentPart.size.h/2,left:-t.currentPart.size.w/2,width:480+t.currentPart.size.w,height:480+t.currentPart.size.h},zIndexBoost:!1,onPress:function(t){m.isDragged=!0},onRelease:function(t){m.isDragged=!1},onDrag:function(t){m.currentPart.transform.x=this.x,m.currentPart.transform.y=this.y}}),t.lastDrag=t.currentElem}else t.currentElem=null}),300)},preloadImages:function(t){var e=this;return ya()(ba.a.mark((function a(){var s,r,i,o;return ba.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preloadImages.list||(e.preloadImages.list=[]),0!=e.preloadImages.list.length){a.next=6;break}return a.next=4,"images is loaded";case 4:return s=a.sent,a.abrupt("return",s);case 6:for(r=e.preloadImages.list,i=0;i<t.length;i++)o=new Image,o.onload=function(){var t=r.indexOf(this);-1!==t&&r.splice(t,1)},r.push(o),o.src=t[i];case 8:case"end":return a.stop()}}),a)})))()},initLiveFrame:function(){var t=this;if(this.loadaedComplete=!1,this.partsClone&&0!=this.partsClone.length){this.clearAllAnimation(),this.lifeFrameGroup=d.a.uniqBy(this.partsClone,"name");var e=[],a=[],s=[],r=!0,i=!1,o=void 0;try{for(var n,l=this.lifeFrameGroup[Symbol.iterator]();!(r=(n=l.next()).done);r=!0){var c=n.value,p=f()({method:"GET",url:"statics/frames/"+c.name+"/spritesheet.json"});a.push("statics/frames/"+c.name+"/spritesheet.png"),e.push({name:c.name}),s.push(p)}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}this.preloadImages(a).then((function(a){Promise.all(s).then((function(a){for(var s=0;s<a.length;s++){var r=a[s];e[s].json=r.data}for(var i=0;i<t.partsClone.length;i++){var o=t.partsClone[i],n=d.a.find(e,{name:o.name}).json.frames,l=d.a.find(e,{name:o.name}).json.meta,c=n[0].sourceSize;t.$set(o,"size",c),t.$set(o,"bgimage","statics/frames/"+o.name+"/spritesheet.png"),t.$set(o,"frames",n),t.$set(o,"transformOrigin",l.transformOrigin)}t.loadaedComplete=!0,t.reloadAnimation()}))}))}},reloadAnimation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stateDrag=!1,0!=this.partsClone.length&&(this.activateElement(null),this.clearAllAnimation(),this.$nextTick((function(){t.tlAllFrames=g["a"].timeline();for(var a=g["a"].timeline(),s=0;s<t.partsClone.length;s++){var r=JSON.parse(JSON.stringify(t.partsClone[s])),i=document.querySelectorAll(".framepart"),o=i[s].querySelector(".inner");a.set(i,{opacity:1}),r.hasOwnProperty("animation")&&r.animation&&a.set(o,r.animation.from)}t.tlAllFrames.add(a);for(var n=0;n<t.partsClone.length;n++){var l=JSON.parse(JSON.stringify(t.partsClone[n])),c=g["a"].timeline(),d=document.querySelectorAll(".framepart"),p=d[n].querySelector(".inner");l.hasOwnProperty("animation")&&l.animation&&c.to(p,l.animation.to);for(var u=0;u<l.frames.length;u++)c.set(p,{backgroundPosition:-l.frames[u].frame.x+"px "+-l.frames[u].frame.y+"px"},"+=0.02");t.tlAllFrames.add(c,0==n?"0":"<1")}e.seekToEnd&&(t.tlAllFrames&&t.tlAllFrames.seek(t.tlAllFrames.duration()),t.stateDrag=!0)})))}},computed:qa({},Object(h["c"])(["liveFramePartEmpty","cardIsOpen","datacard","currSlide"]),{isMobile:function(){return this.$q.screen.lt.md},currImg:function(){return this.datacard.slides[this.currSlide].imageSide.images[0]},liveframe:function(){return this.currImg.liveframe},parts:function(){var t=this.liveframe&&this.liveframe.hasOwnProperty("parts")?this.liveframe.parts:null;return t},getJSON:function(){var t=JSON.parse(JSON.stringify(this.partsClone));if(t&&t.length>0){var e=!0,a=!1,s=void 0;try{for(var r,i=t[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.hasOwnProperty("frames")&&this.$delete(o,"frames"),o.hasOwnProperty("size")&&this.$delete(o,"size"),o.hasOwnProperty("transformOrigin")&&this.$delete(o,"transformOrigin"),o.hasOwnProperty("bgimage")&&this.$delete(o,"bgimage"),o.hasOwnProperty("active")&&this.$delete(o,"active")}}catch(n){a=!0,s=n}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}return t}}}),watch:{parts:{deep:!0,handler:function(t,e){console.log("newVal->",t),this.partsClone=t?JSON.parse(JSON.stringify(t)):null,this.clearAllAnimation(),this.initLiveFrame()}}},mounted:function(){this.loadaedComplete=!1,this.liveframe&&this.liveframe.hasOwnProperty("parts")&&(this.partsClone=JSON.parse(JSON.stringify(this.liveframe.parts)),this.initLiveFrame())}},_a=Ca,wa=(a("5226"),Object(O["a"])(_a,fa,ha,!1,null,null,null)),Sa=wa.exports;function ka(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function $a(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ka(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(wa,"components",{QDialog:ft["a"],QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QBtn:T["a"],QCardSection:M["a"],QToggle:vt["a"],QList:xt["a"],QItem:ht["a"],QItemSection:gt["a"],QSpace:U["a"],QSlider:Tt["a"]}),j()(wa,"directives",{ClosePopup:G["a"]}),g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height,q["c"].width;var Oa=C["a"].lighten,Pa=(C["a"].setBrand,{components:{Settings:He,Scrolltext:ra,Phrases:ma,LiveFrames:Sa},data:function(){return{oldGradientColor:"",newGradientColor:"",blobCard:!0,tlCardOpen:null,firstOpen:!0}},methods:$a({},Object(h["b"])(["getDatacard","setCurrCardForm","setSettingsMode","setCurrMusic"]),{setFormCard:function(t){this.datacard.options.form=t.name,this.setCurrCardForm(t)},setBgTextColor:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$nextTick((function(){var r=Oa(t,60);e.oldGradientColor=e.$refs.cover_face_inner.style.background,e.newGradientColor=a?"radial-gradient("+r+", "+t+")":t,g["a"].to(e.$refs.cover_face_inner,{duration:s?0:3/e.timeScale,backgroundImage:e.newGradientColor,ease:"power3"})}))},toggleCard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!(this.$refs&&!this.$refs.textSide||this.datacard&&!this.datacard.hasOwnProperty("options"))&&document.querySelector(".cover-card")&&(!this.tlCardOpen||!this.tlCardOpen.isActive())){var e=this,a=1;if(null!=t&&(e.cardIsOpen=!t),null==t||t!=e.cardIsOpen){if(this.tlCardOpen=g["a"].timeline({onComplete:function(){e.$refs.textSide&&(e.cardIsOpen?e.$refs.textSide.closeCard():e.$refs.textSide.openCard()),e.$refs.liveFrame&&(e.cardIsOpen?e.$refs.liveFrame.closeCard():e.$refs.liveFrame.openCard()),e.cardIsOpen=!e.cardIsOpen,e.blobCard=!e.cardIsOpen,"view"==e.cardMode&&e.cardIsOpen&&e.datacard.options.hasOwnProperty("music")&&e.firstOpen&&(e.setCurrMusic(e.datacard.options.music.file),e.datacard.options.music.active=!0),e.cardIsOpen&&(e.firstOpen=!1)}}),e.currImg.hasOwnProperty("liveframe")&&e.currImg.liveframe&&e.cardIsOpen&&e.$refs.liveFrame.tlAllFrames){e.$refs.liveFrame.tlAllFrames.timeScale(4);var s=e.$refs.liveFrame.tlAllFrames.time();e.tlCardOpen.add(e.$refs.liveFrame.tlAllFrames.reverse(s))}this.tlCardOpen.to(this.$refs.liveBoxFrame,{duration:.5,opacity:0}),this.tlCardOpen.set(this.$refs.btnToggle,{pointerEvents:"none"}),this.cardIsOpen||(this.tlCardOpen.set(this.$refs.btnToggle,{zIndex:1}),this.tlCardOpen.to(this.$refs.btnToggle,{duration:.25,rotateY:180}),this.tlCardOpen.to(this.$refs.btnToggle,{duration:.5,x:-1},"-=0.5")),this.tlCardOpen.to(".cover-card",{duration:a,rotateY:this.cardIsOpen?180:0,x:this.cardIsOpen?0:1}),this.cardIsOpen?this.tlCardOpen.to(".card-wrapper",{duration:a,x:-200,rotate:0},"-="+a):this.tlCardOpen.to(".card-wrapper",{duration:a,x:0,rotate:0},"-="+a),this.cardIsOpen?(this.tlCardOpen.set(this.$refs.btnToggle,{zIndex:10}),this.tlCardOpen.to(this.$refs.btnToggle,{duration:.25,rotateY:0,x:0}),this.tlCardOpen.to(this.$refs.btnToggle,{duration:.15,x:2}),this.tlCardOpen.set(this.$refs.btnToggle,{pointerEvents:"all"})):(this.tlCardOpen.set(this.$refs.btnToggle,{pointerEvents:"all"}),this.tlCardOpen.to(this.$refs.liveBoxFrame,{duration:.5,opacity:1}))}}}}),computed:$a({},Object(h["c"])(["currCardForm","overlayOptions","settingsMode","datacard","currSlide","timeScale","cardMode"]),{currImg:function(){return this.datacard.slides[this.currSlide].imageSide.images[0]},formPath:function(){return this.currCardForm?"url(#"+this.currCardForm.name+")":"none"},formPathFlip:function(){return this.currCardForm?"url(#"+this.currCardForm.name+"-flip)":"none"},cardIsOpen:{get:function(){return this.$store.getters.cardIsOpen},set:function(t){this.$store.dispatch("setCardIsOpen",t)}},hlyastick_style:function(){return this.currCardForm.btn_toggle_style},overlayImage:function(){var t=this.datacard.slides[this.currSlide].imageSide.images[0].overlay.name,e=d.a.find(this.overlayOptions,{value:t});return{src:"none"==e.src?"none":"url("+e.src+")",mirror:!!e.hasOwnProperty("mirror")&&e.mirror,center:!!e.hasOwnProperty("center")&&e.center}}})}),ja=Pa,Ia=Object(O["a"])(ja,W,Y,!1,null,null,null),za=Ia.exports;j()(Ia,"components",{QBtn:T["a"],QImg:V["a"],QItemSection:gt["a"],QItemLabel:bt["a"]});var Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-splitter",{style:{height:t.isMobile?"80vh":"50vh"},scopedSlots:t._u([{key:"before",fn:function(){return[a("q-tabs",{staticClass:"text-primary",attrs:{vertical:"","no-caps":"",dense:t.isMobile},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},["ru"==t.$i18n.locale?a("q-tab",{attrs:{name:"about",icon:"book",label:"О проекте"}}):t._e(),a("q-tab",{attrs:{name:"sponsors",icon:"monetization_on",label:t.$t("main.sponsors")}},[t.countNewSponsors>0?a("q-badge",{staticStyle:{"font-family":"Roboto"},attrs:{color:"purple","text-color":"white",floating:""}},[t._v("+"+t._s(t.countNewSponsors))]):t._e()],1),"ru"==t.$i18n.locale?a("q-tab",{attrs:{name:"news",icon:"date_range",label:"Новости"}}):t._e(),a("q-tab",{attrs:{name:"contacts",icon:"email",label:t.$t("main.contacts")}})],1)]},proxy:!0},{key:"after",fn:function(){return[a("q-tab-panels",{attrs:{animated:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"about"}},[a("img",{staticStyle:{float:"left",margin:"0 15px 15px 0"},attrs:{src:"statics/img/logo_Emmi.fun.jpg",height:"80",width:"80"}}),a("span",[t._v("Приветствуем Вас, уважаемый пользователь сервиса "),a("b",[t._v("Emmi.fun!")])]),a("br"),a("br"),a("br"),t._v('\n          Мы живем в эпоху "диджитализации" '),a("span",{staticClass:"text-grey"},[t._v("(какое сложное слово)")]),t._v("."),a("br"),t._v("\n          По идее все должно упрощаться, стать более удобным, но на самом деле все почему-то усложняется..."),a("br"),t._v("\n          Родилась идея, создать что-то простое, работающее на всех устройствах. Не отнимающее много времении и нервов на создание поздравления, приглашения и т.п."),a("br"),a("br"),a("div",{staticClass:"full-width text-center"},[t._v("Очень надеемся, что Вы оцените то, что мы реализовали для Вас.")]),a("br"),a("u",[t._v("Какие шаги мы сделали, чтобы Вам было комфортно у нас?")]),a("br"),a("ol",{staticClass:"text-primary"},[a("li",[a("b",[t._v("Нет "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(" регистрации ")]),t._v(" (БЕЗОПАСНО)")]),a("br"),a("span",{staticClass:"q-ml-sm text-grey-7"},[t._v("- Да, на этом сайте Вы никогда не найдете ввода персональных данных, номера телефона, не будете проходить проверку каптчи, подтверждение почтового ящика и т.п. Все это ушло в небытие... "),a("br"),t._v("\n                Можно просто зайти и сделать открытку. Все!"),a("br")])]),a("li",{staticClass:"q-mt-md"},[a("b",[t._v("Нет "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(" оплаты ")])]),a("br"),a("span",{staticClass:"q-ml-sm text-grey-7"},[t._v("- Да, здесь нет "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v("VIP")]),t._v(" или "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v("PRO")]),t._v(" статусов. Все новые функции будут доступны для всех пользователей всегда БЕСПЛАТНО!")])]),a("li",{staticClass:"q-mt-md"},[a("b",[t._v("Нет "),a("span",{staticStyle:{"text-decoration":"line-through"}},[t._v(" назойливой ")]),t._v(" рекламы")]),a("br"),a("span",{staticClass:"q-ml-sm text-grey-7"},[t._v("- Реклама здесь есть! НО! Получатель ее никогда не увидит. Мы считаем не корректным отправлять персноальную открытку с рекламой. Нам кажется, что это схоже с ценником на подарке ))) Возможно не удачный пример, но смысл понятен.")])])]),a("u",[t._v("Вероятно у Вас возникло много вопросов?")]),a("br"),a("ol",{staticClass:"text-primary"},[a("li",[a("b",[t._v("- В чем подвох")]),a("br"),a("span",{staticClass:"q-ml-sm text-grey-7"},[t._v("- Нет никакого подвоха. Мы действительно хотим, чтобы Вам было комфортно с нами, а Ваши получатели были приятно удивлены."),a("br"),t._v("\n                Да, кстати, мы хотели бы получать обратную связь."),a("br"),t._v("\n                Если у Вас есть хорошая идея или Вы просто хотите поделиться впечатлениями о сервисе, напишите нам на почту hi@emmi.fun (кртитика также приветствуется ;-)."),a("br"),t._v("\n              Мы обязательно Вам ответим.")])]),a("li",{staticClass:"q-mt-md"},[a("b",[t._v(" - На что живет сервис?")]),a("br"),a("span",{staticClass:"q-ml-sm text-grey-7"},[t._v('- Тут все просто) Как мы и писали выше, реклама на сайте есть, она интегрирована в кнопку "Подарить подарок". С Вашей открыткой Вы можете подарить реальный подарок (через сервисы наших партнеров - спонсоров).\n                Это могут быт как цветы, так и другие подарки.'),a("br"),a("br"),t._v("\n                Также (исключительно по желанию!) Вы можете "),a("q-btn",{staticStyle:{"font-size":"18px"},attrs:{"no-caps":"",dense:""},on:{click:function(e){t.tab="sponsors"}}},[t._v("стать нашим спонсором")]),t._v(". В комментарии Вы можете указать ссылку на Ваш сайт или на любой канал в социальных сетях (например YOUTUBE) и тематику сайта/канала."),a("br"),t._v("\n                Каждую неделю мы публикуем список в разделе МЕНЮ -> СПОНСОРЫ.")],1)])]),a("div",{staticClass:"full-width text-center"},[t._v("\n            Ну вот мы и познакомились, вперед к созданию открыток!\n            "),a("img",{staticClass:"q-mt-md",attrs:{src:"statics/img/logo_Emmi.fun.jpg"}})])]),a("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"sponsors"}},[a("q-list",{staticClass:"rounded-borders text-primary",attrs:{separator:""}},[a("q-item",{attrs:{align:"left"}},[a("q-item-section",{staticClass:"row"},[a("q-item-label",{staticClass:"text-black",staticStyle:{"font-size":"20px"}},[a("span",{staticClass:"text-bold"},[t._v("\n                  "+t._s(t.$t("main.our_sponsor"))+"\n                ")])]),a("q-item-label",{attrs:{caption:""}},[t._v("\n                  "+t._s(t.$t("main.updated_week"))+"\n                ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{icon:"add",label:t.$t("main.donate"),color:"green"},on:{click:function(e){t.sponsorState=!t.sponsorState}}})],1)],1),a("q-slide-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.sponsorState,expression:"sponsorState"}],staticClass:"sponsor"},[a("iframe",{staticClass:"sponsor",attrs:{src:"https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9D%D0%B0%20%D1%80%D0%B0%D0%B7%D0%B2%D0%B8%D1%82%D0%B8%D0%B5%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0%20emmi.fun&targets-hint=&default-sum=100&button-text=13&payment-type-choice=on&mobile-payment-type-choice=on&comment=on&mail=on&hint=%D0%9D%D0%B0%D0%BF%D0%B8%D1%88%D0%B8%D1%82%D0%B5%20%D0%BD%D0%B0%D0%BC%20%D1%87%D1%82%D0%BE-%D0%BD%D0%B8%D0%B1%D1%83%D0%B4%D1%8C&successURL=&quickpay=shop&account=410011170708068",width:"100%",height:"313",frameborder:"0",allowtransparency:"true",scrolling:"no"}})])]),t._l(t.listSponsors,(function(e,s){return a("q-item",{key:s},[e.hasOwnProperty("avatar")?a("q-item-section",{attrs:{avatar:""}},[a("q-img",{attrs:{src:"statics/img/sponsors/"+e.avatar,ratio:"1"}})],1):t._e(),a("q-item-section",[a("q-item-label",{staticClass:"text-bold",attrs:{lines:"1"}},[t._v(t._s(e.name))]),a("q-item-label",{staticStyle:{"font-family":"Verdana"}},[a("q-icon",{attrs:{name:e.icon,color:e.color,size:"20px"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"","no-caps":"",dense:"",type:"a",href:e.link,target:"__blank",size:"14px"}},[t._v(t._s(e.linkname))])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.amount))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.date))])],1)],1)}))],2),a("q-separator")],1),a("q-tab-panel",{attrs:{name:"news"}},[a("q-list",{staticClass:"text-primary"},t._l(t.listNews,(function(e,s){return a("q-item",{key:s},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{style:{"font-size":e.iconsize+"px"},attrs:{name:e.icon,color:e.iconcolor}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                  "+t._s(e.text)+"\n                ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{caption:""}},[a("q-icon",{attrs:{name:"date_range"}}),t._v(" "+t._s(e.date))],1)],1)],1)})),1)],1),a("q-tab-panel",{staticClass:"text-center",attrs:{name:"contacts"}},[a("span",{staticStyle:{"font-family":"Verdana"}},[t._v("hi@emmi.fun")]),t._v(" - "+t._s(t.$t("main.our_email"))+". "),a("br"),t._v("\n         "+t._s(t.$t("main.write_answer"))+"."),a("br"),a("img",{staticClass:"q-mt-md",attrs:{src:"statics/img/logo_Emmi.fun.jpg",width:"150"}})])],1)]},proxy:!0}]),model:{value:t.splitterModel,callback:function(e){t.splitterModel=e},expression:"splitterModel"}})},Fa=[];a("b06b");function Ta(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ma(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ta(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ta(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Qa={data:function(){return{tab:"about",splitterModel:20,sponsorState:!1}},computed:Ma({},Object(h["c"])(["listSponsors","listNews"]),{countNewSponsors:function(){return _.filter(this.listSponsors,(function(t){return t.new})).length},isMobile:function(){return this.$q.screen.lt.md}}),watch:{"$i18n.locale":{deep:!0,handler:function(t,e){this.tab="ru"!=t?"sponsors":"about"}}},mounted:function(){this.tab="ru"!=this.$i18n.locale?"sponsors":"about"}},La=Qa,Aa=(a("e394"),a("8562")),Ea=a("adad"),Na=a("823b"),Ba=Object(O["a"])(La,Da,Fa,!1,null,null,null),Ra=Ba.exports;j()(Ba,"components",{QSplitter:Aa["a"],QTabs:Bt["a"],QTab:Rt["a"],QBadge:Q["a"],QTabPanels:Ea["a"],QTabPanel:Na["a"],QBtn:T["a"],QList:xt["a"],QItem:ht["a"],QItemSection:gt["a"],QItemLabel:bt["a"],QSlideTransition:B["a"],QIcon:F["a"],QImg:V["a"],QSeparator:A["a"]});var Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.id}})},Ua=[],Va={name:"google-recaptcha-v3",props:{action:{type:String,required:!1,default:"validate_grecaptcha"},id:{type:String,required:!1,default:"grecaptcha_container"},siteKey:{type:String,required:!1,default:""},inline:{type:Boolean,required:!1,default:!1}},data:function(){return{captchaId:null}},mounted:function(){this.init()},methods:{init:function(){if(document.getElementById("gRecaptchaScript"))window.grecaptcha&&window.grecaptcha.render?this.render():window.gRecaptchaOnLoadCallbacks.push(this.render);else{window.gRecaptchaOnLoadCallbacks=[this.render],window.gRecaptchaOnLoad=function(){for(var t=0;t<window.gRecaptchaOnLoadCallbacks.length;t++)window.gRecaptchaOnLoadCallbacks[t]();delete window.gRecaptchaOnLoadCallbacks,delete window.gRecaptchaOnLoad};var t=document.createElement("script");t.setAttribute("src","https://www.google.com/recaptcha/api.js?render=explicit&onload=gRecaptchaOnLoad"),t.setAttribute("id","gRecaptchaScript"),t.async=!0,t.defer=!0,document.head.appendChild(t)}},render:function(){this.captchaId=window.grecaptcha.render(this.id,{sitekey:this.siteKey,badge:!0===this.inline?"inline":"",size:"invisible","expired-callback":this.execute}),this.execute()},execute:function(){var t=this;window.grecaptcha.execute(this.captchaId,{action:this.action}).then((function(e){t.$emit("input",e)}))}}},Ga=Va,Ha=Object(O["a"])(Ga,Ja,Ua,!1,null,null,null),Xa=Ha.exports,Wa=a("0098");function Ya(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ka(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ya(Object(a),!0).forEach((function(e){l()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ya(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}g["a"].registerPlugin(b["a"],v["a"],y["a"],x["a"]);q["c"].height;var Za=q["c"].width,ts=(C["a"].lighten,C["a"].setBrand,a("c1df"));a("957c");var es={components:{GiftImage:X,CardFlip:za,dialogMenu:Ra,GoogleReCaptchaV3:Xa,YandexShare:Wa["a"]},props:[],data:function(){return{langsApp:[{name:"ru"},{name:"en"},{name:"ua"}],siteKey:"6LcaTdcUAAAAAAniYlVRRJnmo7IjeHfE2cT5HXKy",addBtnPosX:null,dialogMenu:!1,menuMobile:!1,form:{gRecaptchaResponse:null},hiWindow:!0,isReady:!1,dialogActionBnts:!0,dialogCardReady:!1,uniqcard:""}},computed:Ka({},Object(h["c"])(["host","apiurl","cardMode","settingsMode","timeScale","datacard","datacardEmpty","musicIsloaded","cardIsOpen","currSlide","currMusic","music","dialogGiftImage"]),{dialogGiftImage:{get:function(){return this.$store.state.glob.dialogGiftImage},set:function(t){this.$store.commit("setDialogGiftImage",t)}},menu:function(){return[{icon:"icon-brush",label:this.$t("main.design"),name:"decor"},{icon:"icon-add-anim-text",label:this.$t("main.text"),name:"text"},{icon:"icon-add-image",label:this.$t("main.photo"),name:"image"},{icon:"music_note",label:this.$t("main.music"),name:"music"}]},directionAddBtnMenuMobile:function(){return this.addBtnPosX&&this.addBtnPosX>this.$q.screen.width/2?"left":"right"},scaleCard:function(){var t=Math.min(this.$q.screen.width/900,this.$q.screen.height/450);return t<1?t:1},isMobile:function(){return this.$q.screen.lt.md},cardIsOpen:{get:function(){return this.$store.getters.cardIsOpen},set:function(t){this.$store.dispatch("setCardIsOpen",t)}},marginCardLeft:function(){return(this.$q.screen.width-Za(document.querySelector("#main-card")))/3}}),methods:Ka({},Object(h["b"])(["setMusicIsloaded","setCardMode","setTimeScale","setSettingsMode","setDatacard","getLibLiveFrames","getLibForms","getLibPhrases","getLibCovers","getDatacard","getLibBackgrounds","getListSponsors","getListNews","getLibMusic","getPricesAll","createNewCard","setMusic"]),{initMusic:function(){var t=this;if(this.music&&this.music.unload(),this.currMusic){this.setMusicIsloaded(!1);var e=new Howl({src:["statics/musics/"+this.currMusic],autoplay:!0,loop:!0,volume:.5,onload:function(){console.log("on load"),t.setMusicIsloaded(!0)},onplay:function(){console.log("onplay")},onpause:function(){console.log("onpause")},onstop:function(){console.log("onstop")},onend:function(){console.log("onend")}});this.setMusic(e)}else console.log("no MUSIC")},onCopyClipboard:function(t){var e=this;this.$copyText(this.host+"/#/card/"+this.uniqcard).then((function(t){e.$q.notify({icon:"info",message:e.$t("main.copy_success"),timeout:3e3,html:!0,color:"accent"})}),(function(t){e.$q.notify({icon:"not_interested",message:e.$t("main.create_fail_try_again"),timeout:0,html:!0,color:"primary",actions:[{icon:"close",color:"white"}]})}))},createCard:function(){var t=this;this.form.datacard=JSON.stringify(this.datacard),this.createNewCard(this.form).then((function(e){if(e.status>=400||!e.hasOwnProperty("uniq"))return t.$refs.captcha&&t.$refs.captcha.execute(),void t.$q.notify({icon:"not_interested",message:t.$t("main.create_fail_try_again"),timeout:0,html:!0,color:"primary",actions:[{icon:"close",color:"white"}]});t.$refs.captchaMenu.hide(),t.uniqcard=e.uniq,t.openDialogCardReady()}))},openDialogCardReady:function(){this.setSettingsMode(""),this.dialogCardReady=!0,this.menuMobile=!1},checkRoute:function(){var t=this;this.isReady=!1,this.setDatacard(null);var e=null;this.cardIsOpen=!1,this.setCardMode("create"),this.$route.params.hasOwnProperty("card")&&(e={url:this.host+"/"+this.apiurl+"/getcard?uniq="+this.$route.params.card},this.setCardMode("view")),this.getDatacard(e).then((function(e){if(e.status>=400)return t.$q.notify({icon:"not_interested",message:t.$t("main.postcard_not_found"),timeout:5e3,html:!0,color:"primary",actions:[{icon:"close",color:"white"}]}),t.setCardMode("create"),void(document.querySelector(".btn-create-card")&&(g["a"].set(".btn-create-card",{y:50,opacity:0}),g["a"].to(".btn-create-card",{duration:1,y:0,opacity:1,delay:.5})));t.$refs.captchaMenu&&t.$refs.captchaMenu.hide();var a=t.getLibLiveFrames(),s=t.getLibForms(),r=t.getLibPhrases(),i=t.getLibCovers(),n=t.getLibBackgrounds(),l=t.getListSponsors(),c=t.getListNews(),p=t.getLibMusic(),u=t.getPricesAll();Promise.all([a,s,r,i,n,l,c,p,u]).then((function(e){var a=o()(e,9),s=(a[0],a[1]),r=(a[2],a[3],a[4],a[5]);a[6],a[7],a[8];if("view"==t.cardMode){t.hiWindow=!1;var i=d.a.find(s.forms,{name:t.datacard.options.form});t.$refs.cardFlip&&t.$refs.cardFlip.setFormCard(i)}if("create"==t.cardMode){t.$refs.cardFlip&&t.$refs.cardFlip.setFormCard(s.forms[0]);var n=ts();d.a.each(r,(function(e){var a=ts(e.date,"DD.MM.YYYY"),s=n.diff(a,"days");s<7&&t.$set(e,"new",!0)}))}t.isReady=!0,t.$refs.cardFlip&&t.$refs.cardFlip.setBgTextColor("#ffffff",!0,!1),t.$refs.cardIsLoaded=t.isReady,t.$nextTick((function(){t.$refs.cardFlip&&t.$refs.cardFlip.toggleCard(!1)}))})).catch((function(t){console.log("error",t)}))})).catch((function(t){console.log("response",t)}))},restartComponents:function(){this.$refs.cardFlip&&this.$refs.cardFlip.$refs.textSide.restartComponent()}}),watch:{currMusic:function(t){this.initMusic()},settingsMode:function(t,e){""==t&&this.datacard&&(document.querySelector(".btns-menu")&&g["a"].from(".btns-menu .q-btn",{x:200,duration:.5,opacity:0,ease:"back.out(0)",stagger:.1}),g["a"].to(document.querySelector("#main-card"),{x:0,duration:.5})),"decor"==t&&(this.$refs.cardFlip&&this.$refs.cardFlip.toggleCard(!1),this.isMobile&&this.$refs.cardFlip&&g["a"].to(document.querySelector("#main-card"),{x:-(200+this.marginCardLeft),duration:.5}))},isReady:function(t,e){t&&this.datacard&&document.querySelector(".btn-create-card")&&(g["a"].set(".btn-create-card",{y:50,opacity:0}),g["a"].to(".btn-create-card",{duration:1,y:0,opacity:1,delay:.5}))},$route:function(t,e){this.checkRoute()}},mounted:function(){if("create"==this.cardMode&&(g["a"].set(".btn-create-card",{y:50,opacity:0}),this.isMobile)){var t=this;v["a"].create("#addMenuMobileBtn",{type:"left",bounds:{left:5,width:t.$q.screen.width-30},zIndexBoost:!1,onPress:function(t){},onRelease:function(t){},onDrag:function(e){t.addBtnPosX=e.x}})}this.setSettingsMode(""),this.checkRoute()}},as=es,ss=a("9989"),rs=a("de5e"),is=a("0378"),os=a("c294"),ns=Object(O["a"])(as,s,r,!1,null,null,null);e["default"]=ns.exports;j()(ns,"components",{QPage:ss["a"],QDialog:ft["a"],QBtn:T["a"],QCard:I["a"],QToolbar:z["a"],QToolbarTitle:D["a"],QCardSection:M["a"],QPageSticky:rs["a"],QTooltip:J["a"],QIcon:F["a"],QMenu:yt["a"],QSeparator:A["a"],QForm:is["a"],QFab:os["a"],QSpace:U["a"]}),j()(ns,"directives",{ClosePopup:G["a"]})},e394:function(t,e,a){"use strict";var s=a("b3ce"),r=a.n(s);r.a}}]);